<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.8" />
<title>Intel&#174; Integrated Performance Primitives Samples</title>
<style type="text/css">
/* Custom theme based on CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body, thead, p.table.header, div.title, caption.title
{
    font-family: Verdana, Arial, sans-serif;
    font-size: 10pt;
}
/*
thead, p.table.header
{
    font-size: 1em;
}*/

/* Title font. */
/*h1, h2, h3, h4, h5, h6,
#toctitle, #author, #revnumber, #revdate, #revremark, #footer
{
    font-family: "Neo Sans Intel",Tahoma,Arial,Helvetica,sans-serif;
}*/

body
{
    color: #333333;
    background-color: #ffffff;
    margin: 1em 5% 1em 5%;
}

img
{
    max-width: 100%;
    table-layout: fixed;
}

div.imageblock img
{
    border-bottom: 1px solid #bababa;
    border-top: 1px solid #bababa;
}

div.listingblock > div.content
{
    font-size: 0.9em;
    overflow: auto;
}

a
{
    color: #0860a8;
    text-decoration: underline;
}
a:visited
{
    color: #0860a8;
}

em
{
    font-style: italic;
/*    color: navy;*/
}

strong
{
    font-weight: bold;
/*    color: #0860a8;*/
}

h1, h2, h3, h4, h5, h6
{
    font-weight: normal;
    color: #0860a8;
    margin-top: 1.0em;
    margin-bottom: 0.5em;
/*    line-height: 1.3;*/
}

h1 {
  border-bottom: 2px solid #0860A8;
  font-size: 2.0em;
/*  color: black;*/
}
h2
{
/*    border-bottom: 1px solid #0860A8;*/
    font-size: 1.5em;
}
h3
{
/*  margin-top: 0.5em;*/
    font-size: 1.5em;
/*  float: left;*/
}/*
h3 + * {
  clear: left;
}*/
h4
{
    font-size: 1.5em;
}
h5
{
/*  margin-top: 1.5em;*/
    font-size: 1.5em;
}

div.sectionbody
{
    margin-left: 0;
}

hr
{
    border: 1px solid #0860A8;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: #333333; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
/*  color: navy;*/
  padding: 0;
  margin: 0;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
    font-weight: bold;
    text-align: left;
    margin-top: 1em;
    margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  font-weight: bold;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  font-weight: bold;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

/*
 * TOC control
*/

#toc
{
    background-color: #f1f1f1;
}

#toctitle
{
    border-bottom: 2px solid silver;
    color: #333333;
    font-size: 15pt;
    font-weight: normal;
    margin-top: 1.0em;
    margin-bottom: 0.5em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4
{
    margin-top: 0;
    margin-bottom: 0;
}
div.toclevel0 > a, div.toclevel1 > a, div.toclevel2 > a, div.toclevel3 > a, div.toclevel4 > a
{
    text-decoration: none;
    color: #333333;
}
div.toclevel0 > a:hover, div.toclevel1 > a:hover, div.toclevel2 > a:hover, div.toclevel3 > a:hover, div.toclevel4 > a:hover
{
    text-decoration: underline;
}
div.toclevel0
{
    margin-top: 0.5em;
    color: black;
    font-weight: bold;
}
div.toclevel1
{
    margin-top: 0.5em;
    margin-left: 0.8em;
}
div.toclevel2
{
    list-style-type: circle;
    display: list-item;
    margin-top: 0.5em;
    margin-left: 2em;
}
div.toclevel3
{
    list-style-type: square;
    display: list-item;
    margin-top: 0.2em;
    margin-left: 3.8em;
    font-size: 0.8em;
}
div.toclevel4
{
    display: list-item;
    margin-top: 0.2em;
    margin-left: 5.1em;
    font-size: 0.8em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * Tables control
*/

div.tableblock
{
    margin-top: 1.0em;
    margin-bottom: 1.5em;
    border-color: #bababa;
}
div.tableblock > table
{
    border-collapse: collapse;
    border: 1px solid #bababa;
}
td, th, tr, thead, tfoot, tbody, table,p.table
{
    border-color: #bababa;
}
thead, p.table.header
{
    font-weight: bold;
    background-color: #555555;
    border-color: #bababa;
    color: #FFFFFF;
}
p.table
{
    margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"]
{
    border-style: none;
}
div.tableblock > table[frame="hsides"]
{
    border-left-style: none;
    border-right-style: none;
}
div.tableblock > table[frame="vsides"]
{
    border-top-style: none;
    border-bottom-style: none;
}

/* TOC2 and images width control */
@media print
{
    body.manpage div#toc { display: none; }
}

@media screen
{
    body
    {
        max-width: 60em; /* approximately 80 characters wide */
        margin-left: 25em;
    }
    #toc
    {
        min-width: 17em;
        max-width: 22em;
    }
}


@media screen {
  #toc {
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    padding: 0.5em;
    margin: 0;
    overflow: auto;
  }
}
</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install(4);
/*]]>*/
</script>
</head>
<body class="book">
<div id="header">
<h1>Intel&#174; Integrated Performance Primitives Samples</h1>
<div id="toc">
  <div id="toctitle">Table of Contents</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<h1 id="disclaimer" style="font-size:6pt; color:#FFFFFF; border-style:hidden; margin:0px;">Disclaimer</h1>

<font size="-3">
<p><font size="-3">INFORMATION IN THIS DOCUMENT IS PROVIDED IN CONNECTION WITH INTEL PRODUCTS.
NO LICENSE, EXPRESS OR IMPLIED, BY ESTOPPEL OR OTHERWISE, TO ANY INTELLECTUAL
PROPERTY RIGHTS IS GRANTED BY THIS DOCUMENT. EXCEPT AS PROVIDED IN INTEL'S
TERMS AND CONDITIONS OF SALE FOR SUCH PRODUCTS, INTEL ASSUMES NO LIABILITY
WHATSOEVER, AND INTEL DISCLAIMS ANY EXPRESS OR IMPLIED WARRANTY, RELATING
TO SALE AND/OR USE OF INTEL PRODUCTS INCLUDING LIABILITY OR WARRANTIES
RELATING TO FITNESS FOR A PARTICULAR PURPOSE, MERCHANTABILITY, OR INFRINGEMENT
OF ANY PATENT, COPYRIGHT OR OTHER INTELLECTUAL PROPERTY RIGHT.<br>
A   "Mission Critical Application" is any application in which failure of the   Intel Product could result, directly or indirectly, in personal injury or death.   SHOULD YOU PURCHASE OR USE INTEL'S PRODUCTS FOR ANY SUCH MISSION CRITICAL   APPLICATION, YOU SHALL INDEMNIFY AND HOLD INTEL AND ITS SUBSIDIARIES,   SUBCONTRACTORS AND AFFILIATES, AND THE DIRECTORS, OFFICERS, AND EMPLOYEES OF   EACH, HARMLESS AGAINST ALL CLAIMS COSTS, DAMAGES, AND EXPENSES AND REASONABLE   ATTORNEYS' FEES ARISING OUT OF, DIRECTLY OR INDIRECTLY, ANY CLAIM OF PRODUCT   LIABILITY, PERSONAL INJURY, OR DEATH ARISING IN ANY WAY OUT OF SUCH MISSION   CRITICAL APPLICATION, WHETHER OR NOT INTEL OR ITS SUBCONTRACTOR WAS NEGLIGENT IN   THE DESIGN, MANUFACTURE, OR WARNING OF THE INTEL PRODUCT OR ANY OF ITS PARTS.</font></p>
</font>
<p><font size="-3"> Intel may make changes to specifications and product descriptions at any time,
  without notice. Designers must not rely on the absence or characteristics of any
  features or instructions marked "reserved" or "undefined." Intel reserves these
  for future definition and shall have no responsibility whatsoever for conflicts
  or incompatibilities arising from future changes to them. The information here
  is subject to change without notice. Do not finalize a design with this
  information. <br>
  The products described in this document may contain design defects or errors
  known as errata which may cause the product to deviate from published
  specifications. Current characterized errata are available on request. <br>
  Contact your local Intel sales office or your distributor to obtain the latest
  specifications and before placing your product order. <br>
  Copies of documents which have an order number and are referenced in this
  document, or other Intel literature, may be obtained by calling 1-800-548-4725,
  or go to:
  <a href="http://www.intel.com/design/literature.htm">http://www.intel.com/design/literature.htm</a> <br>
  Intel processor numbers are not a measure of performance. Processor numbers
  differentiate features within each processor family, not across different
  processor families. See <a href="http://www.intel.com/products/processor_number"> <a href="http://www.intel.com/products/processor_number/">http://www.intel.com/products/processor_number/</a></a> for details. </font></p>

<p><font size="-3"> BlueMoon, BunnyPeople, Celeron, Celeron Inside, Centrino, Centrino Inside, Core Inside,
  i960, Intel, the Intel logo, Intel Atom, Intel Atom Inside, Intel Core,
  Intel Inside, Intel Inside logo, Intel NetBurst, Intel NetMerge,
  Intel NetStructure, Intel SingleDriver, Intel SpeedStep,
  Intel Sponsors of Tomorrow., the Intel Sponsors of Tomorrow. logo,
  Intel StrataFlash, Intel Viiv, Intel vPro, Intel XScale, InTru, the InTru logo,
  InTru soundmark, Itanium, Itanium Inside, MCS, MMX, Moblin, Pentium,
  Pentium Inside, skoool, the skoool logo, Sound Mark, The Journey Inside,
  vPro Inside, VTune, Xeon, and Xeon Inside
  are trademarks of Intel Corporation in the U.S. and other countries. <br>
  * Other names and brands may be claimed as the property of others. </font></p>

<p><font size="-3"> Microsoft, Windows, Visual Studio, Visual C++, and the Windows logo are
  trademarks, or registered trademarks of Microsoft Corporation
  in the United States and/or other countries. </font></p>

<p><font size="-3">Java is a registered trademark of Oracle and/or its affiliates. </font></p>

<p><font size="-3"> Copyright (C) 2002-2012 Intel Corporation. All rights reserved. </font></p>



<p id="IPP_SAMPLES_OptNotice">
<div class="tablenoborder">
<table cellpadding="4" summary="" id="d3135e12" frame="border" border="1" cellspacing="0" rules="all">
  <thead align="left">
    <tr><th class="cellrowborder" align="left" valign="top" width="100%" id="d157258e36"><p>Optimization Notice</p></th></tr>
  </thead>

  <tbody>
    <tr><td class="bgcolor(#ccecff)" bgcolor="#ccecff" valign="top" width="100%" headers="d157258e36 ">
    <p>Intel's compilers may or may not optimize to the same degree for non-Intel microprocessors for optimizations that are not
    unique to Intel microprocessors. These optimizations include SSE2, SSE3, and SSSE3 instruction sets and
    other optimizations. Intel does not guarantee the availability, functionality, or effectiveness of
    any optimization on microprocessors not manufactured by Intel.
    <br>
    <br>
    Microprocessor-dependent optimizations in this product are intended for use with Intel microprocessors. Certain optimizations not specific to Intel microarchitecture are reserved for Intel microprocessors. Please refer to the applicable product User and Reference Guides for more information regarding the specific instruction sets covered by this notice.</p>
    <p>Notice revision #20110804 </p>
    </td></tr>
  </tbody>
</table>
</div>
</p>
</div>
</div>
<h1 id="_license_definitions">License Definitions</h1>
<div class="paragraph"><p>By downloading and installing this sample, you hereby agree that the
accompanying materials are being provided to you under the terms and
conditions of the End User License Agreement for the Intel&#174;
Integrated Performance Primitives (Intel&#174; IPP) product previously accepted by you.

Please refer to the file <strong>ippEULA.rtf</strong> or <strong>ippEULA.txt</strong> located in the root directory of your Intel&#174; IPP Samples
installation for more information.</p></div>
<h1 id="_system_requirements">System Requirements</h1>
<div class="paragraph"><p>Recommended hardware:</p></div>
<div class="ulist"><ul>
<li>
<p>
A system based on a 2nd Generation Intel&#174; Core&#8482; i3, i5, i7 or newer processor
</p>
</li>
</ul></div>
<div class="paragraph"><p>Hardware requirements:</p></div>
<div class="ulist"><ul>
<li>
<p>
A system based on the Intel&#174; Pentium&#174; processor, Intel&#174; Xeon&#174; processor, or subsequent IA-32 architecture based system
</p>
</li>
<li>
<p>
A system based on a processor with Intel&#174; 64 architecture
</p>
</li>
</ul></div>
<div class="paragraph"><p>Software requirements:</p></div>
<div class="ulist"><ul>
<li>
<p>
Intel&#174; IPP 7.1
</p>
</li>
<li>
<p>
Intel&#174; Composer XE 2013 or Intel&#174; Composer XE 2011 SP1
</p>
</li>
<li>
<p>
CMake* 2.8.8
</p>
</li>
<li>
<p>
Perl 5.12.2
</p>
</li>
</ul></div>
<div class="paragraph"><p>OS specific software requirements:</p></div>
<div class="ulist"><ul>
<li>
<p>
Windows* OS: Microsoft* Visual Studio* 2008 SP1, 2010 or 2012
</p>
</li>
<li>
<p>
Linux*   OS: GCC 3.x or GCC 4.x
</p>
</li>
<li>
<p>
OS X*    OS: GCC 4.x
</p>
</li>
</ul></div>
<div class="paragraph"><p>For more information please see <a href="http://software.intel.com/en-us/articles/intel-ipp-71-library-system-requirements/">Intel&reg; IPP System Requirements</a>.</p></div>
<h1 id="_installation_and_build">Installation and Build</h1>
<div class="paragraph"><p>In order to build Intel&#174; IPP samples, you need to download and install the following free software:</p></div>
<div class="ulist"><ul>
<li>
<p>
CMake* open-source build system from <a href="http://cmake.org/cmake/resources/software.html">http://cmake.org/cmake/resources/software.html</a>
according to your operating system.
</p>
</li>
<li>
<p>
ActivePerl Community Edition from <a href="http://www.activestate.com/activeperl/downloads">http://www.activestate.com/activeperl/downloads</a> to
build samples on Windows*.  (Strawberry Perl and others such as those shipped with msys
or cygwin are also expected to work, but have not been validated.)
</p>
</li>
</ul></div>
<div class="paragraph"><p>On Windows* start command-line window, on Linux*, or OS X*, start terminal emulation
window.</p></div>
<div class="ulist"><ul>
<li>
<p>
Extract the files from the samples package to the desired destination folder. Make sure that the directory structure is preserved.
</p>
</li>
<li>
<p>
You can find source files in the <strong>sources</strong> folder.
</p>
</li>
<li>
<p>
The build script is in the <strong>builder</strong> folder
</p>
</li>
</ul></div>
<div class="admonitionblock" id="run_win">
<table><tr>
<td class="icon">
<img src="./images/icons/important.png" alt="Important" />
</td>
<td class="content">
<div class="title">Running Intel&#174; IPP Samples on Windows*</div>
<div class="paragraph"><p>To run these samples on Windows* you must add the Intel&#174; IPP DLLs to the system path. DLLs are located in <strong>bin</strong>
subdirectory of the root directory of the Intel&#174; IPP installation (<strong>%IPPROOT%</strong>). This can be done by setting the
<strong>PATH</strong> environment variable manually or invoking the batch file</p></div>
<div class="listingblock">
<div class="content">
<pre><code>%IPPROOT%\bin\ippvars.bat [intel64|ia32]</code></pre>
</div></div>
<div class="paragraph"><p>With Intel&#174; Composer XE installed you can also run</p></div>
<div class="listingblock">
<div class="content">
<pre><code>%IPPROOT%\..\bin\compilervars.bat [intel64|ia32]</code></pre>
</div></div>
</td>
</tr></table>
</div>
<div class="admonitionblock" id="run_lin">
<table><tr>
<td class="icon">
<img src="./images/icons/important.png" alt="Important" />
</td>
<td class="content">
<div class="title">Running Intel&#174; IPP Samples on Linux*</div>
<div class="paragraph"><p>Make sure the Intel&#174; IPP is installed correctly and <strong>LD_LIBRARY_PATH</strong> environment variable contains path to the
Intel&#174; IPP binary before executing the sample.  This can be done with</p></div>
<div class="listingblock">
<div class="content">
<pre><code>source /opt/intel/ipp/bin/ippvars.sh [intel64|ia32]</code></pre>
</div></div>
<div class="paragraph"><p>With Composer XE installed you can also run</p></div>
<div class="listingblock">
<div class="content">
<pre><code>source /opt/intel/bin/compilervars.sh [intel64|ia32]</code></pre>
</div></div>
</td>
</tr></table>
</div>
<div class="admonitionblock" id="run_osx">
<table><tr>
<td class="icon">
<img src="./images/icons/important.png" alt="Important" />
</td>
<td class="content">
<div class="title">Running Intel&#174; IPP Samples on OS X*</div>
<div class="paragraph"><p>Make sure the Intel&#174; IPP is installed correctly and <strong>DYLD_LIBRARY_PATH</strong>
environment variable contains path to the Intel&#174; IPP binary before executing the sample.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>source /opt/intel/ipp/bin/ippvars.sh [intel64|ia32]</code></pre>
</div></div>
<div class="paragraph"><p>With Composer XE installed you can also run</p></div>
<div class="listingblock">
<div class="content">
<pre><code>source /opt/intel/bin/compilervars.sh [intel64|ia32]</code></pre>
</div></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>Go to the builder directory. Execute <em>build.pl</em> without arguments</p></div>
<div class="listingblock" id="execute_build_script">
<div class="content">
<pre><code>perl build.pl</code></pre>
</div></div>
<div class="paragraph"><p>to see a help screen:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>Copyright (c) 2012 Intel Corporation. All rights reserved.
This script perform Intel(R) IPP Samples projects creation and build.

Usage: perl build.pl --cmake=SAMPLE,ARCH,GENERATOR,LINKAGE,THREADING,CONFIG
                     [--clean] [--build] [--comp=native/intel]
Required variants:
                     SAMPLE |  ARCH   | GENERATOR |  LINKAGE   |  THREADING | CONFIG
             advanced-usage |         |           |            |            |
         audio-video-codecs |         |           |            |            |
            computer-vision |         |  vc2012   |            |            |
           data-compression |         |  vc2010   |            |            |
               image-codecs |         |  vc2008   |            |            |
           image-processing | ia32    |  nmake    | s =static  | st =single | debug
         language-interface | intel64 |  make     | d =dynamic | mt =multi  | release
          signal-processing |         |  eclipse  |            |            |
              speech-codecs |         |  xcode    |            |            |
          string-processing |         |           |            |            |
                        uic |         |           |            |            |


Optional flags:

--clean - clean build directory before projects generation / build
--build - try to build projects before generation
 --comp - try to use custom compiler, native(=gcc/cl.exe) or intel(=icc/icl.exe).
    Need to set up environment variables first (i.e. source compilervars intel64).


        Examples:

[ only generate projects    ]
perl build.pl --cmake=audio-video-codecs,ia32,vc2010,s,st,release
[ generate and then build   ]
perl build.pl --cmake=uic,intel64,make,s,mt,debug --build
[ generate, clean and build ]
perl build.pl --cmake=uic,intel64,make,d,mt,debug --build --clean</code></pre>
</div></div>
<div class="paragraph"><p>The script build.pl has the following options:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>Usage: perl build.pl --cmake=SAMPLE,ARCH,GENERATOR,LINKAGE,THREADING,CONFIG
                    [--clean] [--build] [--comp=native/intel]</code></pre>
</div></div>
<div class="paragraph" id="build_target_dir"><p>Unless specified on the build.pl command line no build occurs.  This step  creates project build
files as specified for your platform, OS, and build environment. The full path to build samples is
<em>&lt;samples_dir&gt;/<em>cmake/&lt;ARCH&gt;.&lt;GENERATOR&gt;.&lt;LINKAGE&gt;.&lt;THREADING&gt;/</em>bin/&lt;CONFIG&gt;</em>, where <em>&lt;samples_dir&gt;</em> is
Intel&#174; IPP samples installation directory, <em>&lt;ARCH&gt;</em>, <em>&lt;GENERATOR&gt;</em>, <em>&lt;LINKAGE&gt;</em>, <em>&lt;THREADING&gt;</em> and <em>&lt;CONFIG&gt;</em> are
arguments specified for <em>build.pl</em> script.</p></div>
<div class="paragraph"><p>Please see
<a href="http://software.intel.com/en-us/articles/intel-ipp-71-samples-build/">Building the Intel&reg; IPP Samples</a>
for more information.</p></div>
<div class="sect1">
<h2 id="_current_build_procedure_limitations_and_requirements">Current Build Procedure Limitations and Requirements</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
<em>nmake</em> project generation is not fully implemented yet.
</p>
</li>
<li>
<p>
For all samples you may expect CMake issues while using Xcode generator for versions above 4.3. This is because the
Xcode command-line tools are no longer installed by default as part of Xcode versions above 4.3.
Instead, you&#8217;ll need to install them in Xcode&#8217;s Downloads preference pane or from <a href="http://developer.apple.com/downloads">http://developer.apple.com/downloads</a>.
</p>
</li>
<li>
<p>
Configurations in <a href="#face_detection_sample">Face Detection Sample</a> build, which use IA-32 architecture option on OS X*, are currently unsupported.
</p>
</li>
<li>
<p>
In <a href="#_get_cpu_info">Get CPU Info</a> sample build the configurations which use NMake(Windows* OS) and Xcode (OS X* OS) generators with dynamic linkage
option are currently unsupported.
</p>
</li>
<li>
<p>
You may experience build issues on the latest Ubuntu* OS with GCC versions above 4.6.1.
</p>
</li>
<li>
<p>
Building of <strong>simple_player</strong> sample on Windows with DirectSound audio renderer requires installation of Microsoft* DirectX SDK package
(March 2008 or newer) if Microsoft* Visual Studio 2008 is used. Microsoft* Visual Studio 2010 and later versions contain required
libraries in Studio packages.
</p>
</li>
<li>
<p>
Automatic search for X Window System* SDK under OS X* for UMC component is currently unsupported therefore to use OpenGL
renderer under OS X*, all paths to SDK must be specified manually.
</p>
</li>
<li>
<p>
Current version of CMake is incompatible with <strong>ccache</strong> Unix*/Linux* recompilation speed-up system (<a href="http://ccache.samba.org/">http://ccache.samba.org/</a>) on, for example, Fedora&#8482; out-of-box systems.
To use Intel&#174; IPP sample build procedure on such systems, you might need to uninstall <strong>ccache</strong>.
</p>
</li>
</ul></div>
<h4 id="_component_specific_build_requirements" class="float">Component-Specific Build Requirements</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
UIC
</dt>
<dd>
<p>
To build <em>picnic</em> sample you need to download <a href="http://qt.nokia.com/downloads/">Qt libraries</a> version 4.8.1 or higher according to your operating system.
</p>
</dd>
<dt class="hdlist1">
UMC
</dt>
<dd>
<div class="dlist"><dl>
<dt class="hdlist1">
Linux*
</dt>
<dd>
<p>
    To build <em>simple_player</em> sample with window rendering support you need to install Mesa3D* development package and X Window System* development package.
    Alternatively you can comment-out <code>UMC_ENABLE_SYS_GLX</code> definition under Linux* section in <code>umc_config.h</code> to disable window rendering.
</p>
</dd>
<dt class="hdlist1">
OS X*
</dt>
<dd>
<p>
    To build <em>simple_player</em> sample with window rendering support you need to install X Window System* SDK with your Xcode.
    Alternatively you can comment-out <code>UMC_ENABLE_SYS_GLX</code> definition under OS X* section in <code>umc_config.h</code> to disable window rendering.
</p>
</dd>
</dl></div>
</dd>
</dl></div>
</div>
</div>
<h1 id="_technical_support">Technical Support</h1>
<div class="paragraph"><p>If you did not register your Intel&#174; software product during
installation, please do so now at the Intel&#174; Software Development
Products Registration Center. Registration entitles you to free
technical support, product updates and upgrades for the duration of the
support term.</p></div>
<div class="paragraph"><p>For general information about Intel technical support, product updates,
user forums, FAQs, tips and tricks, and other support questions, please
visit (<a href="http://www.intel.com/software/products/support">http://www.intel.com/software/products/support</a>).</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">If your distributor provides technical  support for this product, please contact
them rather than Intel&#174;.</td>
</tr></table>
</div>
<div class="paragraph"><p>For technical information about the Intel&#174; IPP library, including FAQ&#8217;s,
tips and tricks, and other support information, please visit the
Intel&#174; IPP forum: (<a href="http://software.intel.com/en-us/forums/intel-integrated-performance-primitives">http://software.intel.com/en-us/forums/intel-integrated-performance-primitives</a>)
and browse the Intel&#174; IPP knowledge  base:
(<a href="http://software.intel.com/en-us/articles/intel-ipp-kb/all">http://software.intel.com/en-us/articles/intel-ipp-kb/all</a>).</p></div>
<h1 id="_intel_174_ipp_high_level_apis">Intel&#174; IPP High Level APIs</h1>
<div class="paragraph"><p>Intel&#174; IPP includes higher level APIs for programming convenience.
In many cases these APIs also include sample applications
demonstrating how to use them in combination with Intel&#174; IPP
primitives.</p></div>
<div class="sect1">
<h2 id="_unified_media_classes_umc">Unified Media Classes (UMC)</h2>
<div class="sectionbody">
<div class="paragraph"><p>The Unified Media Classes (<strong>UMC</strong>) is a higher level API enabling use of Intel&#174; IPP in
multimedia applications.</p></div>
<div class="paragraph"><p><strong>UMC</strong> provides a standardized interface to many video and audio codecs as well as
container utilities (splitters/muxers).</p></div>
<div class="paragraph"><p><strong>UMC</strong> provides classes for:</p></div>
<div class="ulist"><ul>
<li>
<p>
Splitting and mixing audio/video streams, using media containers
</p>
</li>
<li>
<p>
Encoding/decoding audio data
</p>
</li>
<li>
<p>
Encoding/decoding video data
</p>
</li>
</ul></div>
<div class="paragraph"><p><strong>UMC</strong> defines media classes according to their functions, and require that every codec
supports a minimum interface. This enables plug-and-play of various components, often with
minimal code changes beyond changing the names of the classes used.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/warning.png" alt="Warning" />
</td>
<td class="content"><strong>UMC</strong> codecs are starting points, <strong>not product-ready components</strong>.  They <strong>do not</strong>
support their full specifications, including profiles and levels.  They are also <strong>not
fully optimized for <a href="#IPP_SAMPLES_OptNotice">performance</a></strong>.</td>
</tr></table>
</div>
<hr />
<div class="paragraph"><p>Together with high level object oriented API implementing codecs and container utilities
the Intel&#174; IPP <strong>UMC</strong> samples contain a set of easy-to-understand and
easy-to-use console based tools demonstrating the capabilities of <strong>UMC</strong> and methods of
codec programming.</p></div>
<div class="sect3">
<h4 id="_umc_audio_dec_con">umc_audio_dec_con</h4>
<div class="paragraph"><p>This sample illustrates how to use the Intel&#174; IPP signal processing, image processing,
audio\video coding functions and Unified Media
Classes (<strong>UMC</strong>) to implement a multi-format audio decoder.</p></div>
<div class="exampleblock">
<div class="title">Example 1. umc_audio_dec_con usage:</div>
<div class="content">
<div class="paragraph"><p>umc_audio_dec_con -c DecoderName [-i] InputFile [-o] OutputFile [Options]</p></div>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code>Options:
  -c          codec name (ac3, mp3, aac)
  -i          input file name
  -o          output file name
  -h  --help  print help

IPP options:
  --ipp_cpu      target IPP optimization (SSE, SSE2, SSE3, SSSE3, SSE41, SSE42, AES, AVX, AVX2)
  --ipp_threads  limit internal IPP threading

AC3 options:
  --ac3_u        dualmonomode
                 0 - STEREO (default)
                 1 - LEFTMONO
                 2 - RGHTMONO
                 3 - MIXMONO

  --ac3_m        output channel configuration
                 0 - Dolby Surround
                 1 - C
                 2 - L, R
                 3 - L, C, R
                 4 - L, R, S
                 5 - L, C, R, S
                 6 - L, R, SL, SR
                 7 - L, C, R, SL, SR (deafult)

  --ac3_c        karaoke capable mode
                 0 - no vocal channels
                 1 - left vocal channel
                 2 - right vocal channel
                 3 - both vocal channels (deafult)

  --ac3_k        DRC mode (default - 0)
  --ac3_x        DRC high scale factor (default - 1.0)
  --ac3_y        DRC low scale factor (default - 1.0)
  --ac3_lfe_off  disable LFE channel

AAC options:
  --aac_sbr_mode    HE-AAC mode
                    0 - disable
                    1 - HQ mode (default)
                    2 - LP mode

  --aac_sbr_ds_off  disable downsampling for HE-AAC
  --aac_ps_mode     parametric stereo (PS) mode
                    0 - disable (default)
                    1 - enable PS parser
                    2 - enable PS in baseline mode
                    3 - enable PS in unrestricted mode


MPEG options:
  --mpeg_lfe_filt_off  disable LFE channel filtering</code></pre>
</div></div>
<hr />
</div>
<div class="sect3">
<h4 id="_umc_audio_enc_con">umc_audio_enc_con</h4>
<div class="paragraph"><p>This sample illustrates how to use the Intel&#174; IPP signal processing, image processing,
audio\video coding functions and Unified Media
Classes (<strong>UMC</strong>) to implement a multi-format audio encoder.</p></div>
<div class="exampleblock">
<div class="title">Example 2. umc_audio_enc_con Usage:</div>
<div class="content">
<div class="paragraph"><p>umc_audio_enc_con -c EncoderName [-i] InputFile [-o] OutputFile [Options]</p></div>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code>Options:
  -c          codec name (mp3, aac)
  -i          input file name
  -o          output file name
  -b          bitrate in bps (128000 - default)
  -h  --help  print help

IPP options:
  --ipp_cpu      target IPP optimization (SSE, SSE2, SSE3, SSSE3, SSE41, SSE42, AES, AVX, AVX2)
  --ipp_threads  limit internal IPP threading

AAC options:
  --aac_o   output format (adif, adts - default, mp4)
  --aac_p   profile (lc - default, ltp, he) if he profile is selected, lc is internal encoder
  --aac_s   stereo mode
            0 - left/right stereo mode in all frames (default)
            1 - joint stereo mode
            2 - forced mid/side stereo mode in all frames

  --aac_ns  noise shaping model
            0 - simple: fast, lower quality (default)
            1 - advanced: slow, higher quality


MPEG options:
  --mpeg_l             layer
                       1 - Layer 1
                       2 - Layer 2
                       3 - Layer 3 (default)

  --mpeg_rc            rate control mode
                       0 - CBR (default)
                       1 - VBR(ABR)

  --mpeg_s             stereo mode
                       0 - left/right stereo mode in all frames (default)
                       1 - joint stereo mode
                       2 - forced mid/side stereo mode in all frames (layer 3 only)

  --mpeg_ns            noise shaping model (layer 3 only)
                       0 - simple: fast, lower quality (default)
                       1 - advanced: slow, higher quality

  --mpeg_mp            matrix procedure
                       0 (default),1,2 - MPEG1 compatible L,R channels are mixed input channels
                       3 - MPEG1 compatible L,R channels are L,R input channels

  --mpeg_cc            input channel configuration
                       0 - Autoconfig (default)
                       1 - C
                       2 - L, R
                       3 - L, R, C
                       4 - L, R, S
                       5 - L, R, C, S
                       6 - L, R, SL, SR
                       7 - L, R, C, SL, SR
                       13 - L, R, C, LFE
                       14 - L, R, S, LFE
                       15 - L, R, C, S, LFE
                       16 - L, R, SL, SR, LFE
                       17 - L, R, C, SL, SR, LFE

  --mpeg_lfe_filt_off  disable LFE channel filtering</code></pre>
</div></div>
<hr />
</div>
<div class="sect3">
<h4 id="_umc_video_dec_con">umc_video_dec_con</h4>
<div class="paragraph"><p>This sample illustrates how to use the Intel&#174; IPP signal processing, image processing,
audio/video coding functions and Unified Media
Classes (<strong>UMC</strong>) to implement a multi-format video decoder. Video formats.</p></div>
<div class="exampleblock">
<div class="title">Example 3. umc_video_dec_con usage:</div>
<div class="content">
<div class="paragraph"><p>Usage: umc_video_dec_con [-i] InputFile [[-o] OutputFile] [Options]</p></div>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code>Options:
  -i          input file name
  -o          output file name
  -c          input reference file name to calculate PSNR
  -t          number of threads
  -r          output resolution (width height)
  -f          output color format
  -n          frames limit
  -d          perform deinterlacing
  -k          don't keep aspect ratio during resize
  -s          frames interval for statistic
      --crc   input crc32 value to compare with decoded data
  -h  --help  print help

IPP options:
  --ipp_cpu      target IPP optimization (SSE, SSE2, SSE3, SSSE3, SSE41, SSE42, AES, AVX, AVX2)
  --ipp_threads  limit internal IPP threading

Color formats: gray yv12 nv12 yuy2 uyvy yuv420 yuv422 yuv444
               rgb24 rgb32 bgr24 bgr32 bgr565 bgr555 bgr444</code></pre>
</div></div>
<hr />
</div>
<div class="sect3">
<h4 id="_umc_video_enc_con">umc_video_enc_con</h4>
<div class="paragraph"><p>This sample illustrates how to use the Intel&#174; IPP  signal processing, image processing,
audio\video coding functions and Unified Media
Classes (<strong>UMC</strong>) to implement a multi-format video encoder.</p></div>
<div class="exampleblock">
<div class="title">Example 4. umc_video_enc_con usage</div>
<div class="content">
<div class="paragraph"><p>umc_video_enc_con InputParFile [-i SrcFile] [-o DstEncodedFile] [Options]</p></div>
</div></div>
<div class="exampleblock">
<div class="content">
<div class="paragraph"><p>umc_video_enc_con -c VideoEncoder -i SrcFile -o DstEncodedFile -r SrcWidth SrcHeight [Options]</p></div>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code>Options:
              parameters file
  -c          video encoder
  -i          input file name
  -o          output file name
  -a          input alpha file name
  -r          input file resolution (width height)
  -R          output file resolution (width height), as input by default
  -f          input file color format, YUV420 - default
  -b          bitrate (bits/second), 2000000 - default
  -F          framerate (frames/second), 30 - default
  -n          number of frames to encode
  -t          number of threads
  -s          frames interval for statistic
  -p          configuration pair entry (Name=Value), see parfiles
  -h  --help  print help

IPP options:
  --ipp_cpu      target IPP optimization (SSE, SSE2, SSE3, SSSE3, SSE41, SSE42, AES, AVX, AVX2)
  --ipp_threads  limit internal IPP threading

Video encoders: mpeg2 mpeg4 h264 vc1
Color formats: gray yv12 nv12 yuy2 uyvy yuv420 yuv422 yuv444
               rgb24 rgb32 bgr24 bgr32 bgr565 bgr555 bgr444</code></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">options -i,-o,-r,-f,-b,-n override corresponding values inside InputParFile. If
InputParFile not specified,  at least options -c, -i, -o and -r must be present</td>
</tr></table>
</div>
<hr />
</div>
<div class="sect3">
<h4 id="_simple_player">simple_player</h4>
<div class="paragraph"><p>This sample illustrates how to use the Intel&#174; IPP signal processing, image processing,
audio\video coding functions and Unified Media
Classes (<strong>UMC</strong>) to implement simple multi-format video player.</p></div>
<div class="exampleblock">
<div class="title">Example 5. simple_player Usage:</div>
<div class="content">
<div class="paragraph"><p>simple_player [-i] InputFile [Options]</p></div>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code>Options:
  -i                 input file name
  -p                 playlist file name
  -f                 output color format
  -v                 video render
  -a                 audio render
  -V                 output video file name (if file render selected)
  -A                 output audio file name (if file render selected)
  -r                 change output video resolution (width height)
  -k                 don't keep aspect ratio during resize
  -S                 override frame structure information: frame, tff, bff, tf, bf
  -R                 initial window resolution for OpenGL render (width height)
  -K                 don't keep aspect ratio during resize in render
  -x                 use textures for OpenGL render
  -t                 number of threads
  -F                 playback framerate
  -s                 silent mode, rendering will be hidden
  -m                 decoding mode: 0 - video and audio (default); 1 - video only; 2 - audio only
  -n                 real time mode
  -d                 perform deinterlacing
  -j                 render anaglyph picture
      --track-video  PID of video track to use (see tracks print)
      --track-audio  PID of audio track to use (see tracks print)
  -h  --help         print help

MediaSDK options:
  --msdk       use MediaSDK decoder pipeline
  --msdk_impl  MediaSDK implementation: 0 - auto (default); 1 - force sw; 2 - force hw
  --msdk_mvc   use multiview info in MediaSDK decoder

IPP options:
  --ipp_cpu      target IPP optimization (SSE, SSE2, SSE3, SSSE3, SSE41, SSE42, AES, AVX, AVX2)
  --ipp_threads  limit internal IPP threading

Color formats: gray yv12 nv12 yuy2 uyvy yuv420 yuv422 yuv444
               rgb24 rgb32 bgr24 bgr32 bgr565 bgr555 bgr444</code></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">MediaSDK pipeline can be used only if UMC_ENABLE_MSDK_INTERFACE is defined in umc_config.h file and MediaSDK is available.</td>
</tr></table>
</div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 1. Supported renderers</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">OS       </th>
<th align="left" valign="top"> Video renderer        </th>
<th align="left" valign="top"> Audio renderers</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Windows*</p></td>
<td align="left" valign="top"><p class="table">opengl, gdi, fw, null</p></td>
<td align="left" valign="top"><p class="table">dsound, winmm, fw, null</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Linux*</p></td>
<td align="left" valign="top"><p class="table">opengl, fw, null</p></td>
<td align="left" valign="top"><p class="table">oss, fw, null</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">OS X*</p></td>
<td align="left" valign="top"><p class="table">fw, null</p></td>
<td align="left" valign="top"><p class="table">fw, null</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_parameter_files">Parameter files</h4>
<div class="paragraph"><p>Parameter files are provided for working with the encode samples.  These allow configuration of many more options than the command line.  They can be found in the <em>audio-video-codecs/application/par_files</em> directory.</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 2. UMC par files</caption>
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">par file   </th>
<th align="left" valign="top"> Codec</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">h264.par</p></td>
<td align="left" valign="top"><p class="table">H.264</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">mpeg2.par</p></td>
<td align="left" valign="top"><p class="table">MPEG-2</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">mpeg4.par</p></td>
<td align="left" valign="top"><p class="table">MPEG-4</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">VC1.par</p></td>
<td align="left" valign="top"><p class="table">VC-1</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
</div>
<div class="sect2">
<h3 id="_umc_audio_codecs">UMC audio codecs</h3>
<div class="paragraph"><p>The current status of UMC audio codecs provided in the table below.</p></div>
<div class="tableblock">
<table rules="all"
width="60%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="80%" />
<thead>
<tr>
<th align="left" valign="top">Codec</th>
<th align="left" valign="top">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">AAC</p></td>
<td align="left" valign="top"><p class="table">Integer version of AAC codec is no longer supported, use floating point AAC codec</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">AC3</p></td>
<td align="left" valign="top"><p class="table">AC3 decoder is supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">MP3</p></td>
<td align="left" valign="top"><p class="table">Integer version MP3 codec is no longer supported, use floating point MP3 codec</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
<div class="sect3">
<h4 id="_aac_decoder">AAC Decoder</h4>
<div class="paragraph"><p>This UMC sample illustrates how to use the Intel&#174; IPP signal processing and audio coding
functions to implement a simple AAC (Advanced Audio Coding) decoder.
The decoder supports the following features:</p></div>
<div class="ulist"><ul>
<li>
<p>
Low Complexity Profile (AAC_LC)
</p>
</li>
<li>
<p>
Long Term Prediction Profile (AAC_LTP)
</p>
</li>
<li>
<p>
Main Profile (AAC_MAIN)
</p>
</li>
<li>
<p>
Scalable Sampling Rate Profile (AAC_SSR)
</p>
</li>
<li>
<p>
MPEG-4 SBR (Spectral Band Replication) extension
</p>
</li>
<li>
<p>
PS (Parametric stereo)
</p>
</li>
<li>
<p>
IS, MS, TNS, PNS tools
</p>
</li>
<li>
<p>
ADIF, ADTS, MP4 formats
</p>
</li>
</ul></div>
<div class="paragraph"><div class="title">AAC Known Limitations</div><p>The decoder supports the standard ISO/IEC 14496-3 with certain
restrictions. The following features are not supported:</p></div>
<div class="ulist"><ul>
<li>
<p>
Mid / Side (MS)
</p>
</li>
<li>
<p>
Intensity stereo (IS)
</p>
</li>
<li>
<p>
Temporal Noise Shaping (TNS)
</p>
</li>
<li>
<p>
Perceptual Noise Shaping (PNS)
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_aac_encoder">AAC Encoder</h4>
</div>
<div class="sect3">
<h4 id="_ac_3_decoder">AC-3 Decoder</h4>
<div class="paragraph"><p>This UMC sample illustrates how to use the Intel&#174; IPP signal processing and audio
coding functions to implement a simple AC3 decoder.</p></div>
<div class="paragraph"><div class="title">AC3 Known Limitations</div><p>The decoder supports the standard A/52A   Digital Audio Compression
(AC-3), Revision A without any restrictions</p></div>
</div>
<div class="sect3">
<h4 id="_mp3_decoder">MP3 Decoder</h4>
<div class="paragraph"><p>This UMC sample illustrates how to use the Intel&#174; IPP signal processing and audio
coding functions to implement a simple floating-point based MPEG-1/2
layer 1/2/3 audio codec.</p></div>
<div class="paragraph"><p>The following audio data are supported:</p></div>
<div class="ulist"><ul>
<li>
<p>
MPEG-1: layers 1,2,3
</p>
</li>
<li>
<p>
MPEG-2, low sampling frequencies extension: layers 1,2,3
</p>
</li>
<li>
<p>
MPEG-2, multi-channel audio extension: layer 2, contained within the
single stream
</p>
</li>
<li>
<p>
MPEG-2.5 (unofficial), extra low sampling frequencies extension:
layers 1,2,3
</p>
</li>
</ul></div>
<div class="paragraph"><div class="title">MP3 Known Limitations</div><p>The decoder supports the standard ISO/IEC 11172-3 and  ISO/IEC 13181-3
with certain restrictions.</p></div>
<div class="ulist"><ul>
<li>
<p>
MPEG-2  multichannel extension: layers 1,3  are not supported
</p>
</li>
<li>
<p>
MPEG-2  multichannel extension: layer2 with extension stream is not supported
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_mp3_encoder">MP3 Encoder</h4>
<hr />
</div>
</div>
<div class="sect2">
<h3 id="_umc_video_codecs">UMC video codecs</h3>
<div class="paragraph"><p>The table below describes the current status of UMC video codecs support</p></div>
<div class="tableblock">
<table rules="all"
width="60%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">Codec          </th>
<th align="left" valign="top"> Status</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">AVS</p></td>
<td align="left" valign="top"><p class="table">Not supported (legacy)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">DV/50/100</p></td>
<td align="left" valign="top"><p class="table">Not supported (legacy)Legacy</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">H.261</p></td>
<td align="left" valign="top"><p class="table">Not supported (legacy)Legacy</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">H.263</p></td>
<td align="left" valign="top"><p class="table">Not supported (legacy)Legacy</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">H.264</p></td>
<td align="left" valign="top"><p class="table">Active</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">MPEG-2</p></td>
<td align="left" valign="top"><p class="table">Active</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">MPEG-4</p></td>
<td align="left" valign="top"><p class="table">Active</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">VC-1</p></td>
<td align="left" valign="top"><p class="table">Active</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
<div class="sect3">
<h4 id="_h_264_encoder">H.264 Encoder</h4>
<div class="paragraph"><p>Encoder produce only JM9.2 compatible streams</p></div>
<div class="ulist"><ul>
<li>
<p>
SI and SP slice types are not supported.
</p>
</li>
<li>
<p>
Slice Data Partitioning is not supported.
</p>
</li>
<li>
<p>
Annex A - Enforcement of Profile and Level Restrictions is not supported.
</p>
</li>
<li>
<p>
Annex C - Full conformance with HRD (Hypothetical Reference Decoder) is not supported.
</p>
</li>
<li>
<p>
Annex D - SEI (Supplemental Enhancement Information) is not supported.
</p>
</li>
<li>
<p>
Annex E - VUI (Video Usability Information) is not supported.
</p>
</li>
<li>
<p>
Long Term Reference frames are not supported.
</p>
</li>
<li>
<p>
FMO (flexible macroblock ordering) is not supported.
</p>
</li>
<li>
<p>
ASO (arbitrary slice order) is not supported.
</p>
</li>
<li>
<p>
Weighted prediction is not supported.
</p>
</li>
<li>
<p>
Transform 8x8 can be used for inter coding only.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The encoder only supports slices with MBs in raster order. All slices are the same size
(in MBs) with any remainder going to the final slice. The maximum number of slices is  the
number of MB rows (one slice per row of 16x16 MBs).</p></div>
<div class="paragraph"><p>Encoder does not support frame resizing. Thus, input and output frame  sizes should be the
same.</p></div>
<div class="paragraph"><p>Custom and default scale matrices are not supported. Standard scaling  matrices are always
used.</p></div>
<div class="paragraph"><p>The encoder assumes that input VideoData object contains frame in <strong>YUV420</strong>  (I420
according to FOURCC.org) format.</p></div>
</div>
<div class="sect3">
<h4 id="_h_264_decoder">H.264 Decoder</h4>
<div class="paragraph"><p>Known Limitations of H.264 decoder</p></div>
<div class="ulist"><ul>
<li>
<p>
decoder supports decoding of files created by JM9.2 compliant encoders or latest.
</p>
</li>
<li>
<p>
decoder supports baseline, main, extended and high profiles features.
</p>
</li>
<li>
<p>
decoder can crash on some streams which have got errors or missed/redundant data.
</p>
</li>
<li>
<p>
decoder doesn&#8217;t support multi-threading for streams with slice groups.
</p>
</li>
</ul></div>
<hr />
</div>
<div class="sect3">
<h4 id="_mpeg_2_encoder">MPEG-2 Encoder</h4>
</div>
<div class="sect3">
<h4 id="_mpeg_2_decoder">MPEG-2 Decoder</h4>
<div class="paragraph"><p>Decoder Known Limitations</p></div>
<div class="ulist"><ul>
<li>
<p>
Spatial and Temporal Scalability are not supported.
</p>
</li>
<li>
<p>
Some artificially created bitstreams can cause internal overflow of internal  IDCT
algorithm used in the decoder. In such case a difference with decoders which use float
point IDCT can be noticed.
</p>
</li>
</ul></div>
<hr />
</div>
<div class="sect3">
<h4 id="_mpeg_4_encoder">MPEG-4 Encoder</h4>
<div class="paragraph"><p>Encoder Known Limitations</p></div>
<div class="paragraph"><p>The encoder supports the standard ISO/IEC 14496-2 with certain restrictions.
Only the following features are supported in the current version:</p></div>
<div class="ulist"><ul>
<li>
<p>
I-VOP, P-VOP, B-VOP, S-VOP
</p>
</li>
<li>
<p>
AC/DC Prediction
</p>
</li>
<li>
<p>
4MV
</p>
</li>
<li>
<p>
Un-restricted MV
</p>
</li>
<li>
<p>
P-VOP with OBMC
</p>
</li>
<li>
<p>
Quantisation Method 1,2
</p>
</li>
<li>
<p>
Videopackets
</p>
</li>
<li>
<p>
Short video header
</p>
</li>
<li>
<p>
Data partitioning
</p>
</li>
<li>
<p>
Reversible VLC
</p>
</li>
<li>
<p>
Interlacing
</p>
</li>
<li>
<p>
Basic sprites
</p>
</li>
<li>
<p>
Quarter-Pixel Motion Estimation
</p>
</li>
<li>
<p>
Global Motion Estimation (Number of Warping Points 0 and 1)
</p>
</li>
<li>
<p>
VBR and CBR Control
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_mpeg_4_decoder">MPEG-4 Decoder</h4>
<div class="paragraph"><p>The decoder supports the standard ISO/IEC 14496-2 with certain restrictions.
Only the following features are supported in the current version:</p></div>
<div class="ulist"><ul>
<li>
<p>
I-VOP, P-VOP, B-VOP, S-VOP
</p>
</li>
<li>
<p>
AC/DC Prediction
</p>
</li>
<li>
<p>
4MV
</p>
</li>
<li>
<p>
Un-restricted MV
</p>
</li>
<li>
<p>
P-VOP with OBMC
</p>
</li>
<li>
<p>
Quantisation Method 1,2
</p>
</li>
<li>
<p>
Videopackets
</p>
</li>
<li>
<p>
Short video header
</p>
</li>
<li>
<p>
Data partitioning
</p>
</li>
<li>
<p>
VLC
</p>
</li>
<li>
<p>
Basic sprites
</p>
</li>
<li>
<p>
Interlacing
</p>
</li>
<li>
<p>
Quarter-Pixel Motion Compensation
</p>
</li>
<li>
<p>
Global Motion Compensation
</p>
</li>
</ul></div>
<div class="paragraph"><p>Decoder uses integer implementation of Inverse DCT, so  result of decoding can differ from
result of decoders which use float-point IDCT, especially  if stream contains coefficients
which are not satisfy IEEE Standard 1180-1990.</p></div>
<hr />
</div>
<div class="sect3">
<h4 id="_vc_1_encoder">VC-1 Encoder</h4>
<div class="paragraph"><p>VC1 encoder doesn&#8217;t support next features:</p></div>
<div class="ulist"><ul>
<li>
<p>
Interlaced frame mode coding
</p>
</li>
<li>
<p>
Field frame mode coding
</p>
</li>
<li>
<p>
BI, Skip frame coding
</p>
</li>
<li>
<p>
4MV macroblock mode
</p>
</li>
<li>
<p>
Range map, range reduction
</p>
</li>
<li>
<p>
Intensity compensation
</p>
</li>
<li>
<p>
Smoothing
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_vc_1_decoder">VC-1 Decoder</h4>
<div class="paragraph"><p>Different types of parallelization were implemented:</p></div>
<div class="ulist"><ul>
<li>
<p>
Slice parallelization - several slices inside one frame could be decoded at the same
time
</p>
</li>
<li>
<p>
Task parallelization - different tasks (decoding, reconstruction and so on) could be
done on several slices inside one frame at the same time
</p>
</li>
</ul></div>
<div class="paragraph"><p>In this version of decoder both models work together.</p></div>
<div class="paragraph"><p>VC1 decoder can create specified  number of decoding threads or determine optimal number
of threads automatically. The number  of threads is controlled through <code>numThreads</code> member
of <code>UMC::BaseCodecParams</code> init structure.  For more details see Intel&#174; IPP Unified Media
Classes Reference Manual. Synchronization  is performed automatically by means of events
and does not require any additional actions.</p></div>
<div class="paragraph"><p>Known Limitations</p></div>
<div class="ulist"><ul>
<li>
<p>
decoder supports only pure video
</p>
</li>
</ul></div>
<hr />
</div>
</div>
<div class="sect2">
<h3 id="_umc_splitters_muxers">UMC splitters/muxers</h3>
<div class="tableblock">
<table rules="all"
width="60%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 3. UMC Containers</caption>
<col width="20%" />
<col width="80%" />
<thead>
<tr>
<th align="left" valign="top">Format    </th>
<th align="left" valign="top"> Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">AVI</p></td>
<td align="left" valign="top"><p class="table">Splitter only</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">AVS</p></td>
<td align="left" valign="top"><p class="table">Splitter only, pure video only</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">MPEG2-TS</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">MPEG-4</p></td>
<td align="left" valign="top"><p class="table">ISO/IEC 14496-14:2001 part 14<br />
ISO/IEC 14496-12:2004<br />
ISO/IEC 14496-14:2003 &amp; ISO/IEC 14496-15:2004. No VBR support.</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
<div class="sect3">
<h4 id="_avi_splitter">AVI Splitter</h4>
<div class="paragraph"><p>The splitter detects the only video tracks that are marked by the
following FourCC codes:</p></div>
<div class="ulist"><ul>
<li>
<p>
DIVX, divx, DX50, dx50, DIV4, div4, XVID, xvid, MP4V, mp4v are treated as MPEG4 video track
</p>
</li>
<li>
<p>
WMV3 is treated as WMV video track
</p>
</li>
<li>
<p>
MJPG, mjpg, MJPX, mjpx, dmb1 are treated as MotionJPEG video track
</p>
</li>
<li>
<p>
ILV4, vssh are treated as H264 video track
</p>
</li>
<li>
<p>
DIB_ is treated as uncompressed video track
</p>
</li>
</ul></div>
<div class="paragraph"><p>The splitter detects the only audio tracks that are marked by the
following format tags:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    WAVE_FORMAT_PCM
    WAVE_FORMAT_MPEGLAYER3
    WAVE_FORMAT_DVM (means AC3 audio)
    WAVE_FORMAT_AAC
    WAVE_FORMAT_ALAW
    WAVE_FORMAT_MULAW</code></pre>
</div></div>
<hr />
</div>
<div class="sect3">
<h4 id="_mpeg_2_splitter">MPEG-2 Splitter</h4>
<div class="paragraph"><p>This folder contains implementation of Demuxer and ThreadedDemuxer classes,  inherited
from <code>UMC::Splitter</code>, which implement parsing of MPEG2 Program and Transport Streams
according to ISO/IEC 13818-1:2000 part 1. Also  it implements splitting of pure video
streams (MPEG2, MPEG4, H264), WAVE files that contain  MP3 or PCM audio and pure MP3 audio
streams.</p></div>
<div class="paragraph"><p>Class <code>Demuxer</code> provides non-threaded implementation. Class <code>ThreadedDemuxer</code> is a wrapper
over <code>Demuxer</code> and runs parsing in internal thread while user accesses data in his own
threads. For threading it uses VM threading capabilities.</p></div>
<div class="paragraph"><div class="title">Known Limitations</div><p>While parsing MPEG2PS the Demuxer does not detect elementary streams
of the following types:</p></div>
<div class="ulist"><ul>
<li>
<p>
AAC audio
</p>
</li>
<li>
<p>
MPEG4 video
</p>
</li>
<li>
<p>
H264 video
</p>
</li>
</ul></div>
<hr />
</div>
<div class="sect3">
<h4 id="_mpeg_2_muxer">MPEG-2 Muxer</h4>
<div class="paragraph"><p>This folder contains implementation of <code>MPEG2Muxer</code> class, inherited from <code>UMC::Muxer</code>,
which implements multiplexing of several elementary audio/video streams to MPEG2  system
stream according to ISO/IEC 13818-1:2000.</p></div>
<div class="paragraph"><div class="title">Known Limitations</div><p>The muxer is able to multiplex to elementary streams of only the following types:</p></div>
<div class="ulist"><ul>
<li>
<p>
MPEG1 video
</p>
</li>
<li>
<p>
MPEG2 video
</p>
</li>
<li>
<p>
MPEG4 video - to MPEG2 Transport Stream only
</p>
</li>
<li>
<p>
H264 video  - to MPEG2 Transport Stream only
</p>
</li>
<li>
<p>
MPEG audio
</p>
</li>
<li>
<p>
AC3 audio
</p>
</li>
<li>
<p>
LPCM audio
</p>
</li>
<li>
<p>
AAC ADTS audio - to MPEG2 Transport Stream only
</p>
</li>
</ul></div>
<div class="paragraph"><p>The muxer supports only one program for MPEG2 Transport Streams.</p></div>
<hr />
</div>
<div class="sect3">
<h4 id="_mp4_splitter">MP4 Splitter</h4>
<div class="paragraph"><p>This folder contains implementation of <code>MP4Splitter</code> class, inherited from
<code>UMC::Splitter</code>, which implement parsing of MP4 files according to  ISO/IEC 14496-14:2001
part 14.</p></div>
</div>
<div class="sect3">
<h4 id="_mp4_muxer">MP4 Muxer</h4>
<div class="paragraph"><p>This folder contains implementation of <code>MP4Muxer</code> class, inherited from <code>UMC::Muxer</code>,
which implements creating of MP4 files according to  ISO/IEC 14496-12:2004, ISO/IEC
14496-14:2003 &amp; ISO/IEC 14496-15:2004.</p></div>
<div class="paragraph"><div class="title">Known Limitations</div><p>Streams encoded with variable bit rate (VBR) are not supported.</p></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_unified_image_codecs_uic">Unified Image Codecs (UIC)</h2>
<div class="sectionbody">
<div class="paragraph"><p>The Unified Image Codec samples demonstrate how to use UIC interface in image processing
applications. They contain the high-level image processing API (UIC, or UIC codecs), Qt*-based image processing sample and a
command line image transcoder as a sample application. These samples demonstrate implementation of
JPEG, JPEG2000, JPEG-XR and PNG functionality provided by Intel&#174; IPP.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/warning.png" alt="Warning" />
</td>
<td class="content">UIC codecs are starting points, <strong>not product-ready</strong> components.  They <strong>do not
support their full specifications</strong>, including profiles and levels.  They are also <strong>not
fully optimized for <a href="#IPP_SAMPLES_OptNotice">performance</a></strong>.</td>
</tr></table>
</div>
<div class="sect2">
<h3 id="_unified_image_codec_build_procedure">Unified Image Codec Build Procedure</h3>
<div class="paragraph"><p>To build Unified Image Codec samples you need to build "uic" section using <a href="#installation_and_build">Intel&#174; IPP samples build procedure</a>.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">To build Qt-based sample called <em>picnic</em> you need to download <a href="http://qt.nokia.com/downloads/">Qt libraries</a> version 4.8.1 or higher according
to your operating system.</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_using_uic_transcoder_con_sample">Using UIC_TRANSCODER_CON sample</h3>
<div class="paragraph"><p>To run the <em>image transcoder</em> sample prepare environment as specified in <a href="#run_win">this chapter</a>.</p></div>
<div class="paragraph"><p>The <em>uic_transcoder_con</em> example has many options, which can be obtained by running
without any parameters</p></div>
<div class="exampleblock">
<div class="content">
<div class="literalblock">
<div class="content">
<pre><code>./uic_transcoder_con</code></pre>
</div></div>
</div></div>
<div class="listingblock">
<div class="title">Supported input formats:</div>
<div class="content">
<pre><code>  .dcm; .jp2; .jpg; .jxr .png;</code></pre>
</div></div>
<div class="listingblock">
<div class="title">Supported output formats:</div>
<div class="content">
<pre><code>  .jp2; .jpg; .jxr .png;</code></pre>
</div></div>
<div class="listingblock">
<div class="title">Command line options:</div>
<div class="content">
<pre><code>  -i   input file name
  -o   output file name (out.jp2 - default)
  -r   treat input image as raw (0 - default)
  -t   advanced timing, 0 - disable (default); 1 - enable
  -m   number of loops for advanced timing (1 - default)
  -d   print problem diagnostics messages
  -n   number of threads
  -h   help key

  RAW options:
  -W   width resolution
  -H   height resolution
  -D   data offset
  -C   color format: gray, rgb (default), rgba, cmyk
  -P   pixel format: 8u (default), 16u, 16s, 32u, 32s, 32f

  JPEG options:
  -q   quality [1...100]
  -s   sampling, 0 - 444 (default); 1 - 422; 2 - 411
  -j   jpeg encoder mode: b - BASELINE (8-bit lossy); e - EXTENDED (12-bit lossy);
                          p - PROGRESSIVE  (8-bit progressive); l - LOSSLESS (2-16 bit lossless)

  JPEG2K options:
  -q   quality [1...100]
  -l   encoding mode, 0 - lossy encode (default); 1 - lossless encoding

  PNG options:
  -f   activate all filters
  -fs  add sub filter
  -fu  add up filter
  -fa  add average filter
  -fp  add Paeth filter

  JPEG-XR options:
  -q   quality [1...255] (1 - lossless, default; less is better)
  -Q   planar alpha quality [1...255] (1 - lossless, default; less is better)
  -l   overlap mode, 0 - no overlap (default); 1 -  overlap one; 2 - overlap two
  -a   alpha mode, 0 - interleaved alpha (default); 1 - planar alpha
  -F   trim flexbits [0...15] (0 - all flexbits, default; 15 - no flexbits)
  -b   bands mode, 0 - all bands (default); 1 - no flexbits; 2 - no highpass; 3 - dc only
  -c   encode CMYK images directly, without color conversion
  -v   color conversion bits shift value for 16-bit and 32-bit images [0...32]
  -U   amount of tiles per rows and columns (1 1 - default)
  -X   maximum tiles size in macroblocks (0 0 - default; 1 = 16px; override U argument)</code></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">On Linux timing procedure uses <code>CTimer</code> object, which during initialization computes
CPU frequency. This operation may take several second. Nevertheless, time values printed
by application are accurate enough.</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_list_of_codecs_included_in_uic">List of codecs included in UIC</h3>
<div class="paragraph"><p>The following list of image codecs supported/not supported in Intel&#174; IPP samples</p></div>
<div class="tableblock">
<table rules="all"
width="60%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 4. UIC Codecs</caption>
<col width="25%" />
<col width="75%" />
<thead>
<tr>
<th align="left" valign="top">Codec    </th>
<th align="left" valign="top"> Status</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">BMP</p></td>
<td align="left" valign="top"><p class="table">Supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">DDS</p></td>
<td align="left" valign="top"><p class="table">Not supported (moved to legacy archive)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">JPEG</p></td>
<td align="left" valign="top"><p class="table">Supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">JPEG2000</p></td>
<td align="left" valign="top"><p class="table">Supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">JPEGXR</p></td>
<td align="left" valign="top"><p class="table">Supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">PNG</p></td>
<td align="left" valign="top"><p class="table">Supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">TIFF</p></td>
<td align="left" valign="top"><p class="table">Not supported (moved to legacy archive)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">PNM</p></td>
<td align="left" valign="top"><p class="table">Not supported (moved to legacy archive)</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
<div class="sect3">
<h4 id="_jpeg">JPEG</h4>
<div class="paragraph"><p>Commonly used image lossy compression method widely used in digital photography. The following limitations are in UIC JPEG codec:</p></div>
<div class="paragraph"><div class="title">Decoder</div><p>UIC JPEG decoder specifics:</p></div>
<div class="ulist"><ul>
<li>
<p>
EXIF/JFIF file formats
</p>
</li>
<li>
<p>
Image data type: 8-bit unsigned or 16-bit unsigned
</p>
</li>
<li>
<p>
Interleaved or planar pixel formats
</p>
</li>
<li>
<p>
Image sampling: 411/244/422/444
</p>
</li>
<li>
<p>
Supports baseline, extended, progressive and lossless (SOF3) formats
</p>
</li>
<li>
<p>
Adobe APP14 marker supported
</p>
</li>
<li>
<p>
RSTI markers supported
</p>
</li>
<li>
<p>
Does NOT support: SOF5, SOF6, SOF7, SOF9, SOF10, SOF11, SOF13, SOF14 and SOF15 markers
</p>
</li>
</ul></div>
<div class="paragraph"><div class="title">Encoder</div><p>UIC JPEG encoder specifics:</p></div>
<div class="ulist"><ul>
<li>
<p>
8/16-bit unsigned data
</p>
</li>
<li>
<p>
Interleaved/planar pixel formats
</p>
</li>
<li>
<p>
Color modes supported: gray, RGB, YCbCr, CMYK, YCCK
</p>
</li>
<li>
<p>
Baseline, extended and progressive formats
</p>
</li>
<li>
<p>
Quality in % (1-100)
</p>
</li>
<li>
<p>
Image sampling: 411/244/422/444
</p>
</li>
</ul></div>
<div class="paragraph"><p>Both JPEG encoder and decoder can run in multi-threaded mode if compiled with OpenMP&#174;
support.</p></div>
<div class="paragraph"><div class="title">JPEG Codec Known Limitations</div><p>The JPEG codec in this version of the Intel&#174; IPP Unified Image Codec Sample for Windows*
OS
supports threading only for 444, 422, 244  sampling factors. The baseline JPEG encoding
with several scans is not supported.  Note, that for JPEG Extended mode (12-bits sample)
the 4 most significant bits of  16-bit values should be set to zero.</p></div>
<hr />
</div>
<div class="sect3">
<h4 id="_jpeg2000">JPEG2000</h4>
<div class="paragraph"><p>Image compression standard with  wavelet-based compression method. UIC JPEG2000 codec has
the following specific features</p></div>
<div class="ulist"><div class="title">Encoder</div><ul>
<li>
<p>
Plane image support (image data may require pixel-to-planar conversion)
</p>
</li>
<li>
<p>
32-bit signed pixel data only (image data may require type conversion)
</p>
</li>
<li>
<p>
RGB/CMYK/YCCK/Grayscale color models
</p>
</li>
<li>
<p>
Lossy (CDF 9/7) and lossless (CDF 5/3) wavelet transforms
</p>
</li>
<li>
<p>
Tiled encoding NOT supported (will be single tile)
</p>
</li>
<li>
<p>
Lossless encoding NOT supported
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Decoder</div><ul>
<li>
<p>
Tiled image decoding
</p>
</li>
<li>
<p>
32-bit arithmetic only
</p>
</li>
</ul></div>
<div class="paragraph"><p>JPEG2000 encoder and decoder can be multi-threaded  when compiled with OpenMP&#174; support.</p></div>
<hr />
</div>
<div class="sect3">
<h4 id="_jpeg_xr">JPEG XR</h4>
<div class="paragraph"><p>Formerly known as Windows Media Photo format (HD Photo),  JPEG XR (Extended Range)
provides higher image quality and better features than conventional  JPEG format. UIC
JPEG-XR codec supports</p></div>
<div class="ulist"><div class="title">Decoder</div><ul>
<li>
<p>
8-bit unsigned, 16-bit unsigned/signed/float, 32-bit unsigned/signed/float pixel values
</p>
</li>
<li>
<p>
RGB/RGBE/CMYK/YCbCr color models
</p>
</li>
<li>
<p>
Deep color (48 bit) mode
</p>
</li>
<li>
<p>
Alpha channel transparency/masking support
</p>
</li>
<li>
<p>
Tiled image decoding support
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Encoder</div><ul>
<li>
<p>
8-bit unsigned, 16-bit unsigned/signed/float, 32-bit unsigned/signed/float pixel values
</p>
</li>
<li>
<p>
1/3/4 channels images
</p>
</li>
</ul></div>
<div class="paragraph"><p>Both JPEG XR encoder and decoder can run in multi-threaded mode  if compiled with Intel&#174;
Thread Building Blocks (TBB) support.</p></div>
<hr />
</div>
<div class="sect3">
<h4 id="_portable_network_graphics_png">Portable Network Graphics (PNG)</h4>
<div class="paragraph"><p>Lossless (LZW-based) image compression method. UIC PNG codec supports</p></div>
<div class="ulist"><div class="title">Encoder</div><ul>
<li>
<p>
8/16-bit unsigned pixel data
</p>
</li>
<li>
<p>
Grayscale/Grayscale+Alpha/RGB/RGBA color models
</p>
</li>
<li>
<p>
Sub/Up/Average/Paeth pre-compression image filters
</p>
</li>
<li>
<p>
zlib-based compression (zlib <a href="#IPP_SAMPLES_OptNotice">performance</a> may be boosted with Intel&#174; IPP data compression
functions)
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Decoder</div><ul>
<li>
<p>
Image with chunks decoding
</p>
</li>
</ul></div>
<hr />
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_unified_speech_components_usc">Unified Speech Components (USC)</h2>
<div class="sectionbody">
<div class="sect3">
<h4 id="_umc_speech_rtp_codec_sample">UMC Speech RTP Codec Sample</h4>
<div class="paragraph"><p>The G.711, G.722, G.722.1, G.722.2, AMRWB, Extended AMRWB (AMRWB+),
G.723.1, G.726, G.728, G.729, GSM AMR, GSM FR are international
standards promoted by ITU (<a href="http://www.itu.int">http://www.itu.int</a>), ETSI
(<a href="http://www.etsi.org">http://www.etsi.org</a> ), 3GPP ( <a href="http://www.3gpp.org">http://www.3gpp.org</a> ) and other
organizations.</p></div>
<div class="paragraph"><p>Implementations of these standards, or the standard enabled platforms
may require licenses from various entities, including Intel
Corporation.</p></div>
<div class="paragraph"><p>The UMC RTP speech codec sample supports audio compression and
decompression to and from variety RTP payloads formats in compliance
with following standards: 3GPP TS 26 171, 173, 174, 190-194, 273, 274,
290 specifications, ITU-T G.722, G.722.1, G.722.2, G.723.1/A, G.726/A,
G.728/I/G/H/J, G.729/A/B/D/E/I/C/C+, G.711/I/II recommendations and
ETSI GSM 06.10-06.12, 06.31-06.32, 06.90-06.94 specifications, RFC 4867
and have been implemented using the Intel&#174; IPP Speech Coding functions.</p></div>
<div class="paragraph"><p>The sample is a command line based application which processes a single input file and
stores the result in a single output file.  When in encoding mode the
sample compresses audio data from an input WAV file storing compressed
data in rtpdump file format. In decoding mode the sample performs
reverse decompression from of an input file in rtpdump format and
restore audio data in WAV file format.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">
<div class="paragraph"><p>The sample application implements a round trip on an input file
by encoding it and decoding immediately it to show how things work. In
the real world a speech conversation over VOIP (for example) always has
two streams operating simultaneously in opposite directions. Trying to
decode two streams with one decoder will not work. You must run two
separate instances of the entire decoder suite, one in each direction.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><div class="title">Running the Sample</div><p>To run the sample for encode or for decode following commands line to
be used:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>usc_speech_rtp_codec.exe [options] &lt;infile&gt; &lt;outfile&gt;</code></pre>
</div></div>
<div class="paragraph"><p>Depending on which of two formats WAVE or RTPDump has the input file
<code>&lt;infile&gt;</code> either encode or decode operation will be performed
respectively.  For encode operation the output file <code>&lt;outfile&gt;</code> is
stored in RTPDump format, for decode output file is stored in WAVE
format.</p></div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 5. Option list</caption>
<col width="33%" />
<col width="66%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">-format &lt;codecname&gt;</p></td>
<td align="left" valign="top"><p class="table">codec option</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-r&lt;bitrate&gt;</p></td>
<td align="left" valign="top"><p class="table">bitrate option (mandatory)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-v</p></td>
<td align="left" valign="top"><p class="table">VAD enabled. Default: VAD disabled.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-b&lt;num&gt;</p></td>
<td align="left" valign="top"><p class="table">RTP payload format type for IPP_GSMAMR and IPP_AMRWB formats,
&lt;num&gt;=0 - Bandwidth-Efficient Mode, =1 - Octet-Aligned Mode</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-p&lt;num&gt;</p></td>
<td align="left" valign="top"><p class="table">Sets &lt;num&gt; - number of frames in the RTP packet</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-list</p></td>
<td align="left" valign="top"><p class="table">Enumerates supported formats, other parameters are ignored.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 6. List of supported formats and bitrates</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top">Codec name </th>
<th align="left" valign="top"> Supported bitrate, in bps</th>
<th align="left" valign="top"> Codec description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">IPP_G711A</p></td>
<td align="left" valign="top"><p class="table">64000</p></td>
<td align="left" valign="top"><p class="table">ITU G.711 A-law</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">IPP_G711U</p></td>
<td align="left" valign="top"><p class="table">64000</p></td>
<td align="left" valign="top"><p class="table">ITU G.711 u-Law</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">IPP_G722.1</p></td>
<td align="left" valign="top"><p class="table">16000, 24000, 32000</p></td>
<td align="left" valign="top"><p class="table">ITU G.722.1 wideband</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">IPP_G722</p></td>
<td align="left" valign="top"><p class="table">48000, 56000, 64000</p></td>
<td align="left" valign="top"><p class="table">ITU G.722 wideband</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">IPP_G723.1</p></td>
<td align="left" valign="top"><p class="table">5300, 6300</p></td>
<td align="left" valign="top"><p class="table">ITU G.723.1/A</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">IPP_G726</p></td>
<td align="left" valign="top"><p class="table">16000, 24000, 32000, 40000</p></td>
<td align="left" valign="top"><p class="table">ITU G.726/A</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">IPP_G728</p></td>
<td align="left" valign="top"><p class="table">9600, 12800, 16000, 40000</p></td>
<td align="left" valign="top"><p class="table">ITU G.728/G/I/H/J</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">IPP_G729</p></td>
<td align="left" valign="top"><p class="table">8000</p></td>
<td align="left" valign="top"><p class="table">ITU G.729 basic</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">IPP_G729D</p></td>
<td align="left" valign="top"><p class="table">6400</p></td>
<td align="left" valign="top"><p class="table">ITU G.729 Annex D</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">IPP_G729E</p></td>
<td align="left" valign="top"><p class="table">11800</p></td>
<td align="left" valign="top"><p class="table">ITU G.729 Annex E</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">IPP_G729A</p></td>
<td align="left" valign="top"><p class="table">8000</p></td>
<td align="left" valign="top"><p class="table">ITU G.729 Annex A</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">IPP_G729_FP</p></td>
<td align="left" valign="top"><p class="table">8000</p></td>
<td align="left" valign="top"><p class="table">ITU G.729 basic, floating-point implementation</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">IPP_G729D_FP</p></td>
<td align="left" valign="top"><p class="table">6400</p></td>
<td align="left" valign="top"><p class="table">ITU G.729 Annex D, floating-point implementation</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">IPP_G729E_FP</p></td>
<td align="left" valign="top"><p class="table">11800</p></td>
<td align="left" valign="top"><p class="table">ITU G.729 Annex E, floating-point implementation</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">IPP_G729A_FP</p></td>
<td align="left" valign="top"><p class="table">8000</p></td>
<td align="left" valign="top"><p class="table">ITU G.729 Annex A, floating-point implementation</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">IPP_GSMAMR</p></td>
<td align="left" valign="top"><p class="table">12200, 10200, 7950, 7400, 6700, 5900, 5150, 4750</p></td>
<td align="left" valign="top"><p class="table">ETSI GSM 06.90</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">IPP_GSMFR</p></td>
<td align="left" valign="top"><p class="table">13000</p></td>
<td align="left" valign="top"><p class="table">ETSI GSM 06.10
IPP_AMRWB</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">6600, 8850, 12650, 14250, 15850, 18250, 19850, 23050, 23850</p></td>
<td align="left" valign="top"><p class="table">ITU G.722.2 (3GPP AMRWB)</p></td>
<td align="left" valign="top"><p class="table">IPP_MSRTAnb_FP</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">8800</p></td>
<td align="left" valign="top"><p class="table">Narrowband 8000 KHz MSRTA codec, floating-point
implementation</p></td>
<td align="left" valign="top"><p class="table">IPP_MSRTAwb_FP</p></td>
</tr>
</tbody>
</table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">
<div class="paragraph"><p>The RT Audio codecs IPP_MSRTAnb_FP and IPP_MSRTAwb_FP are
optional and are not built by default. To enable these codecs please
compile the sample source with _USC_MSRTA definition and link with the
Intel&#174; IPP RTA static library (ipp_rta.lib) provided in binary form.</p></div>
</td>
</tr></table>
</div>
<hr />
</div>
<div class="sect3">
<h4 id="_echo_canceller">Echo Canceller</h4>
<div class="paragraph"><p>The G.167, G.168-2004, P.330, P.340 specifications are international standards promoted by
ITU ( <a href="http://www.itu.int">http://www.itu.int</a> ). Implementations of these standards, or the standard enabled
platforms may require licenses from various entities, including
Intel&#174; Corporation.</p></div>
<div class="paragraph"><p>The USC Echo Canceller sample is a command line based application that
performs echo cancellation. The EC sample processes two input files and
creates one output PCM file either narrow band 16 bit 8000 Hz or
wideband 16 bit 16000 Hz. The receive-in and send-in samples are
processed to perform echo path parameters estimation and estimated echo
is subtracted from the send-in samples and <strong>echo-free</strong> PCM data is
written to send-out output file.</p></div>
<div class="paragraph"><p>The sample implements three algorithms:</p></div>
<div class="ulist"><ul>
<li>
<p>
Fullband algorithm  - processing in time domain,
</p>
</li>
<li>
<p>
Subband algorithm - processing in the frequency domain,
</p>
</li>
<li>
<p>
Subband-Fast algorithm - fast processing in the frequency
domain. The Subband - Fast algorithm introduces 6ms delay for 8 kHz and 3
ms delay for 16kHz into the output signal.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The USC Echo Canceller software module is suitable for building an echo
cancellation device (<strong>digital terminals</strong>) compliant with ITU-T G.167,
G.168-2004, P.330, P.340 specifications. It is supposed that
conformance testing is to be performed by the device/application
producers, who are the only instance where all factors may be combined
to build such a device. Intel&#174; IPP releases software module only and does not
perform <strong>on-device</strong> testing, instead the specified testing  methodology
is simulated in software tests. Neither software nor results of said
tests are released.</p></div>
<div class="paragraph"><div class="title">Running the Sample</div><p>To run the USC EC sample, type:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>usc_ec.exe [options] &lt;rin-PCMFile &gt; &lt;sin-PCMFile &gt; &lt;sout-PCMFile &gt;</code></pre>
</div></div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 7. Option list</caption>
<col width="33%" />
<col width="66%" />
<thead>
<tr>
<th align="left" valign="top">Option                 </th>
<th align="left" valign="top"> Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">[-f &lt;frequency&gt;]</p></td>
<td align="left" valign="top"><p class="table">Set the sampling frequency, kHz: 8 or 16. Default 8.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">[-a &lt;algorithm&gt;]</p></td>
<td align="left" valign="top"><p class="table">Algorithm specifier: fb (fullband), sb (subband type 1) or sbf
(subband type 2). Default sb.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">[-ad &lt;algorithm&gt;]</p></td>
<td align="left" valign="top"><p class="table">Adaptation specifier: full or lite. Default full.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">[-ah &lt;mode&gt;]</p></td>
<td align="left" valign="top"><p class="table">Set the anti-howling device mode:1 - on (cos shift up. Exclude sb
modes). 0 - off. 0 as default.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">[-l &lt;num&gt;]</p></td>
<td align="left" valign="top"><p class="table">Set the echo tail length, ms: in the range [1, 200].</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">[-delay &lt;val&gt;]</p></td>
<td align="left" valign="top"><p class="table">Set the delay in send-in PCM file, integer number of milliseconds.
Leading end of send-in PCM will be cut off prior to echo cancel. Default: no delay.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">[-s &lt;num&gt;]</p></td>
<td align="left" valign="top"><p class="table">Set the number of times file to be processed (optional).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">[-c &lt;csv filename&gt;]</p></td>
<td align="left" valign="top"><p class="table">Enable the performance data output to the csv file. If repeat is
specified (-s option) the last result only will be written into the output file</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">[-o &lt;log filename&gt;]</p></td>
<td align="left" valign="top"><p class="table">Enable output to the log file.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">[-list]</p></td>
<td align="left" valign="top"><p class="table">Print out the modes list, and stop.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">[-sys]</p></td>
<td align="left" valign="top"><p class="table">Print out system information.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">[-ap &lt;val&gt;]</p></td>
<td align="left" valign="top"><p class="table">Set the affine projection order, 1 or 4 recommended, sbf only. 1
is default</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">[-nlp &lt;num&gt;]</p></td>
<td align="left" valign="top"><p class="table">0- Set NLP off. 1- NLP type actual for all modes, default. 2- NLP
type actual for sbf only. 3- 1+2 combined. Actual for sbf only.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">[-nr &lt;num&gt;]</p></td>
<td align="left" valign="top"><p class="table">Set Noise Reduction level, 0 - without NR. 1- Low, 2- Medium, 3-
Normal, 4- High, default, 5- Auto. Basically, the bigger number the higher level of NR.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">[-m &lt;num&gt;]</p></td>
<td align="left" valign="top"><p class="table">0-Set NR smoothing off, default. 1- static type of smoothing with
constant filter applied. 2- dynamic type of smoothing with changing filters applied.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">[-cng &lt;num&gt;]</p></td>
<td align="left" valign="top"><p class="table">0-Set CNG off, otherwise CNG is ON, if NLP is ON. 1- CNG type
actual for all modes, default. 2- CNG type actual for sbf with -nlp 2 only).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">[-dc]</p></td>
<td align="left" valign="top"><p class="table">Set DC offset compensation ON, default is OFF.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">[-tdno]</p></td>
<td align="left" valign="top"><p class="table">Switch OFF the G168 Tone disabler, default is ON</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">&lt;rin-PCMFile &gt;</p></td>
<td align="left" valign="top"><p class="table">Input file contains receive-in 16-bit PCM signal.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">&lt;sin-PCMFile &gt;</p></td>
<td align="left" valign="top"><p class="table">Input file contains send-in 16-bit PCM signal.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">&lt;sout-PCMFile &gt;</p></td>
<td align="left" valign="top"><p class="table">Output file contains send-out 16-bit PCM signal.</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
</div>
<div class="sect3">
<h4 id="_noise_reduction">Noise Reduction</h4>
<div class="paragraph"><p>The G.723.1, G.729 and AMRWB are international standards promoted by
ITU (<a href="http://www.itu.int">http://www.itu.int</a>) and 3GPP (<a href="http://www.3gpp.org">http://www.3gpp.org</a>).
Implementations of these standards, or the standard enabled platforms
may require licenses from various entities, including Intel
Corporation.</p></div>
<div class="paragraph"><p>The USC Noise reduction sample is a command line based application. It
supports two components: Noise Reduction and Voice Activity Detection.</p></div>
<div class="paragraph"><p>The Noise reduction sample component processes input PCM file narrow
band 16 bit 8000 Hz and creates output PCM file narrow band 16 bit 8000
Hz.</p></div>
<div class="paragraph"><p>The VAD detection sample component processes input PCM file narrow
band 16 bit 8000 Hz or wide band 16 bit 16000 Hz and creates output PCM
file narrow band 16 bit 8000 Hz or wide band 16 bit 16000 Hz
respectively. Various VAD algorithms are supported including G.723,
G.729, AMRWB.</p></div>
<div class="paragraph"><div class="title">Running the Sample</div><p>To run the USC noise reduction sample type:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>usc_nr.exe [options] &lt;inPCMFile&gt; &lt;outPCMFile&gt;</code></pre>
</div></div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 8. The option list</caption>
<col width="33%" />
<col width="66%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Option</p></td>
<td align="left" valign="top"><p class="table">Description</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-alg</p></td>
<td align="left" valign="top"><p class="table">filter algorithm name&lt;br&gt;IPP_NR_EC - Intel&#174; IPP based Noise Reduction
algorithm&lt;br&gt;IPP_NR_RTA_FP - Microsoft RT Audio Noise-Suppressor algorithm&lt;br&gt;IPP_VADG723  ITU G.723.1 VAD algorithm&lt;br&gt;IPP_VADG729_FP - ITU G.729 floating-point VAD algorithm&lt;br&gt;IPP_VADG729 - ITU G.729 VAD algorithm&lt;br&gt;IPP_VADAMRWBE - 3GPP AMR WB  VAD algorithm</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-f&lt;freq&gt;</p></td>
<td align="left" valign="top"><p class="table">Sample frequency in Hertz.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-n</p></td>
<td align="left" valign="top"><p class="table">output additional information  (optional).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-list</p></td>
<td align="left" valign="top"><p class="table">Enumerate linked USC signal filter algorithms and exit  (optional).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-o &lt;logFile&gt;</p></td>
<td align="left" valign="top"><p class="table">write to &lt;logFile&gt; file log information (optional).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">&lt;inPCMFile&gt;</p></td>
<td align="left" valign="top"><p class="table">input audio PCM file</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">&lt;outPCMFile&gt;</p></td>
<td align="left" valign="top"><p class="table">output audio PCM file 8000 Hz (IPP_NR_EC, IPP_NR_RTA_FP, IPP_VADG723,
IPP_VADG729_FP, IPP_VADG729 algorithms)  or 16000 Hz ( IPP_NR_RTA_FP and IPP_VADAMRWBE
algorithms) or 22050 and 32000 Hz ( IPP_NR_RTA_FP)</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
</div>
<div class="sect3">
<h4 id="_speech_sample">Speech Sample</h4>
<div class="paragraph"><p>The G.711, G.722, G.722.1, G.722.2, AMRWB, Extended AMRWB (AMRWB+),
G.723.1, G.726, G.728, G.729, GSM AMR, GSM FR are international
standards promoted by ITU ( <a href="http://www.itu.int">http://www.itu.int</a> ), ETSI (
<a href="http://www.etsi.org">http://www.etsi.org</a> ), 3GPP ( <a href="http://www.3gpp.org">http://www.3gpp.org</a> ) and other
organizations. Implementations of these standards, or the standard
enabled platforms may require licenses from various entities, including
Intel&#174; Corporation.</p></div>
<div class="paragraph"><p>The USC speech coding sample supports a variety of speech coding
formats and performs compression/decompression in compliance with the
3GPP TS 26 071, 073, 171, 173, 174, 190-194, 273, 274, 290
specifications, ITU-T G.722, G.722.1, G.722.2, G.723.1/A, G.726/A,
G.728/I/G/H/J, G.729/A/B/D/E/I/C/C+, G.711/I/II recommendations and
ETSI GSM 06.10-06.12, 06.31-06.32, 06.90-06.94 specifications and have
been implemented using the Intel&#174; IPP Speech Coding functions.</p></div>
<div class="paragraph"><p>The sample is a command line based application which processes data
given by single input file and stores the result in an output file.</p></div>
<div class="paragraph"><p>When in encoding mode the sample consumes either 16 bit narrowband 8000
Hz or 16 bit wideband 16000 Hz raw PCM data or 8 bit narrowband 8000 Hz
A-Law/Mu-Law PCM or 8bit wideband 16000 Hz A-Law/Mu-Law PCM data stored
in WAVE file format and produces a compressed USC bitstream stored in a
compressed WAVE file. The USC bitstream can be decompressed with the
sample and a the lossy copy of original PCM file will be created in the
same band and format.</p></div>
<div class="paragraph"><p>The header of the USC file format is similar to the header of WAVE
file format for non-PCM data. Bitstream frames are consecutively stored
in data section of the USC file. Each bitstream frame is stored with
small header followed by the bitstream data. The bitstream header
format is depicted below:</p></div>
<div class="listingblock">
<div class="content">
<pre><code> 0               1               2               3               4               5
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7
 -------------------------------------------------------------------------------------------------
 |                    Bitrate                    |  Frame type   |         Frame length          |
 -------------------------------------------------------------------------------------------------</code></pre>
</div></div>
<div class="paragraph"><p>A header comprises of six octets: first three octets represent bitrate
in bps, the second octet represents frame type and latter two octets
contain the pure bitstream data length, not including the header
length. The bitstream data follows after the header. In some cases,
depending on the silence compression scheme used, the codec can produce
an empty bitstream and so a frame header with zero data length is
created.</p></div>
<div class="paragraph"><div class="title">Running the Sample</div><p>To run the USC speech sample for compression, type:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>usc_speech_codec.exe [options] &lt;inWAVEFile&gt; &lt;outUSCFile&gt;</code></pre>
</div></div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 9. Encoder option list:</caption>
<col width="20%" />
<col width="80%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">-format</p></td>
<td align="left" valign="top"><p class="table">IPP_G711A (ITU G.711 A-law)<br />
IPP_G711U (ITU G.711 u-Law)<br />
IPP_AMRWB (ITU G.722.2 (3GPP AMRWB) codec)<br />
IPP_G722.1 (ITU G.722.1 wideband codec)<br />
IPP_G722 (ITU G.722 wideband codec)<br />
IPP_G723.1 (ITU G.723.1/A codec)<br />
IPP_G726 (ITU G.726/A codec)<br />
IPP_G728 (ITU G.728/G/I/H/J codec)<br />
IPP_G729A (ITU G.729AB codec)<br />
IPP_G729I (ITU G.729 codec)<br />
IPP_G729AFP (ITU G.729AB codec, alternative floating-point implementation)<br />
IPP_G729IFP (ITU G.729 codec, alternative floating-point implementation)<br />
IPP_GSMAMR (ETSI GSM 06.90 codec)<br />
IPP_GSMFR (ETSI GSM 06.10 codec)<br />
IPP_AMRWBE (3GPP extended AMRWB (AMRWB+) codec)<br />
IPP_MSRTA_FP (Microsoft* real-time audio codec)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-r</p></td>
<td align="left" valign="top"><p class="table">bitrate in bps<br />
IPP_G711A and IPP_G711U formats: -r64000<br />
IPP_G722 format: -r48000 -r56000 -r64000<br />
IPP_G722.1 format: -r16000  -r24000  -r32000  -r48000<br />
IPP_G723.1 format: -r5300  -r6300<br />
IPP_G726 format: -r16000  -r24000  -r32000  -r40000<br />
IPP_G728 format: -r9600 -r12800 -r16000 -r40000<br />
IPP_G729A and IPP_G729AFP formats: -r8000<br />
IPP_G729I and IPP_G729IFP formats: -r6400 -r8000 -r11800<br />
IPP_GSMAMR format: -r12200 -r10200 -r7950 -r7400 -r6700 -r5900 -r5150 -r4750<br />
IPP_GSMFR format: -r13000<br />
IPP_AMRWB format: -r6600 -r8850 -r12650 -r14250 -r15850 -r18250 -r19850 -r23050 -r23850
IPP_AMRWBE format: -r6600 -r8850 -r12650 -r14250 -r15850 -r18250 -19850 -r23050 -r23850 -
AMRWB compatible bitrates for mono 16 KHz PCM<br />
-r13600 -r24000 - bitrates for 16 and 24 KHz mono PCM,<br />
-r18000 -r24000 - bitrates for 16 and 24 KHz stereo PCM,<br />
-r10400 -r12000 -r13600 -r15200 -r16800 -r19200 -r20800 -r24000  -
bitrates for 16, 24, 32 and 48 KHz mono PCM,<br />
-r12400 -r12800 -r14000 -r14400 -r15200 -r16000 -r16400 -r17200 -r18000 -r18400 -r19200
-r 20000 -r20400 -r21200 -r22400 -r23200 -r24000 -r25600 -r26000 -r26800 -r28800 -r29600
-r30000 -r32000 - bitrates  for 16, 24, 32 and 48 KHz stereo PCM.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-list</p></td>
<td align="left" valign="top"><p class="table">Enumerates supported formats.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-v</p></td>
<td align="left" valign="top"><p class="table">VAD enabled. Default: VAD disabled.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-n</p></td>
<td align="left" valign="top"><p class="table">output additional information.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-o</p></td>
<td align="left" valign="top"><p class="table">&lt;logFile&gt; write to &lt;logFile&gt; file log information.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">&lt;inWAVEFile&gt;</p></td>
<td align="left" valign="top"><p class="table">input audio WAV file, mono 8000 Hz (G711, G723,
G726, G728, G729, GSMAMR, GSMFR, AMRWBE) or mono 16000 Hz (G722,
G722SB, AMRWB, AMRWBE) or stereo 8000 Hz (AMRWBE) or stereo 16000 Hz
(AMRWBE)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">&lt;outUSCFile&gt;</p></td>
<td align="left" valign="top"><p class="table">output bitstream file in USC compressed WAV
file format.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>To run the USC speech sample for decompression, type:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>usc_speech_codec.exe [options] &lt;inUSCFile&gt; &lt;outWAVEFile&gt;</code></pre>
</div></div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 10. Decoder option list</caption>
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">-list</p></td>
<td align="left" valign="top"><p class="table">Enumerates supported formats</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-n</p></td>
<td align="left" valign="top"><p class="table">output additional information</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-o &lt;logFile&gt;</p></td>
<td align="left" valign="top"><p class="table">write to <code>&lt;logFile&gt;</code> file log information</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-alaw</p></td>
<td align="left" valign="top"><p class="table">Convert decompressed output file to the A-Law PCM</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-mulaw</p></td>
<td align="left" valign="top"><p class="table">Convert decompressed output file to the Mu-Law PCM</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-lost&lt;N&gt;</p></td>
<td align="left" valign="top"><p class="table">Simulate <code>&lt;N&gt;</code> % of lost frames, where <code>&lt;N&gt;</code> is integer number</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">&lt;inUSCFile&gt;</p></td>
<td align="left" valign="top"><p class="table">input bitstream file in USC compressed WAV file
format.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">&lt;outWAVEFile&gt;</p></td>
<td align="left" valign="top"><p class="table">output audio WAV file, mono 8000 Hz (G711, G723,
G726, G728, G729, GSMAMR, GSMFR, AMRWBE) or mono 16000 Hz (G722,
G722SB, AMRWB, AMRWBE) or stereo 8000 Hz (AMRWBE) or stereo 16000 Hz
(AMRWBE)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>To run the USC speech sample for timing:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>usc_speech_codec.exe -timing[CodecName] &lt;RepeatNum&gt; [options] &lt;inWAVEFile&gt;</code></pre>
</div></div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 11. Timing options list</caption>
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">[CodecName]</p></td>
<td align="left" valign="top"><p class="table">Codec name (See -format encoder option description),  for example
-timingIPP_G728. If unspecified all codecs will be timed (according to given &lt;inWAVEFile&gt;
format)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">&lt;RepeatNum&gt;</p></td>
<td align="left" valign="top"><p class="table">number of times to repeat <code>&lt;inWAVEFile&gt;</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-n</p></td>
<td align="left" valign="top"><p class="table">output additional information</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-c &lt;CSVFile&gt;</p></td>
<td align="left" valign="top"><p class="table">write to <code>&lt;CSVFile&gt;</code> file the information about  coder performance in
CSV Excel format</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-lost&lt;N&gt;</p></td>
<td align="left" valign="top"><p class="table">Simulate <code>&lt;N&gt;</code> % of lost frames, where <code>&lt;N&gt;</code> is integer number</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-o &lt;logFile&gt;</p></td>
<td align="left" valign="top"><p class="table">write to <code>&lt;logFile&gt;</code> file log information</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">&lt;inWAVEFile&gt;</p></td>
<td align="left" valign="top"><p class="table">input audio WAV file, mono 8000 Hz (G711, G723, G726,  G728, G729,
GSMAMR, GSMFR, AMRWBE) or mono 16000 Hz (G722, G722SB, AMRWB, AMRWBE) or stereo 8000 Hz
(AMRWBE) or stereo 16000 Hz (AMRWBE)</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
</div>
<div class="sect3">
<h4 id="_tones_processing">Tones Processing</h4>
<div class="paragraph"><p>The G.168 is international standard promoted by ITU (<a href="http://www.itu.int">http://www.itu.int</a>). Implementations
of this standard, or the standard enabled platforms may require licenses from various
entities, including Intel Corporation.</p></div>
<div class="paragraph"><p>The USC Tones Processing sample is a command line based application that performs /ANS and
DTMF tones detection and tones generation.</p></div>
<div class="paragraph"><p>The tones detector processes an input 16 bit PCM file of either narrow band frequency
8000 Hz or wideband frequency 16000 Hz and creates one output text file containing the
textual names of detected tones. If no tones in the input file are detected the output
file is empty (zero length). The /ANS tone is 2100 Hz tone with phase reversals at 450 ms.
The DTMF ( Dual-Tone Multi-Frequency ) tone a signal combining two  following pure tones:
a low frequency tone from 697, 770, 852 or 941 Hz and high frequency tone from 1209, 1336,
1477 or 1633 Hz.  DTMF are used in telephony for keypad representation as shown in the
following table with each row representing a low frequency, and each column
representing a high frequency :</p></div>
<div class="tableblock">
<table rules="all"
width="60%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 12. DTMF keypad frequencies</caption>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<thead>
<tr>
<th align="left" valign="top">           </th>
<th align="left" valign="top"> 1209 Hz   </th>
<th align="left" valign="top"> 1336 Hz   </th>
<th align="left" valign="top"> 1477 Hz   </th>
<th align="left" valign="top"> 1633 Hz</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">697 Hz</p></td>
<td align="left" valign="top"><p class="table">1</p></td>
<td align="left" valign="top"><p class="table">2</p></td>
<td align="left" valign="top"><p class="table">3</p></td>
<td align="left" valign="top"><p class="table">A</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">770 Hz</p></td>
<td align="left" valign="top"><p class="table">4</p></td>
<td align="left" valign="top"><p class="table">5</p></td>
<td align="left" valign="top"><p class="table">6</p></td>
<td align="left" valign="top"><p class="table">B</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">852 Hz</p></td>
<td align="left" valign="top"><p class="table">7</p></td>
<td align="left" valign="top"><p class="table">8</p></td>
<td align="left" valign="top"><p class="table">9</p></td>
<td align="left" valign="top"><p class="table">C</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">941 Hz</p></td>
<td align="left" valign="top"><p class="table">*</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">#</p></td>
<td align="left" valign="top"><p class="table">D</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>The tones generator processes input parameters for generation: tones  succession (for
DTMF) or one tone (for ANS) duration of tone and pause, and amplitude level, and creates
one output PCM file either narrow band 16 bit 8000 Hz or wideband 16 bit 16000 Hz.</p></div>
<div class="paragraph"><p>The tone detection algorithm complies with ITU G.168-200 2 and Q.23 specifications.</p></div>
<div class="paragraph"><div class="title">Running the Sample</div><p>To run the USC tones detector type:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>usc_tones.exe -dt -type DTMF|ANS [options] &lt;inPCMFile&gt; &lt;outTextFile&gt;</code></pre>
</div></div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 13. The option list</caption>
<col width="33%" />
<col width="66%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">-type</p></td>
<td align="left" valign="top"><p class="table">DTMF or ANS detector</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-fXXX</p></td>
<td align="left" valign="top"><p class="table">PCM frequency in kHz of the input file, where XXX equals 8000 or 16000</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-n</p></td>
<td align="left" valign="top"><p class="table">output additional information  (optional)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-o &lt;logFile&gt;</p></td>
<td align="left" valign="top"><p class="table">write to <code>&lt;logFile&gt;</code> file log information (optional)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">&lt;inPCMFile&gt;</p></td>
<td align="left" valign="top"><p class="table">input audio PCM file, 8000 Hz  or 16000 Hz</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">&lt;outTextFile&gt;</p></td>
<td align="left" valign="top"><p class="table">output text file</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>To run the USC tones generator type:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>usc_tones.exe -type DTMF -gtXXX [options] &lt;outPCMFile&gt;</code></pre>
</div></div>
<div class="paragraph"><p>or</p></div>
<div class="listingblock">
<div class="content">
<pre><code>usc_tones.exe  -type ANS -gt Y [options] &lt;outPCMFile&gt;</code></pre>
</div></div>
<div class="tableblock">
<table rules="all"
width="60%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 14. The option list</caption>
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">-type</p></td>
<td align="left" valign="top"><p class="table">DTMF or ANS generator</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-fXXX</p></td>
<td align="left" valign="top"><p class="table">PCM frequency in kHz of the output file, where <code>XXX</code> equals 8000 or 16000</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-gtXXX</p></td>
<td align="left" valign="top"><p class="table"><code>XXX</code> is a sequence of keypad symbols to generate DTMF for. For example, <em>-gtABC</em></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-gt Y</p></td>
<td align="left" valign="top"><p class="table"><code>Y</code> is a single tone of ANS group of tones: ANS, /ANS, ANSam, /ANSam. For
example, <em>-gt /ANS</em></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-tXXX</p></td>
<td align="left" valign="top"><p class="table">Duration time of tone in ms</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-pXXX</p></td>
<td align="left" valign="top"><p class="table">Duration time of pause in ms</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-vXXX</p></td>
<td align="left" valign="top"><p class="table">Amplitude level in dB</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-n</p></td>
<td align="left" valign="top"><p class="table">output additional information (optional)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-o &lt;logFile&gt;</p></td>
<td align="left" valign="top"><p class="table">write to <code>&lt;logFile&gt;</code> file log information (optional)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">&lt;outPCMFile&gt;</p></td>
<td align="left" valign="top"><p class="table">output audio PCM file, 8000 Hz  or 16000 Hz</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
</div>
<div class="sect3">
<h4 id="_usc_codecs">USC Codecs</h4>
<div class="paragraph"><div class="title">AMRWB</div><p>The USC AMRWB codec is designed to operate with a digital signal  appropriate to 3GPP TS
26.190 specification for Adaptive Multi-Rate WideBand codec promoted 3rd Generation
Partnership Project (<a href="http://www.3gpp.org">http://www.3gpp.org</a>). It is compliant with 3GPP TS 26.190-192,194,201
specifications and has been implemented using the Intel&#174; IPP Speech Coding functions.
The USC AMRWB codec supports compression and decompression with 20ms frame length at nine
bitrates 6600, 8850, 12650, 14250, 15850, 18250, 19850, 23050 or 23850  bps producing 132,
177, 253, 285, 317, 365, 397, 461 or 477 bits per frame (bpf) respectively.</p></div>
<div class="paragraph"><p>USC AMRWB codec is compatible with 3GPP TS 26.173 v5.9.0 (2004-12) ANSI-C Code.</p></div>
<div class="paragraph"><div class="title">USC Codec description</div><p>For USC Interface description refer to <em>USC manual</em>.</p></div>
<div class="tableblock">
<table rules="all"
width="60%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 15. USC AMRWB codec parameters</caption>
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Codec name</p></td>
<td align="left" valign="top"><p class="table">IPP_AMRWB</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Compression algorithm</p></td>
<td align="left" valign="top"><p class="table">Multi-Rate WideBand Algebraic Code Excited Linear Prediction
(MRWB-ACELP)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Linkage</p></td>
<td align="left" valign="top"><p class="table">USC_AMRWB_Fxns</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Signal</p></td>
<td align="left" valign="top"><p class="table">16bit linear PCM</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Sampling</p></td>
<td align="left" valign="top"><p class="table">16000 Hz</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame</p></td>
<td align="left" valign="top"><p class="table">20ms</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Bitrates</p></td>
<td align="left" valign="top"><p class="table">6600 bps (132 bpf), 8850 bps (177 bpf), 12650 bps (253 bpf),
14250 bps (285 bpf), 15850 bps (317 bpf), 18250 bps (365 bpf), 19850 bps (397 bpf), 23050
bps (461 bpf), 23850  bps (477 bpf);  SID - 35 bpf</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Voice Activity Detection</p></td>
<td align="left" valign="top"><p class="table">VAD supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Packet Loss Concealment</p></td>
<td align="left" valign="top"><p class="table">PLC supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame type (value)</p></td>
<td align="left" valign="top"><p class="table">TX_NON_SPEECH (-1), TX_SPEECH_GOOD (0), TX_SID_FIRST(1),
TX_SID_UPDATE (2), TX_NO_DATA (3), TX_SPEECH_PROBABLY_DEGRADED (4), TX_SPEECH_LOST (5),
TX_SPEECH_BAD (6), TX_SID_BAD (7)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Standards</p></td>
<td align="left" valign="top"><p class="table">3GPP TS 26.190-192,194</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
<div class="paragraph"><div class="title">AMRWBE</div><p>The USC AMRWBE codec is designed to operate with a digital signal appropriate to the 3GPP
TS 26.290 specification for Extended Adaptive Multi-Rate  WideBand (AMR WB+) codec
promoted by 3rd Generation Partnership Project (<a href="http://www.3gpp.org">http://www.3gpp.org</a>). It  is fully
compliant to the specification and has been implemented using the Intel&#174; IPP Speech
Coding functions.</p></div>
<div class="paragraph"><p>The USC AMRWBE codec supports all modes including VAD supported by USC AMRWB codec and
has extended functionality in supporting transform and bandwidth extension coding, stereo
mode and audio signals sampled at higher bands: 24/32/48 kHz. USC AMRWBE codec encodes  16
bit PCM signal re-sampled by using a variable sampling conversion scheme, within internal
sampling frequency (ISF) in range 2800-38400 Hz.</p></div>
<div class="paragraph"><p>USC AMRWBE codec supports nine mono 16 KHz AMRWB compatible bitrates  6600, 8850, 12650, 14250, 15850, 18250, 19850,
23050, 23850 bps, and thirty six AMRWBE extended bitrates, namely</p></div>
<div class="ulist"><ul>
<li>
<p>
two mono 16/24 KHz bitrates 13600, 24000 bps
</p>
</li>
<li>
<p>
two stereo 16/24 KHz bitrates 18000, 24000 bps
</p>
</li>
<li>
<p>
eight mono 16/24/32/48 KHz bitrates 10400, 12000, 13600, 15200, 16800, 19200, 20800,
24000 bps and
</p>
</li>
<li>
<p>
twenty four stereo 16/24/32/48 KHz bitrates 12400, 12800, 14000, 14400, 15200, 16000,
16400, 17200, 18000, 18400, 19200, 20000, 20400, 21200,  22400, 23200, 24000, 25600,
26000, 26800, 28800, 29600, 30000, 32000 bps.
</p>
</li>
</ul></div>
<div class="paragraph"><p>USC AMRWBE codec is compatible with 3GPP TS 26.273 v6.0.0 (2005-03) ANSI-C Code.</p></div>
<div class="paragraph"><div class="title">USC Codec description</div><p>For USC Interface description refer to <em>USC manual</em>.</p></div>
<div class="tableblock">
<table rules="all"
width="60%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 16. USC AMRWBE codec parameters</caption>
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Codec name</p></td>
<td align="left" valign="top"><p class="table">IPP_AMRWBE</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Compression algorithms</p></td>
<td align="left" valign="top"><p class="table">Multi-Rate WideBand Algebraic Code Excited Linear Prediction
(MRWB-ACELP), Transform Coding (TCX) and Bandwidth Extension (BWE)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Linkage</p></td>
<td align="left" valign="top"><p class="table">USC_AMRWBE_Fxns</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Signal</p></td>
<td align="left" valign="top"><p class="table">16bit linear PCM, mono and stereo.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Sampling</p></td>
<td align="left" valign="top"><p class="table">16000, 24000, 32000, 48000 Hz both for encode and decode
and 8000 Hz for decode only</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame duration and frame size</p></td>
<td align="left" valign="top"><p class="table">in AMRWB and AMRWB character modes frame size is 20 ms.
Four consequence frames are transmitting as one 80ms super frame. Frame size at these
modes is sets up to 640 (by default)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>At the AMRWBE modes frame duration varies depending on the internal sampling frequency</p></div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
<thead>
<tr>
<th align="left" valign="top">Internal sampling rate (Hz) </th>
<th align="left" valign="top"> frame duration (ms) </th>
<th align="left" valign="top"> frame size </th>
<th align="left" valign="top"> bitrate factor</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">12800</p></td>
<td align="left" valign="top"><p class="table">160.0</p></td>
<td align="left" valign="top"><p class="table">5120</p></td>
<td align="left" valign="top"><p class="table">1/2</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">14400</p></td>
<td align="left" valign="top"><p class="table">142.2</p></td>
<td align="left" valign="top"><p class="table">4550</p></td>
<td align="left" valign="top"><p class="table">9/16</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">16000</p></td>
<td align="left" valign="top"><p class="table">128.0</p></td>
<td align="left" valign="top"><p class="table">4096</p></td>
<td align="left" valign="top"><p class="table">5/8</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">17067</p></td>
<td align="left" valign="top"><p class="table">120.0</p></td>
<td align="left" valign="top"><p class="table">3840</p></td>
<td align="left" valign="top"><p class="table">2/3</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">19200</p></td>
<td align="left" valign="top"><p class="table">106.7</p></td>
<td align="left" valign="top"><p class="table">3414</p></td>
<td align="left" valign="top"><p class="table">3/4</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">21333</p></td>
<td align="left" valign="top"><p class="table">96.0</p></td>
<td align="left" valign="top"><p class="table">3072</p></td>
<td align="left" valign="top"><p class="table">5/6</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">24000</p></td>
<td align="left" valign="top"><p class="table">85.3</p></td>
<td align="left" valign="top"><p class="table">2730</p></td>
<td align="left" valign="top"><p class="table">15/16</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">25600</p></td>
<td align="left" valign="top"><p class="table">80.0</p></td>
<td align="left" valign="top"><p class="table">2560</p></td>
<td align="left" valign="top"><p class="table">1</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">28800</p></td>
<td align="left" valign="top"><p class="table">71.1</p></td>
<td align="left" valign="top"><p class="table">2274</p></td>
<td align="left" valign="top"><p class="table">9/8</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">32000</p></td>
<td align="left" valign="top"><p class="table">64.0</p></td>
<td align="left" valign="top"><p class="table">2048</p></td>
<td align="left" valign="top"><p class="table">5/4</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">34133</p></td>
<td align="left" valign="top"><p class="table">60.0</p></td>
<td align="left" valign="top"><p class="table">1920</p></td>
<td align="left" valign="top"><p class="table">4/3</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">36000</p></td>
<td align="left" valign="top"><p class="table">56.9</p></td>
<td align="left" valign="top"><p class="table">1820</p></td>
<td align="left" valign="top"><p class="table">45/32</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">38400</p></td>
<td align="left" valign="top"><p class="table">53.3</p></td>
<td align="left" valign="top"><p class="table">1706</p></td>
<td align="left" valign="top"><p class="table">3/2</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>Internal sampling rate is selects by frame size set up to given values. With AMRWBE rates
frame size sets up to 1280 (25600 Hz) by default, excluding 13.6, 24 kbps mono and 18, 24
kbps stereo rates (AMRWB character modes by default). The bit rate also dependents on the
internal sampling frequency. <em>Bitrate factor</em> indicates factor any  bit-rate value for
25600 Hz internal sampling factor should be converted with.</p></div>
<div class="tableblock">
<table rules="all"
width="60%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 17. Bitrates (AMRWB modes)</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">bitrate (bps)</p></td>
<td align="left" valign="top"><p class="table">bits per frame</p></td>
<td align="left" valign="top"><p class="table">octes per frame</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">6600</p></td>
<td align="left" valign="top"><p class="table">132</p></td>
<td align="left" valign="top"><p class="table">17</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">8850</p></td>
<td align="left" valign="top"><p class="table">177</p></td>
<td align="left" valign="top"><p class="table">23</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">12650</p></td>
<td align="left" valign="top"><p class="table">253</p></td>
<td align="left" valign="top"><p class="table">32</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">14250</p></td>
<td align="left" valign="top"><p class="table">285</p></td>
<td align="left" valign="top"><p class="table">36</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">15850</p></td>
<td align="left" valign="top"><p class="table">317</p></td>
<td align="left" valign="top"><p class="table">40</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">18250</p></td>
<td align="left" valign="top"><p class="table">365</p></td>
<td align="left" valign="top"><p class="table">46</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">19850</p></td>
<td align="left" valign="top"><p class="table">397</p></td>
<td align="left" valign="top"><p class="table">50</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">23050</p></td>
<td align="left" valign="top"><p class="table">461</p></td>
<td align="left" valign="top"><p class="table">58</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">23850</p></td>
<td align="left" valign="top"><p class="table">477</p></td>
<td align="left" valign="top"><p class="table">60</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">SID</p></td>
<td align="left" valign="top"><p class="table">35</p></td>
<td align="left" valign="top"><p class="table">5</p></td>
</tr>
</tbody>
</table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">16kHz mono PCM allowed only.</td>
</tr></table>
</div>
<div class="tableblock">
<table rules="all"
width="60%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 18. Bitrates (AMRWB character modes (modes with fixed internal sampling frequency)</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">bitrate (bps)</p></td>
<td align="left" valign="top"><p class="table">bits per frame</p></td>
<td align="left" valign="top"><p class="table">octes per frame</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">13600 mono</p></td>
<td align="left" valign="top"><p class="table">272</p></td>
<td align="left" valign="top"><p class="table">34</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">24000 mono</p></td>
<td align="left" valign="top"><p class="table">480</p></td>
<td align="left" valign="top"><p class="table">60</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">18000 stereo</p></td>
<td align="left" valign="top"><p class="table">360</p></td>
<td align="left" valign="top"><p class="table">45</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">24000 stereo</p></td>
<td align="left" valign="top"><p class="table">480</p></td>
<td align="left" valign="top"><p class="table">60</p></td>
</tr>
</tbody>
</table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">8/16/24 kHz PCM applicable.</td>
</tr></table>
</div>
<div class="tableblock">
<table rules="all"
width="60%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 19. Bitrates (AMRWBE mono modes (bit rates assume 25600 Hz internal sampling frequency)</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">bitrate (bps)</p></td>
<td align="left" valign="top"><p class="table">bits per frame</p></td>
<td align="left" valign="top"><p class="table">octes per frame</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">10400</p></td>
<td align="left" valign="top"><p class="table">208</p></td>
<td align="left" valign="top"><p class="table">26</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">12000</p></td>
<td align="left" valign="top"><p class="table">240</p></td>
<td align="left" valign="top"><p class="table">30</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">13600</p></td>
<td align="left" valign="top"><p class="table">272</p></td>
<td align="left" valign="top"><p class="table">34</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">15200</p></td>
<td align="left" valign="top"><p class="table">304</p></td>
<td align="left" valign="top"><p class="table">38</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">16800</p></td>
<td align="left" valign="top"><p class="table">336</p></td>
<td align="left" valign="top"><p class="table">42</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">19200</p></td>
<td align="left" valign="top"><p class="table">384</p></td>
<td align="left" valign="top"><p class="table">48</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">20800</p></td>
<td align="left" valign="top"><p class="table">416</p></td>
<td align="left" valign="top"><p class="table">52</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">24000</p></td>
<td align="left" valign="top"><p class="table">480</p></td>
<td align="left" valign="top"><p class="table">60</p></td>
</tr>
</tbody>
</table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">Full mono and stereo sampling band applicable.</td>
</tr></table>
</div>
<div class="tableblock">
<table rules="all"
width="60%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 20. Bitrates (AMRWBE stereo modes (bit rates assume 25600 Hz internal sampling frequency))</caption>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">bitrate (bps)</p></td>
<td align="left" valign="top"><p class="table">bits per frame</p></td>
<td align="left" valign="top"><p class="table">octes per frame</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">12400</p></td>
<td align="left" valign="top"><p class="table">248</p></td>
<td align="left" valign="top"><p class="table">31</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">12800</p></td>
<td align="left" valign="top"><p class="table">256</p></td>
<td align="left" valign="top"><p class="table">32</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">14000</p></td>
<td align="left" valign="top"><p class="table">280</p></td>
<td align="left" valign="top"><p class="table">35</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">14400</p></td>
<td align="left" valign="top"><p class="table">288</p></td>
<td align="left" valign="top"><p class="table">36</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">15200</p></td>
<td align="left" valign="top"><p class="table">304</p></td>
<td align="left" valign="top"><p class="table">38</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">16000</p></td>
<td align="left" valign="top"><p class="table">320</p></td>
<td align="left" valign="top"><p class="table">40</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">16400</p></td>
<td align="left" valign="top"><p class="table">328</p></td>
<td align="left" valign="top"><p class="table">41</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">17200</p></td>
<td align="left" valign="top"><p class="table">344</p></td>
<td align="left" valign="top"><p class="table">43</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">18000</p></td>
<td align="left" valign="top"><p class="table">360</p></td>
<td align="left" valign="top"><p class="table">45</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">18400</p></td>
<td align="left" valign="top"><p class="table">368</p></td>
<td align="left" valign="top"><p class="table">46</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">19200</p></td>
<td align="left" valign="top"><p class="table">384</p></td>
<td align="left" valign="top"><p class="table">48</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">20000</p></td>
<td align="left" valign="top"><p class="table">400</p></td>
<td align="left" valign="top"><p class="table">50</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">20400</p></td>
<td align="left" valign="top"><p class="table">408</p></td>
<td align="left" valign="top"><p class="table">51</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">21200</p></td>
<td align="left" valign="top"><p class="table">424</p></td>
<td align="left" valign="top"><p class="table">53</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">22400</p></td>
<td align="left" valign="top"><p class="table">448</p></td>
<td align="left" valign="top"><p class="table">56</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">23200</p></td>
<td align="left" valign="top"><p class="table">464</p></td>
<td align="left" valign="top"><p class="table">58</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">24000</p></td>
<td align="left" valign="top"><p class="table">480</p></td>
<td align="left" valign="top"><p class="table">60</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">25600</p></td>
<td align="left" valign="top"><p class="table">512</p></td>
<td align="left" valign="top"><p class="table">64</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">26000</p></td>
<td align="left" valign="top"><p class="table">520</p></td>
<td align="left" valign="top"><p class="table">65</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">26800</p></td>
<td align="left" valign="top"><p class="table">536</p></td>
<td align="left" valign="top"><p class="table">67</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">28800</p></td>
<td align="left" valign="top"><p class="table">576</p></td>
<td align="left" valign="top"><p class="table">72</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">29600</p></td>
<td align="left" valign="top"><p class="table">592</p></td>
<td align="left" valign="top"><p class="table">74</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">30000</p></td>
<td align="left" valign="top"><p class="table">600</p></td>
<td align="left" valign="top"><p class="table">75</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">32000</p></td>
<td align="left" valign="top"><p class="table">640</p></td>
<td align="left" valign="top"><p class="table">80</p></td>
</tr>
</tbody>
</table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">
<div class="paragraph"><p>Full stereo sampling band applicable. For mono bitrates <code>USC_Modes::outMode</code> must
be setup to <code>USC_OUT_MONO</code> and to <code>USC_OUT_STEREO</code> for stereo bitrates.</p></div>
</td>
</tr></table>
</div>
<hr />
<div class="paragraph"><div class="title">Echo Canceller Module</div><p>Echo Canceller basically represent a type of algorithms or device for  preventing an
electric or acoustic feedback (an echo). The transfer function between the original
(remote) signal and echoed with local voice signal can be reconstructed and thus echo
replica removed.</p></div>
<div class="paragraph"><p>The job of the EC is to accurately estimate the transfer function (echo path) and delay
so that a restore local room filter response to original (for example, loudspeaker signal)
may be subtracted from the echoed signal (for example, microphone signal), thus cancelling
the echo.</p></div>
<div class="paragraph"><p>USC Echo Canceller basically implements a sample- and frequency- domain  adaptive NLMS
filter and DT controller algorithms.</p></div>
<div class="paragraph"><div class="title">Subband Affine Projection algorithm</div><p>The frequency domain block normalized least mean square (NLMS) adaptive  filter has a
relatively simple computational structure and modest complexity. The algorithm consists of
the following steps:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
New input block. The most recently acquired N/2 input samples and the previous N/2
input samples make up the new input block.
</p>
</li>
<li>
<p>
The FFT of the input is calculated.
</p>
</li>
<li>
<p>
Update input history. The most recent frequency-domain input blocks are retained.
</p>
</li>
<li>
<p>
Compute the adaptive and fixed filters output. The adaptive  filter uses the
low-latency structure, where the filter impulse response is evenly divided into
non-overlapping segments. The filter output is computed in the frequency domain, and then
properly constrained (see step 9) such that the underlying convolution is
linear.
</p>
</li>
<li>
<p>
Constrain the error for adaptive and fixed filter. First the  time-domain filter output
is computed via an inverse discrete Fourier transform. The time-domain error must be
constrained to properly implement the adaptation step in the frequency-domain.
</p>
</li>
<li>
<p>
Update subband controller state and calculate step sizes for  adaptation. Step sizes
are averaged over the history of the <em>order</em> length according to [1].
</p>
</li>
<li>
<p>
Update adaptive filter. The adaptive filter update is carried out in  the
frequency-domain. Segments of the adaptive filter response are updated independently.
</p>
</li>
<li>
<p>
Constrain the adaptive filter response. To exactly implement  the linear convolution
(filtering) operation in the frequency domain, it is necessary to apply a constraint. The
first half of each segment of the impulse response is retained and the rest set to zero.
</p>
</li>
<li>
<p>
Subband controller. The controller compares powers of adaptive  filter error and fixed
filter error and tracks changes of adaptive filter coefficients power. If the adaptive
filter has a significantly smaller error and is stable (which is indicated by coefficients
power changing slowly), its coefficients are copied to the fixed filter.
This case corresponds to <em>no double-talk</em> mode. If the fixed filter has
a significantly smaller error, its coefficients are copied to the
adaptive filter. This case corresponds to the double-talk mode. Send
gain coefficient calculation (NLP block) is based on presence of the
double-talk mode and changes of receive-in and send-in signal powers.
</p>
</li>
</ol></div>
<div class="olist arabic"><div class="title">Subband -fast algorithm steps</div><ol class="arabic">
<li>
<p>
New input blocks (both receive-in and send-in signals). The most  recent N input
samples make up the input blocks
</p>
</li>
<li>
<p>
Calculate subband representations for new input blocks
</p>
</li>
<li>
<p>
Update input history. The most recent L frequency-domain input blocks are retained
</p>
</li>
<li>
<p>
Same as step 4) of the Subband algorithm.
</p>
</li>
<li>
<p>
Calculate filters error (subtracting filter outputs from send-in signal)
</p>
</li>
<li>
<p>
Same as step 6) 7) 9) of the Subband algorithm
</p>
</li>
<li>
<p>
Reconstruct output signal from fixed filter error
</p>
</li>
<li>
<p>
Same as step 9) of the Subband algorithm
</p>
</li>
</ol></div>
<div class="paragraph"><div class="title">SAP algorithm steps</div><p>Subband algorithm is the kind of SAP algorithm with the order 1. In SAP  algorithm step
sizes are averaged over the history of the <em>order</em> length.</p></div>
<div class="olist arabic"><div class="title">Fullband algorithm steps</div><ol class="arabic">
<li>
<p>
New input frame
</p>
</li>
<li>
<p>
Update history buffer
</p>
</li>
<li>
<p>
Compute output of fixed coefficient filter
</p>
</li>
<li>
<p>
Update fullband controller state, calculate step sizes for adaptation
</p>
</li>
<li>
<p>
Calculate output of adaptive coefficient filter and do NLMS adaptation
</p>
</li>
<li>
<p>
Same as 9) of the Subband algorithm
</p>
</li>
</ol></div>
<div class="paragraph"><div class="title">AEC Controller</div><p>The adaptive filter modifies its coefficients such that the filtered  original signal best
matches the echoed signal in the least squares sense. When the local voice is active, then
the echo path is rather weak, and the transfer function is nearly linear, approaching the
true transfer function.  If both local voice and remote voices are active (a  situation
known as <em>double-talk</em>) then adaptive filter will not converge to the proper solution.
Even when both local and remote voices are weak, they may still cause the adaptive filter
to diverge. The controller addresses these problems by adjusting the adaptive filter
step size ( <strong>u</strong> in Step 5 above) such that the filter converges  rapidly when the remote
signal is present, but does not diverge quickly during double-talk or local voice
presence. The controller also manages playback and output gain to block echo when the
adaptive filter has diverged.</p></div>
<div class="paragraph"><div class="title">Tone disabler</div><p>The tone disabler according to ITU-T G.168 specification is intended  for in-band
disabling and enabling of the echo canceller.</p></div>
<hr />
<div class="paragraph"><div class="title">G.711</div><p>The USC G711 codec is designed to operate with a digital signal appropriate to ITU G.711
coder. It is fully compliant with ITU-T G.711, ITU G711 Appendix I specifications promoted
by International Telecommunication Union (www.itu.org) and has been implemented using
the Intel&#174; IPP  Speech Coding functions. The USC G711 codec supports compression and
decompression with 10ms frame length at 64 kbps producing 640 bits per frame (bpf).</p></div>
<div class="paragraph"><div class="title">USC Codec description</div><p>For USC Interface description refer to <em>USC manual</em>.</p></div>
<div class="paragraph"><p>USC G711 comprises of two codecs with following parameters</p></div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="66%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Codec name</p></td>
<td align="left" valign="top"><p class="table">IPP_G711A</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Compression algorithm</p></td>
<td align="left" valign="top"><p class="table">A-law PCM</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Linkage</p></td>
<td align="left" valign="top"><p class="table">USC_G711A_Fxns</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Signal</p></td>
<td align="left" valign="top"><p class="table">13 bit linear PCM</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Sampling</p></td>
<td align="left" valign="top"><p class="table">8000 Hz</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame</p></td>
<td align="left" valign="top"><p class="table">10 ms</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Bitrates</p></td>
<td align="left" valign="top"><p class="table">64000 bps (640 bpf - voice, 16 bpf - SID)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Voice Activity Detection</p></td>
<td align="left" valign="top"><p class="table">VAD supported, compatible with G729B</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Packet Loss Concealment</p></td>
<td align="left" valign="top"><p class="table">PLC supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame types (value)</p></td>
<td align="left" valign="top"><p class="table">Untransmitted (0), SID (1),Voice (3), Bad 1 (-1)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Standards</p></td>
<td align="left" valign="top"><p class="table">ITU-T G711, G711 Appendix I.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="66%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Codec name</p></td>
<td align="left" valign="top"><p class="table">IPP_G711U</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Compression algorithm</p></td>
<td align="left" valign="top"><p class="table">Mu-law PCM</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Linkage</p></td>
<td align="left" valign="top"><p class="table">USC_G711U_Fxns</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Signal</p></td>
<td align="left" valign="top"><p class="table">14 bit linear PCM</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Sampling rate</p></td>
<td align="left" valign="top"><p class="table">8000 Hz</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame</p></td>
<td align="left" valign="top"><p class="table">10 ms</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Bitrates</p></td>
<td align="left" valign="top"><p class="table">64000 bps (640 bpf - voice, 16 bpf - SID)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Voice Activity Detection</p></td>
<td align="left" valign="top"><p class="table">VAD supported, compatible with G729B</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Packet Loss Concealment</p></td>
<td align="left" valign="top"><p class="table">PLC supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame types (value)</p></td>
<td align="left" valign="top"><p class="table">Untransmitted (0), SID (1),Voice (3), Bad 1 (-1)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Standards</p></td>
<td align="left" valign="top"><p class="table">ITU-T G711, G711 Appendix I</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
<div class="paragraph"><div class="title">G.722.1</div><p>The USC G722.1 codec is designed to operate with a digital signal  appropriate to the ITU
G.722.1 specification for Coding at 24 and 32 kbit/s for Hands-Free operation in Systems
with low frame loss promoted by International Telecommunication Union
(<a href="http://www.itu.org">http://www.itu.org</a>). It is fully compliant with ITU G.722.1 specification  and has been
implemented using the Intel&#174; IPP  Speech Coding functions.  The USC G722 codec supports
compression and decompression with 20 ms frame length at 16, 24, 32 and 48 kbps  producing
320, 480, 640 and 960 bits per frame (bpf) respectively.</p></div>
<div class="paragraph"><div class="title">USC Codec description</div><p>For USC Interface description refer to <em>USC manual</em>.</p></div>
<div class="paragraph"><p>USC G722.1 codec parameters:</p></div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="66%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Codec name</p></td>
<td align="left" valign="top"><p class="table">IPP_G722.1</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Compression algorithm</p></td>
<td align="left" valign="top"><p class="table">Modulated linear transform (MLT) based coding</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Linkage</p></td>
<td align="left" valign="top"><p class="table">USC_G722_Fxns</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Signal</p></td>
<td align="left" valign="top"><p class="table">16 bit linear PCM</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Sampling</p></td>
<td align="left" valign="top"><p class="table">16000 Hz and 32000 Hz</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame</p></td>
<td align="left" valign="top"><p class="table">20 ms</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Bitrates</p></td>
<td align="left" valign="top"><p class="table">16000 bps (320 bpf), 24000 bps (480 bpf), 32000 bps (640  bpf)
for 16 KHz PCM and  24000 bps (480 bpf), 32000 bps (640 bpf), 48000 bps (960 bpf)  for 32
KHz PCM audio signals</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Voice Activity Detection</p></td>
<td align="left" valign="top"><p class="table">VAD not supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Packet Loss Concealment</p></td>
<td align="left" valign="top"><p class="table">PLC not supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame types (value)</p></td>
<td align="left" valign="top"><p class="table">Good (0), Bad (1)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Standard</p></td>
<td align="left" valign="top"><p class="table">ITU-T G.722.1, Annex C</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
<div class="paragraph"><div class="title">G.722</div><p>The USC G.722 codec is designed to operate with a digital signal  appropriate to G.722
specification for 7 KHz Audio Coding within 64 Kbit/s promoted by International
Telecommunication Union (htt://www.itu.org). It is fully compliant with ITU-T G.722 and
has been implemented using the Intel&#174; IPP Speech  Coding functions.  The USC G.722 codec
supports compression with 20 ms frame length at 64 kbps producing 1280 bits per frame
(bpf) and decompression with 64, 56 or 48 kbps depending on the transmit mode.  The latter
two modes allow an auxiliary data to be carried within the 64 kbps channel in lower
sub-band at 8 and 16 kbps respectively.</p></div>
<div class="paragraph"><div class="title">USC Codec description</div><p>For USC Interface description refer to <em>USC manual</em>.</p></div>
<div class="paragraph"><p>USC G722 codec parameters:</p></div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="66%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Codec name</p></td>
<td align="left" valign="top"><p class="table">IPP_G722</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Compression algorithm</p></td>
<td align="left" valign="top"><p class="table">Sub-band adaptive differential pulse code modulation (SB-ADPCM)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Linkage</p></td>
<td align="left" valign="top"><p class="table">USC_G722SB_Fxns</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Signal</p></td>
<td align="left" valign="top"><p class="table">16 bit linear PCM</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Sampling</p></td>
<td align="left" valign="top"><p class="table">16000 Hz</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame</p></td>
<td align="left" valign="top"><p class="table">20 ms</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Bitrates</p></td>
<td align="left" valign="top"><p class="table">64000 bps (1280 bpf) for encode; 64000,  56000 and 48000  bps
(1280 bpf all) for decode. For lower 56 kbps and 48 kbps rates a bit stream may carry 1
and 2 auxiliary bits per octet respectively which ignored by the decoder</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Voice Activity Detection</p></td>
<td align="left" valign="top"><p class="table">VAD not supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Packet Loss Concealment</p></td>
<td align="left" valign="top"><p class="table">PLC supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame type (value)</p></td>
<td align="left" valign="top"><p class="table">Voice (0)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Standard</p></td>
<td align="left" valign="top"><p class="table">ITU-T G.722, G.722 Appendix IV</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
<div class="paragraph"><div class="title">G723.1</div><p>The USC G723.1 codec is designed to operate with a digital signal  appropriate to the ITU
G.723.1 specification for Dual-Rate speech coder promoted by International
Telecommunication Union (<a href="http://www.itu.org">http://www.itu.org</a>). It is  fully compliant with ITU G.723.1
with Annex A and has been implemented using the Intel&#174;  IPP Speech Coding functions. The
USC G.723.1 codec supports compression and decompression with 30 ms  frame length at 5300
and 6300 bps producing 158 and 189 bits per frame (bpf) respectively.</p></div>
<div class="paragraph"><div class="title">USC Codec description</div><p>For USC Interface description refer to <em>USC manual</em>.</p></div>
<div class="paragraph"><p>USC G.723.1 codec parameters:</p></div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="66%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Codec name</p></td>
<td align="left" valign="top"><p class="table">IPP_G723.1</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Compression algorithm</p></td>
<td align="left" valign="top"><p class="table">Multipulse Maximum Likelihood Quantization  (MP-MLQ) for 6.3
kbps and Algebraic-Code-Excited Linear-Prediction (ACELP) for 5.3 kbps</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Linkage</p></td>
<td align="left" valign="top"><p class="table">USC_G723_Fxns</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Signal</p></td>
<td align="left" valign="top"><p class="table">14 bit linear PCM</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Sampling</p></td>
<td align="left" valign="top"><p class="table">8000 Hz</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame</p></td>
<td align="left" valign="top"><p class="table">30 ms</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Bitrates</p></td>
<td align="left" valign="top"><p class="table">5300 bps (159 bpf) and 6300 bps (189 bpf); SID - 32 bpf,
Untransmitted - 8 bpf</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Voice Activity Detection</p></td>
<td align="left" valign="top"><p class="table">VAD supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Packet Loss Concealment</p></td>
<td align="left" valign="top"><p class="table">PLC supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame type (value)</p></td>
<td align="left" valign="top"><p class="table">Good (0), Bad (1)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Standard</p></td>
<td align="left" valign="top"><p class="table">ITU-T G.723.1, Annex A</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
<div class="paragraph"><div class="title">G.726</div><p>The USC G.726 codec is designed to operate with a digital signal  appropriate to the ITU-T
G.726 specification and G.726 Annex A specifications for Adaptive Differential PCM
promoted by International Telecommunication Union (<a href="http://www.itu.org">http://www.itu.org</a>). It is fully
compliant with ITU G.726 with Annex A and has been implemented using the  Intel&#174; IPP
Speech Coding functions. The USC G.726 codec supports compression and  decompression with
10ms frame length at 16, 24, 32 and 40 kbps producing 160, 240, 320 or 400 bits per frame
(bpf) respectively.</p></div>
<div class="paragraph"><div class="title">USC Codec description</div><p>For USC Interface description refer to <em>USC manual</em>.</p></div>
<div class="paragraph"><p>USC G726 codec parameters:</p></div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="66%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Codec name</p></td>
<td align="left" valign="top"><p class="table">IPP_G726</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Compression algorithm</p></td>
<td align="left" valign="top"><p class="table">Adaptive differential pulse code modulation (ADPCM)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Linkage</p></td>
<td align="left" valign="top"><p class="table">USC_G726_Fxns</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Signal</p></td>
<td align="left" valign="top"><p class="table">14 bit linear PCM and 8 bit compounded A-law or Mu-law PCM</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Sampling</p></td>
<td align="left" valign="top"><p class="table">8000 Hz PCM</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame sizes</p></td>
<td align="left" valign="top"><p class="table">10ms (160 bytes)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Bitstream frame sizes</p></td>
<td align="left" valign="top"><p class="table">20, 30, 40 or 50 for 16, 24, 32 or 40 kbps respectively</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Bit rates supported</p></td>
<td align="left" valign="top"><p class="table">16, 24, 32 or 40 kbps</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Voice Activity Detection</p></td>
<td align="left" valign="top"><p class="table">VAD not supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Packet Loss Concealment</p></td>
<td align="left" valign="top"><p class="table">PLC not supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame type (value)</p></td>
<td align="left" valign="top"><p class="table">Speech (0)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Standard</p></td>
<td align="left" valign="top"><p class="table">ITU-T G.726, G.726 Annex A</p></td>
</tr>
</tbody>
</table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">
<div class="paragraph"><p>Important note: As it is stated in ITU-T G.726A <em>ANNEX A: EXTENSIONS OF RECOMMENDATION
G.726 FOR USE WITH UNIFORM-QUANTIZED INPUT AND OUTPUT</em>: This annex defines a 14-bit
uniform-quantized interface for Recommendation G.726. Use with other data widths requires
scaling the data such that the most significant bit of the 14-bit uniform PCM  corresponds
to the most significant bit of the target data width. For example, a 13-bit input value
must be left shifted by one bit to provide the input. Likewise, the output value, must be
right shifted by one bit to provide a 13-bit output.</p></div>
</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">
<div class="paragraph"><p>The USC G726 encode shifts right 16 bit linear PCM input by two  bits so as 14 most
significant bits are compressed. The USC G.726 decode decompresses into 14bit linear PCM.
Thus, USC G726 codec de-amplifies input 16 bit PCM to 14 bit PCM. To restore original
input left shift by two bits is required (amplification by about 6dB).</p></div>
</td>
</tr></table>
</div>
<hr />
<div class="paragraph"><div class="title">G.728</div><p>The USC G.728 codec is designed to operate with a digital signal  appropriate to ITU-T
G.728 specification for Low-Delay CELP coder promoted by International Telecommunication
Union (<a href="http://www.itu.org">http://www.itu.org</a>). It is fully compliant to ITU-T G.728 with  Annexes I, G, H and
has been implemented using the Intel&#174; IPP Speech Coding functions.  The USC G.728 codec
supports compression with 20 ms frame length at 9.6, 12.8 and 16 kbps producing 192, 256
and 320 bits per frame (bpf).</p></div>
<div class="paragraph"><div class="title">USC Codec description</div><p>For USC Interface description refer to <em>USC manual</em>.</p></div>
<div class="paragraph"><p>USC G728 codec parameters:</p></div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="66%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Codec name</p></td>
<td align="left" valign="top"><p class="table">IPP_G728</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Compression algorithm</p></td>
<td align="left" valign="top"><p class="table">Low-delay code excited linear prediction (LD-CELP)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Linkage</p></td>
<td align="left" valign="top"><p class="table">USC_G728_Fxns</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Signal</p></td>
<td align="left" valign="top"><p class="table">16 bit linear PCM</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Sampling</p></td>
<td align="left" valign="top"><p class="table">16000 Hz</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame</p></td>
<td align="left" valign="top"><p class="table">20 ms</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Bitrates</p></td>
<td align="left" valign="top"><p class="table">9600 bps (192 bpf), 12800 bps (256 bpf) and 16000 bps  (320
bpf)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Voice Activity Detection</p></td>
<td align="left" valign="top"><p class="table">VAD not supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Packet Loss Concealment</p></td>
<td align="left" valign="top"><p class="table">PLC supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame types (value)</p></td>
<td align="left" valign="top"><p class="table">Voice (0), Bad (1)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Standards</p></td>
<td align="left" valign="top"><p class="table">ITU-T G.728, Appendixes I, G, H</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
<div class="paragraph"><div class="title">G.729.1</div><p>The USC G.729.1 codec is designed to operate with a digital signal  appropriate to ITU-T
G.729.1 specification for the Embedded Variable rate wideband coder operating at 8-32
kbit/s bitstream interoperable with G.729 which is promoted by International
Telecommunication Union (<a href="http://www.itu.org">http://www.itu.org</a>). It is fully compliant to ITU G.729.1
(2006) and has been implemented using the Intel&#174; IPP Speech Coding functions. The USC
G729.1 codec supports compression and decompression with 20 ms (16000 Hz) or  10 ms (8000
Hz) frame lengths at variable bitrates within 8-32 kbps and has a bandwidth of 50-4000 Hz
at 8 and 12 kbps and 50-7000 Hz from 14 to 32 kbps.</p></div>
<div class="paragraph"><div class="title">USC Codec description</div><p>For USC Interface description refer to <em>USC manual</em>.</p></div>
<div class="paragraph"><p>USC G.729.1 codec is supported with following parameters:</p></div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="66%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Codec name</p></td>
<td align="left" valign="top"><p class="table">IPP_G7291</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Compression algorithms</p></td>
<td align="left" valign="top"><p class="table">Embedded CELP (50-4000 Hz),  Time-Domain  Bandwidth
Extension (TD-BWE) for the higher band (4000-7000 Hz) and transform coding scheme referred
as Time-Domain Aliasing Cancellation (TDAC) for full band (50-7000Hz)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Linkage</p></td>
<td align="left" valign="top"><p class="table">USC_G7291_Fxns</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Signal</p></td>
<td align="left" valign="top"><p class="table">16 bit linear PCM</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Sampling</p></td>
<td align="left" valign="top"><p class="table">8000 and 16000 Hz</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame</p></td>
<td align="left" valign="top"><p class="table">20 ms. Two 10 ms frames in G.729B compatible narrowband
mode or 20 ms for wideband</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Bitrates</p></td>
<td align="left" valign="top"><p class="table">8000 bps (160 bpf, 20 bytes either one 20ms wb frame or two
equal 10ms NB frames), 12000 bps (240 bpf, 30 bytes), 14000 bps (280 bpf, 35 bytes),
16000 bps (320 bpf, 40 bytes), 18000 bps (360 bpf, 45 bytes), 20000  bps (400 bpf, 50
bytes), 22000 bps (440 bpf, 55 bytes), 24000 bps (480 bpf, 60 bytes), 26000 bps (520 bpf,
65 bytes), 28000 bps (560 bpf, 70 bytes), 30000 bps (600 bpf, 75 bytes), 32000 bps (640
bpf, 80 bytes)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Voice Activity Detection</p></td>
<td align="left" valign="top"><p class="table">VAD supported for 729B compatible mode (decoder only)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Packet Loss Concealment</p></td>
<td align="left" valign="top"><p class="table">PLC supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame type (value)</p></td>
<td align="left" valign="top"><p class="table">G.729.1 wide-band codec: Voice (0), Erased (1)<br />
G.729B compatible mode, depending on two consecutive 10ms frames  with numbers 1,2
comprised into one 20ms frame: Voice1+Voice2 (5), SID1+Voice2 (6), Voice1+SID2 (9),
SID1+SID2 (10),  Erased( -1)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Standard</p></td>
<td align="left" valign="top"><p class="table">ITU-T G.729.1, Interoperable with ITU-T G.729, Annexes A, B</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
<div class="paragraph"><div class="title">G.729 Floating-Point</div><p>The USC G.729 floating point codec is designed to operate with a digital signal
appropriate to
ITU-T G729 specification. / for CS-ACELP codec promoted by International Telecommunication
Union (<a href="http://www.itu.org">http://www.itu.org</a>). It is fully compliant to ITU-T G.729 and Annexes A, B, C, C+,
D, E, I specifications and has been implemented using the Intel&#174; IPP Speech Coding
functions. The USC G.729 float codec supports compression and decompression with 10 ms
frame length at 6400, 8000 and 11800 bps producing 64, 80 or and 118  bits per frame (bpf)
respectively.</p></div>
<div class="paragraph"><div class="title">USC Codec description</div><p>For USC Interface description refer to <em>USC manual</em>.</p></div>
<div class="paragraph"><p>Two USC G.729 floating-point codecs are supported with following
parameters:</p></div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="66%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Codec name</p></td>
<td align="left" valign="top"><p class="table">IPP_G729A_FP</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Compression algorithm</p></td>
<td align="left" valign="top"><p class="table">Reduced complexity Conjugate-Structure
Algebraic-Code-Excited Linear-Prediction (SC-ACELP)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Linkage</p></td>
<td align="left" valign="top"><p class="table">USC_G729AFP_Fxns</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Signal</p></td>
<td align="left" valign="top"><p class="table">16 bit linear PCM</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Sampling</p></td>
<td align="left" valign="top"><p class="table">8000 Hz</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame</p></td>
<td align="left" valign="top"><p class="table">10 ms</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Bitrates</p></td>
<td align="left" valign="top"><p class="table">8000 bps (voice - 80 bpf, SID - 16 bpf, Untransmitted -
0 bpf)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Voice Activity Detection</p></td>
<td align="left" valign="top"><p class="table">VAD supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Packet Loss Concealment</p></td>
<td align="left" valign="top"><p class="table">PLC supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame type (value)</p></td>
<td align="left" valign="top"><p class="table">Voice (3), SID (1),Untransmitted(0) , Bad(-1)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Standard</p></td>
<td align="left" valign="top"><p class="table">ITU-T G.729 Annexes A, B</p></td>
</tr>
</tbody>
</table>
</div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="66%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Codec name</p></td>
<td align="left" valign="top"><p class="table">IPP_G729I_FP</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Compression algorithm</p></td>
<td align="left" valign="top"><p class="table">Reduced complexity Conjugate-Structure
Algebraic-Code-Excited Linear-Prediction (SC-ACELP)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Linkage</p></td>
<td align="left" valign="top"><p class="table">USC_G729IFP_Fxns</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Signal</p></td>
<td align="left" valign="top"><p class="table">16 bit linear PCM</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Sampling</p></td>
<td align="left" valign="top"><p class="table">8000 Hz</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame</p></td>
<td align="left" valign="top"><p class="table">10ms</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Bitrates</p></td>
<td align="left" valign="top"><p class="table">6400 bps (64 bpf), 8000 bps (80 bpf), 11800 bps (236
bpf); SID - 16 bpf, Untransmitted - 0 bpf</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Voice Activity Detection</p></td>
<td align="left" valign="top"><p class="table">VAD supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Packet Loss Concealment</p></td>
<td align="left" valign="top"><p class="table">PLC supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame types (value)</p></td>
<td align="left" valign="top"><p class="table">Voice 6400 (2),  Voice 8000 (3), Voice 11800
(4), SID (1), Untransmitted (0) , Bad(-1)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Standard</p></td>
<td align="left" valign="top"><p class="table">ITU-T G.729, Annexes  B, C, C+, D, E, I</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
<div class="paragraph"><div class="title">G729 Fixed-Point</div><p>The USC G.729 fixed-point codec is designed to operate with a  digital signal appropriate
to ITU-T G.729 specification for CS-ACELP codec promoted by International
Telecommunication Union (<a href="http://www.itu.org">http://www.itu.org</a>). It is fully compliant to ITU-T G.729 with
Annexes A, B, C, C+, D, E, I and has been implemented using the Intel&#174; IPP Speech
Coding functions. The USC G.729 codec supports  compression and  decompression with 10 ms
frame length at 6400, 8000 and 11800 bps producing 64, 80 or and 118 bits per frame (bpf)
respectively.</p></div>
<div class="paragraph"><div class="title">USC Codec description</div><p>For USC Interface description refer to <em>USC manual</em>.</p></div>
<div class="paragraph"><p>Two USC G.729 fixed-point codecs are supported with following
parameters:</p></div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="66%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Codec name</p></td>
<td align="left" valign="top"><p class="table">IPP_G729A</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Compression algorithm</p></td>
<td align="left" valign="top"><p class="table">Reduced complexity Conjugate-Structure
Algebraic-Code-Excited Linear-Prediction (SC-ACELP)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Linkage</p></td>
<td align="left" valign="top"><p class="table">USC_G729A_Fxns</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Signal</p></td>
<td align="left" valign="top"><p class="table">16 bit linear PCM</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Sampling</p></td>
<td align="left" valign="top"><p class="table">8000 Hz</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame</p></td>
<td align="left" valign="top"><p class="table">10 ms</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Bitrates</p></td>
<td align="left" valign="top"><p class="table">8000 bps (80 bpf, SID - 16 bpf, Untransmitted - 0 bpf)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Voice Activity Detection</p></td>
<td align="left" valign="top"><p class="table">VAD supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Packet Loss Concealment</p></td>
<td align="left" valign="top"><p class="table">PLC supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame type (value)</p></td>
<td align="left" valign="top"><p class="table">Voice (3), SID (1),Untransmitted(0) , Bad(-1)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Standard</p></td>
<td align="left" valign="top"><p class="table">ITU-T G.729 Annexes A, B</p></td>
</tr>
</tbody>
</table>
</div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="66%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Codec name</p></td>
<td align="left" valign="top"><p class="table">IPP_G729I</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Compression algorithm</p></td>
<td align="left" valign="top"><p class="table">Reduced complexity Conjugate-Structure
Algebraic-Code-Excited Linear-Prediction (SC-ACELP)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Linkage</p></td>
<td align="left" valign="top"><p class="table">USC_G729I_Fxns</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Sampling</p></td>
<td align="left" valign="top"><p class="table">16 bit linear 8000 Hz</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame</p></td>
<td align="left" valign="top"><p class="table">10 ms</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Bitrates</p></td>
<td align="left" valign="top"><p class="table">6400 bps (64 bpf), 8000 bps (80 bpf), 11800 bps (236
bpf); SID - 16 bpf, Untransmitted - 0 bpf</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Voice Activity Detection</p></td>
<td align="left" valign="top"><p class="table">VAD supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Packet Loss Concealment</p></td>
<td align="left" valign="top"><p class="table">PLC supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame types (value)</p></td>
<td align="left" valign="top"><p class="table">Voice 6400 (2),  Voice 8000 (3), Voice 11800
(4), SID (1), Untransmitted (0) , Bad(-1)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Standard</p></td>
<td align="left" valign="top"><p class="table">ITU-T G.729, Annexes  B, C, C+, D, E, I</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
<div class="paragraph"><div class="title">GSMAMR</div><p>The USC GSMAMR codec is designed to operate with a digital signal  appropriate to GSM06.90
specifications for GSM Adaptive Multi-Rate codec promoted by European Telecommunications
Standards Institute (<a href="http://www.etsi.org">http://www.etsi.org</a>). It is fully compliant to GSM06.90-94 and 3GPP
TS 26 071, 073 specifications and has been implemented using the  Intel&#174; IPP Speech
Coding functions. The USC GSMAMR codec supports compression and  decompression with 20 ms
frame length at eight bitrates 4750, 5150, 5900, 6700, 7400, 7950, 10200, 12200 bps
producing 95, 103, 118, 134, 148, 159, 204, 244 bits per frame (bpf) respectively.</p></div>
<div class="paragraph"><p>USC GSMAMR codec is compatible with 3GPP TS 26.073 v7.1.0 (2007-06) ANSI-C Code.</p></div>
<div class="paragraph"><div class="title">USC Codec description</div><p>For USC Interface description refer to <em>USC manual</em>.</p></div>
<div class="paragraph"><p>USC GSMAMR codec parameters:</p></div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="66%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Codec name</p></td>
<td align="left" valign="top"><p class="table">IPP_GSMAMR</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Compression algorithm</p></td>
<td align="left" valign="top"><p class="table">Multi-Rate Algebraic Code Excited Linear  Prediction
(MR-ACELP)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Linkage</p></td>
<td align="left" valign="top"><p class="table">USC_GSMAMR_Fxns</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Signal</p></td>
<td align="left" valign="top"><p class="table">16 bit linear PCM</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Sampling</p></td>
<td align="left" valign="top"><p class="table">8000 Hz</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame</p></td>
<td align="left" valign="top"><p class="table">20 ms</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Bitrates</p></td>
<td align="left" valign="top"><p class="table">4750 bps (95 bpf), 5150 bps (103 bpf), 5900 bps (118
bpf), 6700 bps (134 bpf), 7400 bps (148 bpf), 7950 bps (159 bpf), 10200 bps  (204 bpf),
12200 bps (244 bpf);  SID - 35 bpf</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Voice Activity Detection</p></td>
<td align="left" valign="top"><p class="table">two types of VAD supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Packet Loss Concealment</p></td>
<td align="left" valign="top"><p class="table">PLC supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame type (value)</p></td>
<td align="left" valign="top"><p class="table">TX_NON_SPEECH (-1), TX_SPEECH_GOOD (0),
TX_SID_FIRST(1), TX_SID_UPDATE (2), TX_NO_DATA (3), TX_SPEECH_ DEGRADED
(4), TX_SPEECH_BAD (5), TX_SID_BAD (6), TX_ONSET (7)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Standards</p></td>
<td align="left" valign="top"><p class="table">ETSI EN 301 704-708, GSM06.90-94</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
<div class="paragraph"><div class="title">GSMFR</div><p>The USC GSMFR codec is designed to operate with a digital signal  appropriate to GSM06.10
specifications for GSM Full Rate codec promoted by European Telecommunications Standards
Institute (<a href="http://www.etsi.org">http://www.etsi.org</a>). It is compliant to GSM06.10-12,30-31  specifications and
has been implemented using the Intel&#174; IPP Speech Coding functions. The USC GSMFR codec
supports compression and decompression with 20 ms frame length at 13000 bps producing 260
bits per frame (bpf).</p></div>
<div class="paragraph"><div class="title">USC Codec description</div><p>For USC Interface description refer to <em>USC manual</em>.</p></div>
<div class="paragraph"><p>USC GSMFR codec parameters:</p></div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="66%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Codec name</p></td>
<td align="left" valign="top"><p class="table">IPP_GSMFR</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Compression algorithm</p></td>
<td align="left" valign="top"><p class="table">Regular Pulse Excitation - Long Term
prediction (RPE-LTP)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Linkage</p></td>
<td align="left" valign="top"><p class="table">USC_GSMFR_Fxns</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Signal</p></td>
<td align="left" valign="top"><p class="table">16 bit linear PCM</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Sampling</p></td>
<td align="left" valign="top"><p class="table">8000 Hz</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame</p></td>
<td align="left" valign="top"><p class="table">20 ms</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Bitrates</p></td>
<td align="left" valign="top"><p class="table">13000 bps (260 bpf)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Voice Activity Detection</p></td>
<td align="left" valign="top"><p class="table">Uplink and Downlink VAD modes supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Packet Loss Concealment</p></td>
<td align="left" valign="top"><p class="table">PLC supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame type (value)</p></td>
<td align="left" valign="top"><p class="table">Speech VAD OFF (-1), SID (0), Speech VAD ON (1),
Speech in Hangover (2)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Standards</p></td>
<td align="left" valign="top"><p class="table">ETSI EN 300 961-965, GSM06.10-12, GSM06.30-31</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
<div class="paragraph"><div class="title">MSRTA Floating-Point</div><p>The USC MSRTA codec is designed to operate with a digital signal appropriate to
Microsoft* Real-Time Audio codec. It is fully bitstream compliant to Microsoft* RT Audio
codec with comparable quality and has been implemented using the Intel&#174; IPP  Speech
Coding functions. The USC MSRTA codec supports 16 bit wideband 16000 Hz and narrowband
8000 Hz PCM mono signals compression and decompression with 20 ms frame lengths at
bitrates 8800 bps and 18000 bps respectively.</p></div>
<div class="paragraph"><div class="title">USC Codec description</div><p>For USC Interface description refer to <em>USC manual</em>.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">
<div class="paragraph"><p>In description of the Codec API function Decode in case <code>out&#8594;pBuffer</code> is zero, fake
decode is performed, with no PCM stream output setting <code>out&#8594;nBytes</code>  is set  to
bitstream length bytes without FEC.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><p>USC MSRTA codec is supported with following parameters:</p></div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="66%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Codec name</p></td>
<td align="left" valign="top"><p class="table">IPP_MSRTAnb_FP</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Compression algorithms</p></td>
<td align="left" valign="top"><p class="table">QMF, LPC, Adaptive and Fixed codebook for
low band, Unvoiced Fixed codebook for high band, bandwidth control for
variable bitrate mode</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Linkage</p></td>
<td align="left" valign="top"><p class="table">USC_MSRTAFP_Fxns</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Signal</p></td>
<td align="left" valign="top"><p class="table">16 bit linear PCM</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Sampling</p></td>
<td align="left" valign="top"><p class="table">8000 Hz</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame</p></td>
<td align="left" valign="top"><p class="table">20 ms</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Bitrates</p></td>
<td align="left" valign="top"><p class="table">8800 bps (176 bpf, 22 bytes)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Voice Activity Detection</p></td>
<td align="left" valign="top"><p class="table">variable rate support</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Packet Loss Concealment</p></td>
<td align="left" valign="top"><p class="table">PLC supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame type (value)</p></td>
<td align="left" valign="top"><p class="table">default 0, not required</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Standard</p></td>
<td align="left" valign="top"><p class="table">Microsoft* Real-Time Audio</p></td>
</tr>
</tbody>
</table>
</div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="66%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Codec name</p></td>
<td align="left" valign="top"><p class="table">IPP_MSRTAwb_FP</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Compression algorithms</p></td>
<td align="left" valign="top"><p class="table">QMF, LPC, Adaptive and Fixed codebook for
low band, Unvoiced Fixed codebook for high band, bandwidth control for
variable bitrate mode</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Linkage</p></td>
<td align="left" valign="top"><p class="table">USC_MSRTAFP_Fxns</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Signal</p></td>
<td align="left" valign="top"><p class="table">16 bit linear PCM</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Sampling</p></td>
<td align="left" valign="top"><p class="table">16000 Hz</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame</p></td>
<td align="left" valign="top"><p class="table">20ms</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Bitrates</p></td>
<td align="left" valign="top"><p class="table">18000 bps  (360 bpf, 45 bytes)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Voice Activity Detection</p></td>
<td align="left" valign="top"><p class="table">variable rate support</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Packet Loss Concealment</p></td>
<td align="left" valign="top"><p class="table">PLC supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Frame type (value)</p></td>
<td align="left" valign="top"><p class="table">default 0, not required</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Standard</p></td>
<td align="left" valign="top"><p class="table">Microsoft* Real-Time Audio</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_data_compression_interfaces">Data Compression Interfaces</h2>
<div class="sectionbody">
<div class="paragraph"><p>Build files/projects for  all data compression sample applications and libraries can be
generated by selecting data-compression as the sample with the build.pl script:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>perl build.pl --cmake=data-compression,intel64,make,s,st,debug</code></pre>
</div></div>
<div class="paragraph"><p>Look for details into <a href="#_installation_and_build">this section</a>.</p></div>
<div class="sect3">
<h4 id="_ipp_zlib_sample_build_specifics">ipp_zlib Sample Build Specifics</h4>
<div class="paragraph"><p>In addition to ordinary static library <a href="#_installation_and_build">samples build procedure</a> creates a dynamic
shared object (.so) library on Linux*. This is done to provide futher compatibility with original <a href="#http://zlib.net"><strong>zlib</strong></a> library.</p></div>
<div class="paragraph"><p>There are several options to control <a href="#_ipp_zlib"><strong>ipp_zlib</strong></a> sample build process.</p></div>
<div class="paragraph"><p><em>Default compression level</em> control. Original <strong>zlib</strong> library has default compression level associated with number equal to 6.
It corresponds to <strong>ipp_zlib</strong> compression level equal to 4. The default compression level equal to 4 for <strong>ipp_zlib</strong> is set by compiler command line
definition "<em>-DIPP_DEFAULT_COMPRESSION</em>". This is the default sample setting.</p></div>
<div class="paragraph"><p><em>Default compression level</em>. The customer can change default compression level, which is active if no other compression level is set by
specific <strong>zlib</strong> function call. This can be done by setting environment variable "<strong>_CUSTOM_COMPRESSION_LEVEL</strong>" to some number from 1 to 9. Example:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>_CUSTOM_COMPRESSION_LEVEL=3
perl ./build.pl --cmake=data-compression,...</code></pre>
</div></div>
<div class="paragraph"><p><em>Custom library name and version</em> by setting "<strong>_CUSTOM_SO_NAME</strong>" and "<strong>_CUSTOM_SO_VERSION</strong>" variables. For example,</p></div>
<div class="listingblock">
<div class="content">
<pre><code>_CUSTOM_SO_NAME=z
_CUSTOM_SO_VERSION=1
perl ./build.pl --cmake=data-compression,...</code></pre>
</div></div>
<div class="paragraph"><p>will generate one regular file <em>lib<span class="yellow-background">z</span>.so.<span class="yellow-background">1</span></em> and one
link <em>lib<span class="yellow-background">z</span>.so &#8594; lib<span class="yellow-background">z</span>.so.<span class="yellow-background">1</span></em>.</p></div>
<div class="paragraph"><p><em>Shared library link flags</em> by setting environment variable "<strong>_CUSTOM_SO_LDFLAGS</strong>". Example</p></div>
<div class="listingblock">
<div class="content">
<pre><code>_CUSTOM_SO_LDFLAGS="-Xlinker -rpath=/opt/intel/ipp/lib"
_CUSTOM_COMPRESSION_LEVEL=4
perl ./build.pl --cmake=data-compression,...</code></pre>
</div></div>
<hr />
</div>
<div class="sect2">
<h3 id="_ipp_bzip2">ipp_bzip2</h3>
<div class="paragraph"><p>The <strong>ipp_bzip2</strong> interface demonstrates how to use Intel&#174; IPP Data Compression
domain functions for implementation of <strong>bzip2</strong>/<strong>libbzip2</strong> (a program and
library for lossless, block-sorting data compression. Additional
information on this product can be obtained here: (<a href="http://www.bzip.org">http://www.bzip.org</a>).

The interface contains patched source codes of <strong>bzip2</strong>/<strong>libbzip2</strong> and build scripts for building the <strong>ipp_bzip</strong> binary executable and the <strong>ipp_libbz2</strong> library.

The <strong>ipp_libbz2</strong> has the same API as the
last version <strong>libbz2</strong> library and can be linked to customer application for
performance improvement instead of original <strong>libbz2</strong> library.</p></div>
<table rules="none" border="1" cellpadding="5" cellspacing="0">
<tbody>
<tr>
<th style="background-color: #555555; height: 30px; color: white;" valign="middle" align="left">Optimization Notice</th>
</tr>
<tr bgcolor="#ccecff">
<td>
<p>Intel's compilers may or may not optimize to the same degree for non-Intel microprocessors for optimizations that are not unique to Intel microprocessors. These optimizations include SSE2, SSE3, and SSSE3 instruction sets and other optimizations. Intel does not guarantee the availability, functionality, or effectiveness of any optimization on microprocessors not manufactured by Intel. Microprocessor-dependent optimizations in this product are intended for use with Intel microprocessors. Certain optimizations not specific to Intel microarchitecture are reserved for Intel microprocessors. Please refer to the applicable product User and Reference Guides for more information regarding the specific instruction sets covered by this notice.</p>
<p align="right">Notice revision #20110804</p>
</td>
</tr>
</tbody>
</table>
<h4 id="_running_the_interface" class="float">Running the Interface</h4>
<div class="paragraph"><p>When built, <strong>ipp_bzip2</strong>
interface contains one executable file:
<strong>ipp_bzip2</strong>. This file can be used for compression and decompression
of various files. Files, which were not created by <strong>bzip2</strong> or <strong>ipp_bzip2</strong>, will be
detected and ignored, and a warning message will be issued. If no files are
listed, then standard input and output are used.</p></div>
<div class="paragraph"><p>Without command line arguments, the executable file only produces the following:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>ipp_bzip2: I won't write compressed data to a terminal.
ipp_bzip2: For help, type: `ipp_bzip2.exe --help'.</code></pre>
</div></div>
<div class="paragraph"><p>To provide the proper functionality, the command-line arguments should
be used. Type <code>ipp_bzip2 -h</code> for information about usage
and meaning of options on the command line (Windows* example below):</p></div>
<div class="listingblock">
<div class="content">
<pre><code>bzip2, a block-sorting file compressor. Version 1.0.4, 20-Dec-2006.

usage: ipp_bzip2.exe [flags and input files in any order]

-h --help print this message
-d --decompress force decompression
-z --compress force compression
-k --keep keep (don't delete) input files
-f --force overwrite existing output files
-t --test test compressed file integrity
-c --stdout output to standard out
-q --quiet suppress noncritical error messages
-v --verbose be verbose (a 2nd -v gives more)
-L --license display software version &amp; license
-V --version display software version &amp; license
-s --small use less memory (at most 2500k)
-1 .. -9 set block size to 100k .. 900k
 --fast alias for -1
 --best alias for -9

If invoked as `bzip2', default action is to compress.
           as `bunzip2', default action is to decompress.
           as `bzcat', default action is to decompress to stdout.

If no file names are given, bzip2 compresses or decompresses
from standard input to standard output. You can combine
short flags, so `-v -4' means the same as -v4 or -4v, etc.</code></pre>
</div></div>
<div class="paragraph"><p>The <strong>ipp_bzip2</strong> interface understands the following options:</p></div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="80%" />
<thead>
<tr>
<th align="left" valign="top"> Option               </th>
<th align="left" valign="top"> Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><em>-c --stdout</em></p></td>
<td align="left" valign="top"><p class="table">Compress or decompress to standard output.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>-d --decompress</em></p></td>
<td align="left" valign="top"><p class="table">Force decompression.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>-z --compress</em></p></td>
<td align="left" valign="top"><p class="table">The complement to <em>-d</em>: forces compression,  regardless of the invocation name.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>-t --test</em></p></td>
<td align="left" valign="top"><p class="table">Check integrity of the specified file(s),  but don&#8217;t decompress them. This really performs a trial decompression and throws away the result.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>-f --force</em></p></td>
<td align="left" valign="top"><p class="table">Force overwrite of output files. Normally,  <strong>bzip2</strong> will not
                        overwrite existing output files. Also forces <strong>bzip2</strong> to break hard  links to files, which it
                        otherwise wouldn&#8217;t do. The <strong>bzip2</strong> normally declines to decompress  files which don&#8217;t have
                        the correct magic header bytes. If forced (<em>-f</em>), however, it will  pass such files through
                        unmodified.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>-k --keep</em></p></td>
<td align="left" valign="top"><p class="table">Keep (don&#8217;t delete) input files during  compression or
                        decompression.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>-s --small</em></p></td>
<td align="left" valign="top"><p class="table">Reduce memory usage, for compression, decompression and testing.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>-q --quiet</em></p></td>
<td align="left" valign="top"><p class="table">Suppress non-essential warning messages.  Messages pertaining to
                        I/O errors and other critical events will not be suppressed.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>-v --verbose</em></p></td>
<td align="left" valign="top"><p class="table">Verbose mode, shows the compression ratio  for each file
                        processed. Further <em>-v</em> options increase the verbosity level, spewing  out lots of information
                        which is primarily of interest for diagnostic purposes.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>-L --license -V --version</em></p></td>
<td align="left" valign="top"><p class="table">Display the software version, license terms and conditions.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>-1 (or --fast) to -9 (or --best)</em></p></td>
<td align="left" valign="top"><p class="table">Set the block size to  100K, 200K .. 900K when
                            compressing. Has no effect when decompressing. The <em>--fast</em> and <em>--best</em>  aliases are
                            primarily for GNU <strong>gzip</strong> compatibility. In particular, <em>--fast</em> doesn&#8217;t  make things
                            significantly faster. And <em>--best</em> merely selects the default behavior.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>&#8201;&#8212;&#8201;</em></p></td>
<td align="left" valign="top"><p class="table">Treats all subsequent arguments as file  names, even if they
                        start with a dash. This is so you can handle files with names  beginning with a dash, for
                        example: <code>bzip2&#8201;&#8212;&#8201;-myfilename</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>Example of command line options usage:</p></div>
<div class="ulist"><ul>
<li>
<p>
Compression of "text.txt" file: <code>ipp_bzip2 text.txt</code>
</p>
</li>
<li>
<p>
Decompression of "text.bz2" file: <code>ipp_bzip2 -d text.bz2</code>
</p>
</li>
</ul></div>
<hr />
</div>
<div class="sect2">
<h3 id="_ipp_compress_and_ipp_decompress">ipp_compress and ipp_decompress</h3>
<div class="paragraph"><p>The <strong>ipp_compress</strong> sample illustrates ways of implementing different
effectively lossless data compression solutions by using the
Intel&#174; IPP Data Compression domain API.</p></div>
<div class="paragraph"><p>The Data Compression primitives can be divided into two parts:
universal primitives and specific <strong>DEFLATE</strong>/<strong>ZLIB</strong>/<strong>GZIP</strong> format compatible
primitives. The universal primitives implement the most popular and
effective algorithms of lossless data compression without supporting
any compatibility with the existing formats of the compressed data.</p></div>
<div class="paragraph"><p>The universal primitives are designed to be treated as building blocks
for creating algorithmic chains that can be used as solutions for
different lossless data compression issues. The set of the universal
primitives used by the <strong>ipp_compress</strong> sample includes primitives for
Huffman encoding/decoding, Run Length Encoding algorithms (<strong>RLE</strong>),
Move-To-Front transform algorithms (<strong>MTF</strong>), Burrows-Wheeler Transform
(<strong>BWT</strong>), General Interval Transform (<strong>GIT</strong>) and Ziv-Lempel-Storer-Szymanski
dictionary based compression algorithm (<strong>LZSS</strong>).  The part of the
<strong>ipp_compress</strong> sample that illustrates the use of the universal
primitives consists of modules. Each module corresponds to one of the
compression algorithm implemented. Each module contains a top-level
function for compression and decompression using the corresponding
compression algorithm. Every provided algorithm is represented inside
the file with a corresponding name. For example, Huffman encoding
functions are represented inside the <strong>huffman.c</strong> file.</p></div>
<div class="paragraph"><p>The specific <strong>DEFLATE</strong>/<strong>ZLIB</strong>/<strong>GZIP</strong> format compatible primitives are
designed for implementing <strong>zlib</strong> library interfaces over them. The source
codes of the open source <strong>zlib</strong> compression library, implemented using the
specific <strong>DEFLATE</strong>/<strong>ZLIB</strong>/<strong>GZIP</strong> format compatible primitives, are contained
in the <strong>ipp_zlib</strong> sample.
The provided build scripts allow building the <strong>ipp_zlib</strong> library from the sources.
The <strong>ipp_zlib</strong> library
contains the same set of API that the recent version of the open source
<strong>zlib</strong> library has. At the same time, <strong>ipp_zlib</strong> library supports compatibility
with the <strong>DEFLATE</strong>/<strong>ZLIB</strong>/<strong>GZIP</strong> format of the compressed data (described in
<em>RFC1950</em>, <em>RFC1951</em>, <em>RFC1952</em>). Due to these facts, the <strong>ipp_zlib</strong>
library can be linked to any application that uses open source <strong>zlib</strong>
to improve the application performance.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">No changes need to be done in the application sources to
switch from <strong>zlib</strong> to <strong>ipp_zlib</strong>.</td>
</tr></table>
</div>
<table rules="none" border="1" cellpadding="5" cellspacing="0">
<tbody>
<tr>
<th style="background-color: #555555; height: 30px; color: white;" valign="middle" align="left">Optimization Notice</th>
</tr>
<tr bgcolor="#ccecff">
<td>
<p>Intel's compilers may or may not optimize to the same degree for non-Intel microprocessors for optimizations that are not unique to Intel microprocessors. These optimizations include SSE2, SSE3, and SSSE3 instruction sets and other optimizations. Intel does not guarantee the availability, functionality, or effectiveness of any optimization on microprocessors not manufactured by Intel. Microprocessor-dependent optimizations in this product are intended for use with Intel microprocessors. Certain optimizations not specific to Intel microarchitecture are reserved for Intel microprocessors. Please refer to the applicable product User and Reference Guides for more information regarding the specific instruction sets covered by this notice.</p>
<p align="right">Notice revision #20110804</p>
</td>
</tr>
</tbody>
</table>
<h4 id="_intel_174_ipp_functions_used_in_the_sample" class="float">Intel&#174; IPP Functions used in the sample</h4>
<div class="paragraph"><p>The universal primitives from the Data Compression domain implement the
following algorithms: Burrows-Wheeler Transform (<strong>BWT</strong>), Move-To-Front
Transform (<strong>MTF</strong>), run length encoding (<strong>RLE</strong>), Huffman coding, Generalized
Interval Transform (<strong>GIT</strong>) and the dictionary based
Lempel-Ziv-Storer-Szimanskiy(<strong>LZSS</strong>) compression method. The first column
of the table below contains the name of the algorithm, the second and
third columns contain the names of corresponding Intel&#174; IPP
primitives that are needed for implementing the algorithm.</p></div>
<h5 id="_lossless_compression_algorithms_and_corresponding_intel_174_ipp_primitives" class="float">Lossless compression algorithms and corresponding Intel&#174; IPP primitives.</h5>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="14%" />
<col width="42%" />
<col width="42%" />
<thead>
<tr>
<th align="left" valign="top"> Algorithm </th>
<th align="left" valign="top"> Main primitives                         </th>
<th align="left" valign="top"> Service primitives</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><strong>BWT</strong></p></td>
<td align="left" valign="top"><p class="table"><code>ippsBWTFwd_8u(), ippsBWTInv_8u()</code></p></td>
<td align="left" valign="top"><p class="table"><code>ippsBWTFwdGetSize_8u(), ippsBWTInvGetSize_8u()</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><strong>MTF</strong></p></td>
<td align="left" valign="top"><p class="table"><code>ippsMTFFwd_8u(), ippsMTFInv_8u()</code></p></td>
<td align="left" valign="top"><p class="table"><code>ippsMTFGetSize_8u(), ippsMTFInit_8u(), ippsMTFInitAlloc_8u(), ippsMTFFree_8u()</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><strong>RLE</strong></p></td>
<td align="left" valign="top"><p class="table"><code>ippsEncodeRLE_8u(), ippsDecodeRLE_8u()</code></p></td>
<td align="left" valign="top"><p class="table"><code>n/a</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><strong>LZSS</strong></p></td>
<td align="left" valign="top"><p class="table"><code>ippsEncodeLZSS_8u(), ippsEncodeLZSSFlush_8u(), ippsDecodeLZSS_8u()</code></p></td>
<td align="left" valign="top"><p class="table"><code>ippsLZSSGetSize_8u(), ippsEncodeLZSSInit_8u(), ippsEncodeLZSSInitAlloc_8u(), ippsDecodeLZSSInit_8u(), ippsDecodeLZSSInitAlloc_8u(), ippsLZSSFree_8u()</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><strong>GIT</strong></p></td>
<td align="left" valign="top"><p class="table"><code>ippsEncodeGIT_8u(), ippsDecodeGIT_8u()</code></p></td>
<td align="left" valign="top"><p class="table"><code>ippsEncodeGITGetSize_8u(), ippsEncodeGITInit_8u(), ippsEncodeGITInitAlloc_8u(), ippsDecodeGITGetSize_8u(), ippsDecodeGITInit_8u(), ippsDecodeGITInitAlloc_8u(), ippsGITFree_8u()</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Huffman</p></td>
<td align="left" valign="top"><p class="table"><code>ippsHuffGetLenCodeTable_8u(), ippsHuffLenCodeTablePack_8u(), ippsEncodeHuff_8u(), ippsEncodeHuffFinal_8u(), ippsHuffLenCodeTableUnpack_8u(), ippsDecodeHuff_8u()</code></p></td>
<td align="left" valign="top"><p class="table"><code>ippsHuffGetSize_8u(), ippsEncodeHuffInit_8u(), ippsEncodeHuffInitAlloc_8u(), ippsDecodeHuffInitAlloc_8u(), ippsHuffFree_8u ()</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>As one can see from the table, using of service primitives is necessary
for making <strong>BWT</strong>, <strong>MTF</strong>, <strong>LZSS</strong> and Huffman primitives work. The reason for
this is that these primitives use the internal state structure,
which stores the data necessary for encoding and decoding. The service
primitives are designed for either calculating the size of the memory
that is needed for the internal state structure or allocating the
memory and initializing the structure. The <strong>ipp_compress</strong> sample
illustrates the way of implementing the upper level functions over the
primitives that can be treated as modules for creating the lossless
compression algorithmic chains.</p></div>
<h4 id="_running_the_sample" class="float">Running the Sample</h4>
<div class="paragraph"><p>When built, the <strong>ipp_compress</strong> sample contains two executable files:
<strong>ipp_compress</strong> and <strong>ipp_decompress</strong>.</p></div>
<div class="paragraph"><p>Type the following command at the command prompt : <code>ipp_compress</code>, or <code>ipp_decompress</code></p></div>
<div class="paragraph"><p>Without command line arguments, executables produce the usage screen and exit.
To provide the proper functionality, the command-line arguments should
be used. The arguments sequence matters.</p></div>
<div class="paragraph"><p>The <strong>ipp_compress</strong> executable has the following command line syntax:</p></div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="66%" />
<thead>
<tr>
<th align="left" valign="top"> Argument </th>
<th align="left" valign="top"> Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">-bwt</p></td>
<td align="left" valign="top"><p class="table"><strong>RLE</strong> -&#8594; <strong>BWT</strong> -&#8594; <strong>MTF</strong> -&#8594; <strong>RLE</strong> -&#8594; Huffman encoding chain</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-huffman</p></td>
<td align="left" valign="top"><p class="table">Huffman encoding</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-git</p></td>
<td align="left" valign="top"><p class="table"><strong>BWT</strong> -&#8594; <strong>GIT</strong> encoding chain</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-lzss</p></td>
<td align="left" valign="top"><p class="table"><strong>LZSS</strong> encoding</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-gzip</p></td>
<td align="left" valign="top"><p class="table"><strong>gzip</strong> encoding (compatible with original <strong>gzip</strong> - see build for details)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-{1&#8230;9}</p></td>
<td align="left" valign="top"><p class="table">determines the compression block size (1 means 100Kb, 2 means 200Kb, &#8230; 9 means 900Kb)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"></p></td>
<td align="left" valign="top"><p class="table">determines a source filename</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">{destination_filename }</p></td>
<td align="left" valign="top"><p class="table">determines a destination filename</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>The <strong>ippdecompress</strong> executable has the following command line syntax:</p></div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="66%" />
<thead>
<tr>
<th align="left" valign="top"> Argument </th>
<th align="left" valign="top"> Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"></p></td>
<td align="left" valign="top"><p class="table">determines a source filename</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">{destination_filename }</p></td>
<td align="left" valign="top"><p class="table">determines a destination filename</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>Example of usage command line arguments:</p></div>
<div class="ulist"><ul>
<li>
<p>
To encode the source file <em>text.txt</em> using <strong>BWT</strong> &#8594; <strong>MTF</strong> &#8594; <strong>RLE</strong> &#8594; Huffman
algorithm using a size of block equal to 500 Kbytes, type the following
command:
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code>ipp_compress -bwt -5 text.txt text.bwt</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
To encode the source file <em>file.orig</em> to destination file <em>file.gz</em>
using the -6 (Average) <strong>gzip</strong> compression level, type the following
command:
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code>ipp_compress -gzip -6 file.orig file.gz</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
To decode the source file <em>file.gz</em> to destination file <em>file.rest</em>,
type
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code>ippdecompress file.gz file.rest</code></pre>
</div></div>
<hr />
</div>
<div class="sect2">
<h3 id="_ipp_gzip">ipp_gzip</h3>
<div class="paragraph"><p>The Data Compression-based IPP_GZIP Interface (<strong>ipp_gzip</strong>) illustrates
the way of implementing effective lossless data compression solution by
using Intel&#174; IPP Data Compression
domain API. Additionally, this interface shows the ways of
parallelizing a user application to fully
benefit from modern Intel&#174; microprocessor architectures.</p></div>
<div class="paragraph"><p>The interface uses dictionary based Intel&#174; IPP functions implementing
Lempel-Ziv (<strong>LZ77</strong>) algorithm and original <strong>gzip</strong> data formats according to
<em>RFC 1950</em>, <em>1951</em> and <em>1952</em> specifications.</p></div>
<div class="paragraph"><p>The resulting compressed data formats are fully compatible with the
original <strong>gzip</strong> formats, so the utilities are interchangeable. You can
compress data with <strong>ipp_gzip</strong> and decompress it with <strong>gzip</strong>, or, vice
versa, compress with <strong>gzip</strong> and decompress using <strong>ipp_gzip</strong>. However, to
benefit from using multiprocessor/multicore architectures, use
<strong>ipp_gzip</strong>.</p></div>
<h4 id="_intel_174_ipp_functions_used_in_the_interface" class="float">Intel&#174; IPP Functions Used In The Interface</h4>
<div class="paragraph"><p><strong>ipp_gzip</strong> interface uses the following functions from Intel&#174;
Performance Primitives Data Compression library:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="20%" />
<col width="60%" />
<thead>
<tr>
<th align="left" valign="top"> IPP_GZIP Function </th>
<th align="left" valign="top"> Intel&#174; IPP Function </th>
<th align="left" valign="top"> Function Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Compression</p></td>
<td align="left" valign="top"><p class="table"><code>ippsDeflateLZ77_8u</code><br />
<code>ippsDeflateHuff_8u</code><br />
<code>ippsCRC32_8u</code></p></td>
<td align="left" valign="top"><p class="table">Performs <strong>LZ77</strong> encoding<br />
                Performs Huffman encoding<br />
                Computes the CRC32 checksum for the source data buffer</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Decompression/Test</p></td>
<td align="left" valign="top"><p class="table"><code>ippsInflate_8u</code><br />
                    <code>ippsInflateBuildHuffTable</code></p></td>
<td align="left" valign="top"><p class="table">Performs <strong>LZ77</strong> decoding<br />
                                                    Performs Huffman decoding</p></td>
</tr>
</tbody>
</table>
</div>
<h4 id="_running_the_interface_2" class="float">Running the Interface</h4>
<div class="paragraph"><p>Type the following command at the command prompt:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>ipp_gzip -V</code></pre>
</div></div>
<div class="paragraph"><p>If Intel&#174; IPP environment is set up correctly, you will see the following
version output (actual version/build numbers and dates can differ):</p></div>
<div class="listingblock">
<div class="content">
<pre><code>Copyright 2007-2012 Intel Corporation. All rights reserved.
IPP gzip. Version 2.0

Library: ippspxl.lib v7.1 beta build 91.13 (Jan 24 2009)
Try to get "-h" page using "ipp_gzip -h":

Usage: ipp_gzip.exe [OPTION]... [FILE]...
Compress or uncompress FILEs (by default, compress FILES in-place)
Mandatory arguments to long options are mandatory for short options too.
    -c, --to-stdout  output to stdout
    -c, --stdout     the same
    -d, --decompress     decompress
    -d, --uncompress     the same
    -f, --force  force output file overwrite
    -h, --help   print this text
    -l, --list   list content of gzip archive
    -n, --no-name    don't save/restore original filename/time
    -N, --name   save/restore original filename/time
    -r, --recursive  recurse into directories
    -S, --suffix     make new suffix instead of .gz
    -t, --test   test archive integrity
    -T, --no-time    don't save/restore file date/timestamp
    -v, --verbose    print some intermediate information
    -V, --version    print current version number
    -1, --fast   use faster compression method
    -9, --best   use best compression method
    -m, --num-threads    DEBUG: set number of threads to create
    -j, --min-size   DEBUG: set minimum input file length to slice
Input/Output options:
    -D, --DEBUG  DEBUG mode: prints some debug info
    -w, --write-method   I/O: write method to use -w 0 (low/level) -w 1 (mmap)
    -y, --read-method    I/O: read method to use -y 0 (low/level) -y 1(mmap)
    -u, --read-buffer    I/O: read buffer size in Kbytes
    -i, --write-buffer   I/O: write buffer size in Kbytes
    -s, --stat   display performance statistics
    -C, --clocks    display CPU clocks</code></pre>
</div></div>
<h4 id="_ipp_gzip_command_syntax" class="float">ipp_gzip Command Syntax</h4>
<div class="paragraph"><p><strong>ipp_gzip</strong> command line syntax is compatible with the original <strong>gzip</strong>
utility syntax and has the following common format:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>ipp_gzip [option] [option] [file] [file]</code></pre>
</div></div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="14%" />
<col width="42%" />
<col width="42%" />
<thead>
<tr>
<th align="left" valign="top">Option </th>
<th align="left" valign="top"> Description </th>
<th align="left" valign="top"> Example</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>-c</code><br />
<code>--to-stdout</code><br />
<code>--stdout</code></p></td>
<td align="left" valign="top"><p class="table">Uses <em>stdout</em> as application output  file.
                    <em>Stdout</em> is not always terminal. For example, when
                    redirection is used <code>&gt; file</code>,  <em>stdout</em> is a
                    specified file. Or, when pipe operator is used <code>| next_command</code>,
                    <em>stdout</em>  is a pipe.
                Moreover, <strong>ipp_gzip</strong> never puts compressed data to terminal-like stdout.</p></td>
<td align="left" valign="top"><p class="table"><code>ipp_gzip -c
                                                                                            table.txt &gt; mytable.gz</code><br />
                                                                                            (compresses table.txt file and redirects "stdout" to mytable.gz file)<br />
                                                                                            <code>ipp_gzip -c -d mytable.gz</code><br />
                                                                                            (decompresses mytable.gz file to screen)
                                                                                            <code>ipp_gzip -c table.txt | gzip -t -v</code><br />
                                                                                            (compress table.txt with <strong>ipp_gzip</strong> and
                                                                                            tests the compressed data integrity with original <strong>gzip</strong>)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>-d</code><br />
<code>--decompress</code><br />
<code>--uncompress</code></p></td>
<td align="left" valign="top"><p class="table">Forces data decompression operation. By
                    default, when no <code>-d</code> option is specified, data processing is compression.</p></td>
<td align="left" valign="top"><p class="table"><code>ipp_gzip -d
                                                                                                table.txt.gz</code><br />
                                                                                                (decompresses table.txt.gz file into table.txt file)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>-f</code><br />
<code>--force</code></p></td>
<td align="left" valign="top"><p class="table">Overwrites existing output file without any additional questions.
                    By default, <strong>ipp_gzip</strong> asks for a user approval to overwrite existing file with the same
                    name</p></td>
<td align="left" valign="top"><p class="table"><code>ipp_gzip -d -f table.txt.gz</code><br />
                                                                        (decompresses table.txt.gz into table.txt file
                                                                        and overwrites existing table.txt file if any)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>-h</code><br />
<code>--help</code></p></td>
<td align="left" valign="top"><p class="table">Prints the list of options</p></td>
<td align="left" valign="top"><p class="table"><code>ipp_gzip -help</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>-l</code><br />
<code>--list</code></p></td>
<td align="left" valign="top"><p class="table">Prints the content of compressed file(s)</p></td>
<td align="left" valign="top"><p class="table"><code>ipp_gzip -l *.gz</code><br />
                                                                        (prints the content of all <em>.gz</em> files in current directory)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>-n</code><br />
<code>--no-name</code></p></td>
<td align="left" valign="top"><p class="table">Does not save or restore original file name/date-time stamp.
                    By  default, <strong>ipp_gzip</strong> writes the name of
                    the file it compresses into <strong>gzip</strong> header,
                    so that the  original file with its name could be
                    restored even if the archive has been renamed.
                    When "-n"  option is used, <strong>ipp_gzip</strong> creates
                    decompressed file name from the name of the
                    archive.</p></td>
<td align="left" valign="top"><p class="table"><code>ipp_gzip -n table.txt</code><br />
                                                                        (compresses  table.txt file producing
                                                                        table.txt.gz file with no original name inside)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>-N</code><br />
<code>--name</code></p></td>
<td align="left" valign="top"><p class="table">Saves original file name and date-time stamp (default case)</p></td>
<td align="left" valign="top"><p class="table"><code>ipp_gzip -N table.txt</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>-r</code><br />
<code>--recursive</code></p></td>
<td align="left" valign="top"><p class="table">When <strong>ipp_gzip</strong> encounters a directory file,
                    it processes all files inside this directory</p></td>
<td align="left" valign="top"><p class="table"><code>ipp_gzip -r archive</code><br />
                                                                        (if <em>archive</em> is a directory, compress all
                                                                        files - other directories too - inside <em>archive</em>)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>-S .suff</code><br />
<code>--suffix .suff</code></p></td>
<td align="left" valign="top"><p class="table">Uses specified <em>.suff</em> suffix instead
                        of default <em>.gz</em>. Note, that dot will NOT be
                        added automatically</p></td>
<td align="left" valign="top"><p class="table"><code>ipp_gzip -S .gzip table.txt</code><br />
                                                                        (compresses <em>table.txt</em> into <em>table.txt.gzip</em> file)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>-t</code><br />
<code>--test</code></p></td>
<td align="left" valign="top"><p class="table">Does <strong>not</strong> decompress the file, but tests
                        its integrity. Notifies the user about all
                        non-consistent problems inside the
                        compressed file</p></td>
<td align="left" valign="top"><p class="table"><code>ipp_gzip -t table.txt.gz</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>-v</code><br />
<code>--verbose</code></p></td>
<td align="left" valign="top"><p class="table">Prints some additional information after
                        the following operations:<br />
                        - compression (prints %% of compression)<br />
                        - decompression  (prints %% of compression)<br />
                        - list (prints checksum, date stamp,
                        compression method)</p></td>
<td align="left" valign="top"><p class="table"><code>ipp_gzip -d -v table.txt.gz</code><br />
                                                                        (decompresses table.txt.gz file and
                                                                        prints the name of restored file
                                                                        and % value of compression)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>-V</code><br />
<code>--version</code></p></td>
<td align="left" valign="top"><p class="table">Prints interface name, copyright information,
                        target architecture, compiler optimization and
                        library linkage. Does nothing extra</p></td>
<td align="left" valign="top"><p class="table"><code>ipp_gzip -V</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>-1</code><br />
<code>--fast</code></p></td>
<td align="left" valign="top"><p class="table">Uses the fastest compression method. Saves
                        time during compression, but loses in compression
                        ratio (and produces larger files)</p></td>
<td align="left" valign="top"><p class="table"><code>ipp_gzip --fast table.txt</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>-9</code><br />
<code>--best</code></p></td>
<td align="left" valign="top"><p class="table">Uses the best compression method. Saves
                        disk space, but  loses in compression time
                        (sometimes significantly)</p></td>
<td align="left" valign="top"><p class="table"><code>ipp_gzip -9 table.txt</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>-m <strong>number</strong></code><br />
<code>--num-threads <strong>number</strong></code></p></td>
<td align="left" valign="top"><p class="table">Sets the number of active threads during
                        multi-threaded operations. See the next section
                        for more details</p></td>
<td align="left" valign="top"><p class="table"><code>ipp_gzip -m 8 huge_file.txt</code><br />
                                                                        (compresses <em>huge_file.txt</em> using 8 threads)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>-j</code> size
(or) --min-size size</p></td>
<td align="left" valign="top"><p class="table">Sets the minimum file length that the parallel
                        compression begins from. See the next section
                        for more details</p></td>
<td align="left" valign="top"><p class="table"><code>ipp_gzip -j 10000 small_file.dat</code>
                                                                        (if small_file.dat is less than 10000 bytes
                                                                        long, single-threaded compression is used)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>-w <strong>number</strong></code></p></td>
<td align="left" valign="top"><p class="table">"<code>-w 0</code>" forces low-level i/o functions on file writes.<br />
                        "<code>-w 1</code>" forces memory mapping</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>-y <strong>number</strong></code></p></td>
<td align="left" valign="top"><p class="table">"<code>-y 0</code>" forces low-level i/o functions to be
                        used when the file is read<br />
                        "<code>-y 1</code>" forces memory mapping functions.
                        Note for Windows users: using of "<code>-y 1</code>" option
                        on input files with zero length leads
                        to <em>"Cannot create mapobject"</em> fatal error
                        due to Windows API function limitation</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>-u <strong>number</strong></code><br />
<code>-i <strong>number</strong></code></p></td>
<td align="left" valign="top"><p class="table">These options set the size of read (-u) or write (-i)
                        buffers which will be used during i/o operations.
                        By default, number=64, i.e. 64KB buffers
                        used. Sometimes, the increased sizes of i/o buffers
                        improve the  throughput of i/o operations.
                        Use "<code>-s</code>" option to  find the best combination
                        of i/o methods and buffer size</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>-s</code></p></td>
<td align="left" valign="top"><p class="table">Prints the number of CPU clocks used per input
                        symbol (i.e. input byte). The lower values mean
                        better performance</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>-C</code></p></td>
<td align="left" valign="top"><p class="table">Prints the number of CPU clocks for testing purpose.
                        The lower value  mean better performance</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
</tbody>
</table>
</div>
<table rules="none" border="1" cellpadding="5" cellspacing="0">
<tbody>
<tr>
<th style="background-color: #555555; height: 30px; color: white;" valign="middle" align="left">Optimization Notice</th>
</tr>
<tr bgcolor="#ccecff">
<td>
<p>Intel's compilers may or may not optimize to the same degree for non-Intel microprocessors for optimizations that are not unique to Intel microprocessors. These optimizations include SSE2, SSE3, and SSSE3 instruction sets and other optimizations. Intel does not guarantee the availability, functionality, or effectiveness of any optimization on microprocessors not manufactured by Intel. Microprocessor-dependent optimizations in this product are intended for use with Intel microprocessors. Certain optimizations not specific to Intel microarchitecture are reserved for Intel microprocessors. Please refer to the applicable product User and Reference Guides for more information regarding the specific instruction sets covered by this notice.</p>
<p align="right">Notice revision #20110804</p>
</td>
</tr>
</tbody>
</table>
<h4 id="_ipp_gzip_in_multi_thread_environment" class="float">ipp_gzip In Multi-thread Environment</h4>
<div class="paragraph"><p>Since the goal of <strong>ipp_gzip</strong> is not only to use the Intel&#174; IPP Data Compression
functions for speeding-up the file processing, but also to fully
utilize the benefits of the modern Intel&#174; microprocessor
architectures, it extensively uses multi-threading during its
execution. Multi-threading has specific features depending on <strong>ipp_gzip</strong>
operation.</p></div>
<h5 id="_compression" class="float">Compression</h5>
<div class="paragraph"><p>Compression is the most heavy operation in terms of CPU resources demanded,
so the maximum benefit from multi-threading can be obtained, as it
would be expected, during the compression. There are two ways of using
multi-threading: multi-file threading and multi-chunk threading.</p></div>
<div class="paragraph"><p>Multi-file threading is used when more than one file is specified on
the command line. For example, if we want to compress two files on a
two-core computer, our natural decision will be to process each file
in a separate thread and thus fully benefit from both cores.
That is what <strong>ipp_gzip</strong> does. For example:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>ipp_gzip file1 file2</code></pre>
</div></div>
<div class="paragraph"><p>will compress <strong>file1</strong> on one core and <strong>file2</strong> on the other core. If our
system has more than two cores, others will not be used. If the number
of files specified on the <strong>ipp_gzip</strong> command line is more than number of
available cores, all of them will be processed in parallel using
existing cores. For example, <strong>file1</strong> on CPU1, <strong>file</strong> 2 on CPU2,
 <strong>file3</strong> on CPU1, etc.</p></div>
<div class="paragraph"><p>Multi-chunk file processing is used when we process a single file on a
multi-CPU computer. Thus, on a 4-core CPU the command line</p></div>
<div class="listingblock">
<div class="content">
<pre><code>ipp_gzip a-very-huge-file.dat</code></pre>
</div></div>
<div class="paragraph"><p>will split the <em>a-very-huge-file.dat</em> file into 4 pieces (chunks) and
will compress each chunk on separate CPUs combining processed data into
a single output file <em>a-very-huge-file.dat.gz</em>. Of course, the
compression ratio in this case will be a little bit worse than in the
single-thread compression since <strong>LZ77</strong> compression methods use
statistical data (or pre-history) to compress better but this
overhead (actually, 1-2%) is the cost of boosted compression
performance ( 10x-20x times faster on 4/8-core CPU vs. original
<strong>gzip</strong> compression speed).</p></div>
<div class="paragraph"><p>The "<code>-m</code>" option can be used to control the multi-thread operations. For
example, using "<code>-m 2</code>" on a 4-core CPU we can limit <strong>ipp_gzip</strong> to two
threads. Or, vice versa, using "<code>-m 4</code>" option on a single-core CPU
we can produce archives as if they were compressed on a 4-core CPU. Of
course, forced multi-threading on a single-core CPU will not
speed-up the compression, but it will produce the archives which can be
decompressed on a multi-core system and thus benefit from multi-core.</p></div>
<div class="paragraph"><p>The "<code>-j size</code>" option controls the multi-chunk compression. For example,
if we are using a multiprocessor system, but the file to be processed
is not big enough, we may not speed-up, but, rather, slow-down the
compression because of thread creation/synchronization overhead. The
default value of minimum file length is 256 KB and is defined by
"<code>#define MIN_LENGTH_TO_SLICE</code>"  value in the <strong>ipp_gzip.h</strong> file.</p></div>
<h5 id="_decompression" class="float">Decompression</h5>
<div class="paragraph"><p>Decompression is quite simple operation which does not require
significant CPU resources, so the benefit of multi-thread decompression
is not that big here. Decompression is almost a copy operation and is
almost fully limited by input/output system <a href="#IPP_SAMPLES_OptNotice">performance</a>. But,
nevertheless, multi-thread decompression can be 2+ times faster than
single-thread decompression.</p></div>
<div class="paragraph"><p>Multi-file threading is the same as in the case of compression. If more
than one file is specified on the <strong>ipp_gzip</strong> command line, and the
current system has more than one core, all files are decompressed in
parallel.</p></div>
<div class="paragraph"><p>Now about multi-chunk decompression. Of course, not every compressed
file can be decompressed in parallel. The trick is that, during
multi-chunk compression, additional information about chunks - chunk
offsets and partial check sums - is written to the comment field of the
<strong>gzip</strong> file header. This field is ignored by the original <strong>gzip</strong>, so
existence/absence of this field does not affect usual <strong>gzip</strong> operations.
This means that files compressed by <strong>ipp_gzip</strong> using multiple chunks can
be decompressed by the original <strong>gzip</strong> tool.</p></div>
<div class="paragraph"><p>As in the case of compression, the "<code>-m <strong>number</strong></code>" option can control the
number of processors to be used. If we want to limit decompression to
the specified number of threads - to save some CPU resources for other
applications - we can use the "<code>-m <strong>less_thread_number</strong></code>" option for
that. If  the "<code>-m</code>" option is not specified, <strong>ipp_gzip</strong> tries to use as
much processors as possible. For example, the file previously
compressed on a 4-core system using a 4-thread processing is
decompressed on a 2-core system using all two cores. If the number of
chunks is less than the number of cores, other cores will not be
used.</p></div>
<h5 id="_compatibility" class="float">Compatibility</h5>
<div class="paragraph"><p><strong>ipp_gzip</strong> archive format is fully compatible with regular <strong>gzip</strong> utility
format (<em>version 4.3 RFC 1952</em>). Additional chunk/offset information is
stored in comment field of <strong>gzip</strong> archive header, which in general is not
used by regular <strong>gzip</strong> utility. It means, that archive files produced by
<strong>gzip</strong> utility may be processed by <strong>ipp_gzip</strong> and vice versa.</p></div>
<div class="paragraph"><p>Starting from
Intel&#174; IPP 6.1 Gold Update 1 <strong>ipp_gzip</strong> can work with files larger than 2 GB.
Along with this the format of service information in <strong>gzip</strong> comment field
was slightly changed. So, archive files produced by previous version of
<strong>ipp_gzip</strong> are not decompressed by new version of <strong>ipp_gzip</strong> in
multi-threaded mode - you can force using of single-threaded
decompression using "<code>-m 1 -d</code>" command line options or do nothing,
because when <strong>ipp_gzip</strong> meets improper comment field format it starts
single-threaded mode decompression.</p></div>
<h5 id="_performance_notes" class="float">Performance Notes</h5>
<div class="paragraph"><p><strong>ipp_gzip</strong> interface is just an interface and not fully tuned for
performance. Nevertheless, using of multi-threaded mode allows to
significantly increase compression/decompression performance. Along
with performance boost due to multi-core use, additional performance
benefit can be obtained from i/o and pure computing overlapping. Thus,
overall performance boost can be even greater than
single thread performance. Nevertheless, using of
memory mapping ("<code>-y 1</code>" and "<code>-w 1</code>") options must be done with additional
care, because memory mapping brings some extra OS virtual memory
functionality overload.</p></div>
<div class="paragraph"><p>When data file size is less than or equal to
physical memory size on your computer, memory mapping gives additional
benefit, because <strong>ipp_gzip</strong> writes target file in parallel with all
available threads. When data file size is more/much more than your
computer physical memory, using of memory mapping can significantly
slow down or even hang your computer. So, do some performance
experiments combining i/o methods and buffer sizes to choose best
combination of options. In some cases you may want to limit the number
of <strong>ipp_gzip</strong> threads (with "<code>-m</code>" option) to lower computer I/O
subsystem load.</p></div>
<table rules="none" border="1" cellpadding="5" cellspacing="0">
<tbody>
<tr>
<th style="background-color: #555555; height: 30px; color: white;" valign="middle" align="left">Optimization Notice</th>
</tr>
<tr bgcolor="#ccecff">
<td>
<p>Intel's compilers may or may not optimize to the same degree for non-Intel microprocessors for optimizations that are not unique to Intel microprocessors. These optimizations include SSE2, SSE3, and SSSE3 instruction sets and other optimizations. Intel does not guarantee the availability, functionality, or effectiveness of any optimization on microprocessors not manufactured by Intel. Microprocessor-dependent optimizations in this product are intended for use with Intel microprocessors. Certain optimizations not specific to Intel microarchitecture are reserved for Intel microprocessors. Please refer to the applicable product User and Reference Guides for more information regarding the specific instruction sets covered by this notice.</p>
<p align="right">Notice revision #20110804</p>
</td>
</tr>
</tbody>
</table>
<hr />
</div>
<div class="sect2">
<h3 id="_ipp_zlib">ipp_zlib</h3>
<div class="paragraph"><p>The <strong>ipp_zlib</strong> interface demonstrates how to use functions provided by
Intel&#174; IPP Data
Compression domain for implementation of <strong>zlib</strong> library interfaces over
them.
The interface contains the source codes of the open source <strong>zlib</strong>
compression library implemented over specific <strong>DEFLATE</strong>/<strong>ZLIB</strong>/<strong>GZIP</strong> format
compatible primitives.

The build scripts provided allow building <strong>ipp_zlib</strong> library from the sources.
The <strong>ipp_zlib</strong> library
contains the same set of API that the recent version of the open source
<strong>zlib</strong> library does. At the same time, <strong>ipp_zlib</strong> supports
compatibility with the <strong>DEFLATE</strong>/<strong>ZLIB</strong>/<strong>GZIP</strong> format of the compressed data
(described in <em>RFC1950</em>, <em>RFC1951</em>, <em>RFC1952</em>). Due to these facts, the
<strong>ipp_zlib</strong> library can be linked to any application that uses open
source <strong>zlib</strong> to improve the
application&#8217;s performance. Note that no changes need to be done in the
application sources to switch from <strong>zlib</strong> to <strong>ipp_zlib</strong>.</p></div>
<table rules="none" border="1" cellpadding="5" cellspacing="0">
<tbody>
<tr>
<th style="background-color: #555555; height: 30px; color: white;" valign="middle" align="left">Optimization Notice</th>
</tr>
<tr bgcolor="#ccecff">
<td>
<p>Intel's compilers may or may not optimize to the same degree for non-Intel microprocessors for optimizations that are not unique to Intel microprocessors. These optimizations include SSE2, SSE3, and SSSE3 instruction sets and other optimizations. Intel does not guarantee the availability, functionality, or effectiveness of any optimization on microprocessors not manufactured by Intel. Microprocessor-dependent optimizations in this product are intended for use with Intel microprocessors. Certain optimizations not specific to Intel microarchitecture are reserved for Intel microprocessors. Please refer to the applicable product User and Reference Guides for more information regarding the specific instruction sets covered by this notice.</p>
<p align="right">Notice revision #20110804</p>
</td>
</tr>
</tbody>
</table>
<h4 id="_intel_174_ipp_functions_used_in_the_interface_2" class="float">Intel&#174; IPP Functions used in the interface</h4>
<div class="paragraph"><p>The set of the specific <strong>DEFLATE</strong>/<strong>ZLIB</strong>/<strong>GZIP</strong> format compatible primitives
allows implementing the whole set of <strong>zlib</strong> API. The table below contains
the set of <strong>zlib</strong> API in the left column and the sets of corresponding
<strong>DEFLATE</strong>/<strong>ZLIB</strong>/<strong>GZIP</strong> format compatible primitives that are necessary for
implementing <strong>zlib</strong> API over Intel&#174; IPP in the right column.</p></div>
<h4 id="_intel_174_ipp_primitives_for_implementing_zlib" class="float">Intel&#174; IPP primitives for implementing zlib</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="66%" />
<thead>
<tr>
<th align="left" valign="top"> ZLIB API             </th>
<th align="left" valign="top"> Intel&#174; IPP API</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>deflateSetDictionary</code></p></td>
<td align="left" valign="top"><p class="table"><code>ippsDeflateDictionarySet_8u</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>deflate</code></p></td>
<td align="left" valign="top"><p class="table"><code>ippsDeflateUpdateHash_8u, ippsDeflateLZ77_8u, ippsDeflateHuff_8u</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>inflate</code></p></td>
<td align="left" valign="top"><p class="table"><code>ippsInflateBuildHuffTable, ippsInflate_8u</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>adler32</code></p></td>
<td align="left" valign="top"><p class="table"><code>ippsAdler32_8u</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>crc32</code></p></td>
<td align="left" valign="top"><p class="table"><code>ippsCRC32_8u</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>The key functions of the <strong>zlib</strong> library are the compression function
<code>deflate</code> and the decompression function <code>inflate</code>. The <code>adler32</code> and
<code>crc32</code> functions are for checksum calculation. They are
used for checking  data integrity and decode correctness. The
rest of the functions listed in the table above are service functions
that are necessary for supporting different modes of compression or
decompression and for operating with the <strong>zlib</strong> internal state structures.</p></div>
<h4 id="_running_the_sample_2" class="float">Running the Sample</h4>
<div class="paragraph"><p><strong>ipp_zlib</strong> sample contains one executable file: <strong>ipp_minigzip</strong>.
This file can be used for compression and decompression files.
If no files are listed, then standard input and output are used.</p></div>
<div class="paragraph"><p>The <strong>ipp_minigzip</strong> has the following usage:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>Usage: minigzip [-c] [-d] [-f] [-h] [-r] [-1 to -9] [-V] [--show-clocks] [files...]
  -c : write to standard output
  -d : decompress
  -f : compress with Z_FILTERED
  -h : compress with Z_HUFFMAN_ONLY
  -r : compress with Z_RLE
  -1 to -9 : compression level
  -V : get zlib and Intel(R) IPP libraries version
  --show-clocks : print compression/decompression CPU clocks</code></pre>
</div></div>
<div class="paragraph"><p>Examples of usage of command line arguments:</p></div>
<div class="paragraph"><p>1) To encode the source file <em>text.txt</em>, type the following command:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ipp_minigzip  text.txt</code></pre>
</div></div>
<div class="paragraph"><p>2) To decode the source file <em>text.txt.gz</em>, type</p></div>
<div class="listingblock">
<div class="content">
<pre><code>    ipp_minigzip -d text.txt.gz</code></pre>
</div></div>
<hr />
</div>
<div class="sect2">
<h3 id="_ipp_lzop">ipp_lzop</h3>
<div class="paragraph"><p>The Data Compression-based <em>IPP_LZOP</em> sample illustrates the way of implementing simple
lossless data compression solution by using Intel&#174; Integrated Performance Primitives
Data Compression domain API.</p></div>
<div class="paragraph"><p>The interface uses dictionary-based Intel&#174; IPP data compression functions implementing
<em>Lempel-Ziv-Oberhumer</em> (LZO) algorithm (www.oberhumer.com/opensource/lzo). The result
compressed data format is similar to Oberhumer&#8217;s LZOP file format (www.lzop.org) though
it differs from LZOP format by file header method byte.</p></div>
<h4 id="_intel_174_ipp_functions_used_in_the_sample_2" class="float">Intel&#174; IPP Functions Used In The Sample</h4>
<div class="paragraph"><p><em>ipp_lzop</em> sample uses the following functions from Intel&#174; Performance Primitives Data
Compression library:</p></div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="25%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top"> IPP_LZOPACK Function  </th>
<th align="left" valign="top"> Intel&#174; IPP Function     </th>
<th align="left" valign="top"> Function Description</th>
</tr>
</thead>
<tbody>
<tr>
<td rowspan="4" align="left" valign="top"><p class="table">Compression</p></td>
<td align="left" valign="top"><p class="table"><code><code>ippsEncodeLZOGetSize</code></code></p></td>
<td align="left" valign="top"><p class="table">Returns size of data buffer to be allocated to hold Intel&#174; IPP LZO data structure</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code><code>ippsEncodeLZOInit_8u</code></code></p></td>
<td align="left" valign="top"><p class="table">Initializes Intel&#174; IPP LZO data structure</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code><code>ippsEncodeLZO_8u</code></code></p></td>
<td align="left" valign="top"><p class="table">Encodes (compresses) data block</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code><code>ippsAdler32_8u</code></code></p></td>
<td align="left" valign="top"><p class="table">Data checksum computing function</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Decompression/Test</p></td>
<td align="left" valign="top"><p class="table"><code><code>ippsDecodeLZO_8u</code></code></p></td>
<td align="left" valign="top"><p class="table">Decodes (uncompresses) data block</p></td>
</tr>
</tbody>
</table>
</div>
<h4 id="_specific_software_requirement_windows" class="float">Specific Software Requirement Windows*</h4>
<div class="paragraph"><p>To proceed with this samples on Windows* you need to do <em>patching</em> of source code. It can
be done with any Windows* tool accepting Unix*-style patch file format. E.g.
(<a href="http://gnuwin32.sourceforge.net/packages/patch.htm">http://gnuwin32.sourceforge.net/packages/patch.htm</a>).</p></div>
<h4 id="_how_to_build_source_code" class="float">How to Build Source Code</h4>
<div class="paragraph"><p>Before <a href="#execute_build_script">build procedure</a> can be started on this sample, you need to
do the steps described below. Otherwise you will get the following warning message during
<em>data-compression</em> section build:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>...
-- [            ipp_bzip2 ] application/ipp_bzip2
-- [         ipp_compress ] application/ipp_compress
-- [       ipp_decompress ] application/ipp_decompress
-- [             ipp_gzip ] application/ipp_gzip
-- WARNING: please patch 'lzop-1.02rc1' to build 'ipp_lzop' application!
-- [             ipp_zlib ] application/ipp_zlib
...</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
Prepare LZOP Open-Source Utility
</p>
<div class="paragraph"><p>Obtain the following source code tar files</p></div>
<div class="ulist"><ul>
<li>
<p>
LZO library V2.03 (e.g. from
<a href="http://www.oberhumer.com/opensource/lzo/download/lzo-2.03.tar.gz">http://www.oberhumer.com/opensource/lzo/download/lzo-2.03.tar.gz</a>)
</p>
</li>
<li>
<p>
LZOP utility V1.02rc1 (e.g. from <a href="http://www.lzop.org/download/lzop-1.02rc1.tar.gz">http://www.lzop.org/download/lzop-1.02rc1.tar.gz</a>)
</p>
</li>
</ul></div>
</li>
<li>
<p>
Untar LZO library v2.03 and LZOP v1.02rc1 into
<em>&lt;samples_dir&gt;/sources/data-compression/application/ipp_lzop</em> directory
</p>
<div class="listingblock">
<div class="content">
<pre><code>tar xfz lzo-2.03.tar.gz
tar xfz lzop-1.02rc1.tar.gz</code></pre>
</div></div>
</li>
</ul></div>
<div class="paragraph"><p>so, that <em>lzo-2.03</em> and <em>lzop-1.02rc1</em> sub-directories occur</p></div>
<div class="ulist"><ul>
<li>
<p>
patch LZOP utility source files with the following commands (Linux*/OS X* variant, on
Windows* it may differ)
</p>
<div class="listingblock">
<div class="content">
<pre><code>cd lzop-1.02rc1
patch -l -p1 -N &lt; ../patch/lzop-1.02rc1.patch</code></pre>
</div></div>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">actual tool names and command output lines can be different and may depend on actual
tools that will be used</td>
</tr></table>
</div>
<div class="paragraph"><p>After successful patch you can build <em>data-compression</em> section of Intel&#174; IPP samples using
<a href="#execute_build_script">build script</a>.</p></div>
<h4 id="_check_lzop_utility" class="float">Check LZOP utility</h4>
<div class="paragraph"><p>You can check if application binary was built successfully by using "<em>-V</em>" option in
application command line.</p></div>
<div class="paragraph"><p>The output may look like:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>                          Lempel-Ziv-Oberhumer Packer
   Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005
lzop v1.02rc1      Markus Franz Xaver Johannes Oberhumer         Jul 25th 2005

lzop version: v1.02rc1, Jul 25th 2005
lzop build date: Jul 19 2012 19:19:13

IPP Core lib               ippCore         7.1.0 (r35742)  7.1.0.35742
IPP Signal lib             ippSP AVX (e9)  7.1.0 (r35742)  7.1.0.35742
IPP Data Compression lib   ippDC AVX (e9)  7.1.0 (r35742)  7.1.0.35742</code></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">Actual Intel&#174; IPP library versions/build dates/release versions may differ from
above example.</td>
</tr></table>
</div>
<h4 id="_ipp_lzop_utility_usage" class="float">IPP_LZOP Utility Usage</h4>
<div class="paragraph"><p>To obtain IPP_LZOP utility main options and command line form, enter "<em>lzop</em>" in command
line window. The output will be</p></div>
<div class="listingblock">
<div class="content">
<pre><code>...
Usage: ipp_lzop.exe [-dxlthIVL19] [-qvcfFnNPkUp] [-o file] [-S suffix] [file..]

Commands:
  -1     compress faster                   -9    compress better
  -d     decompress                        -x    extract (same as -dPp)
  -l     list compressed file              -I    display system information
  -t     test compressed file              -V    display version number
  -h     give this help                    -L    display software license
Options:
  -q     be quiet                          -v       be verbose
  -c     write on standard output          -oFILE   write output to `FILE'
  -p     write output to current dir       -pDIR    write to path `DIR'
  -f     force overwrite of output files
  -n     do not restore the original file name
  -N     restore the original file name (default)
  -P     restore or save the original path and file name
  -S.suf use suffix .suf on compressed files
  -U     delete input files after successful operation (like gzip and bzip2)
  file.. files to (de)compress. If none given, try standard input.</code></pre>
</div></div>
<div class="paragraph"><p>LZOP utility command line options information can be found in "lzop-1.02rc1/doc'" of LZOP
source file directory.</p></div>
<h4 id="_lzop_utility_command_line_options_changes" class="float">LZOP Utility Command-Line Options Changes</h4>
<div class="paragraph"><p>After applying the patches included into this Intel&#174; IPP sample the following options  added to
utility&#8217;s option set</p></div>
<div class="ulist"><ul>
<li>
<p>
<em>--ipplzost</em>. This option may be used in compression commands and causes LZOP utility to
call Intel&#174; IPP LZO <code>ippsEncodeLZO</code> function in single-thread mode.
</p>
</li>
<li>
<p>
<em>--ipplzomt</em>. The same as above, but <code>ippsEncodeLZO</code> function is called in multi-thread
mode.
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">Command line options "<em>-1</em>" (compress faster) and "<em>-9</em>" (compress better) <strong>do not
work in patched version</strong>, since Intel&#174; IPP LZO functions have no choice to select compression
ratio. Moreover, these options forcedly make utility to call original LZO functions. Thus,
with new "<em>--ipplzost/ipplzomt</em>" command line options <strong>do not</strong> use "<em>-1/-9</em>" options, or
make sure the <strong>new options are used at the end of command line</strong>.<br />
<br />
The above options are applied to compression commands only. For example, "<em>lzop
--ipplzost data.dat</em>" is to produce "data.dat.lzo" compressed file. During decompression
the LZOP utility automatically calls Intel&#174; IPP&#8217;s <code>ippsDecodeLZO</code> function, so there is no need
to specify additional options explicitly.<br />
<br />
Using multi-thread mode is not always beneficial for performance. If the input file
is too short, the overhead of starting/stopping additional execution threads may
negatively affect the overall operation performance. Use multi-thread mode if the input
file size is more than <em>~100 KB * &lt;number of host computer cores&gt;</em> (e.g. more than 200 KB
for two-core computer, more than 400 KB for four-core computer, etc.).</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/warning.png" alt="Warning" />
</td>
<td class="content">Ipp_lzop multi-thread compressed format is not compatible with original LZO
format. Thus, files compressed with "--ipplzomt" option <strong>cannot</strong> be decompressed with
original LZOP (or, LZOP-compatible) tool.</td>
</tr></table>
</div>
<table rules="none" border="1" cellpadding="5" cellspacing="0">
<tbody>
<tr>
<th style="background-color: #555555; height: 30px; color: white;" valign="middle" align="left">Optimization Notice</th>
</tr>
<tr bgcolor="#ccecff">
<td>
<p>Intel's compilers may or may not optimize to the same degree for non-Intel microprocessors for optimizations that are not unique to Intel microprocessors. These optimizations include SSE2, SSE3, and SSSE3 instruction sets and other optimizations. Intel does not guarantee the availability, functionality, or effectiveness of any optimization on microprocessors not manufactured by Intel. Microprocessor-dependent optimizations in this product are intended for use with Intel microprocessors. Certain optimizations not specific to Intel microarchitecture are reserved for Intel microprocessors. Please refer to the applicable product User and Reference Guides for more information regarding the specific instruction sets covered by this notice.</p>
<p align="right">Notice revision #20110804</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<h1 id="_intel_174_ipp_primitive_usage_samples">Intel&#174; IPP Primitive Usage Samples</h1>
<div class="paragraph"><p>These samples illustrate how to use various Intel&#174; IPP primitives.</p></div>
<div class="sect1">
<h2 id="_advanced_usage">Advanced-Usage</h2>
<div class="sectionbody">
<div class="paragraph"><p>Build files/projects for all advanced usage sample applications and libraries can be
generated by selecting advanced-usage as the sample with the <strong>build.pl</strong> script.</p></div>
<div class="paragraph"><p>Look for details into <a href="#_installation_and_build">this section</a>.</p></div>
<div class="sect3">
<h4 id="_get_cpu_info">Get CPU Info</h4>
<div class="paragraph"><p>This sample demonstrates how to get information on Intel&#174; processor parameters.
The sample uses the CPUID instruction according to document
<em>"Intel&#174;  Processor Identification and the CPUID Instruction. 241618-031"</em>.
After the successful run, the CPU parameters will
be displayed on the screen. This sample supports processors Intel&#174; Pentium&#174; III and higher.</p></div>
<div class="paragraph"><div class="title">Running the Sample</div><p>Run the generated executable file <strong>ippcpuinfo</strong>, the processor parameters information is
displayed on the screen. The top information</p></div>
<div class="listingblock">
<div class="content">
<pre><code>==================
  Signature
Stepping ID    7
Model ID       A
Ext.Model ID   2A
Family ID      6
Ext.Family ID  6
Type           0

======================================
Processor: Intel(R) Microarchitecture Code Name Sandy Bridge

=================================================
BrandName:        Intel(R) Core(TM) i5-2540M CPU @ 2.60GHz

==============================================================
Intel(R) IPP would recommend using cpu_g9(e9) code for this processor

================
Feature Flags
================
Cores         2 - Number of cores per physical package
CMP / HTT     1 - Multi-Cores and/or Multi-Threading

EM64T      1 - CPU supports Intel(R) Extended Memory 64 Technology
MOVBE      0 - CPU supports MOVBE instruction
MMX        1 - CPU supports MMX(TM) technology
SSE        1 - CPU supports Intel(R) Streaming SIMD Extensions (Intel(R) SSE)
SSE2       1 - CPU supports Intel(R) Streaming SIMD Extensions 2 (Intel(R) SSE2)
SSE3       1 - CPU supports Intel(R) Streaming SIMD Extensions 3 (Intel(R) SSE3)
SSSE3      1 - CPU supports Supplemental Streaming SIMD Extensions 3 (SSSE3)
SSE41      1 - CPU supports Intel(R) Streaming SIMD Extensions 4.1 (Intel(R) SSE4.1)
SSE42      1 - CPU supports Intel(R) Streaming SIMD Extensions 4.2 (Intel(R) SSE4.2)
AES        0 - CPU supports AES instruction
CLMUL      1 - CPU supports PCLMULQDQ instruction
AVX        1 - CPU supports Intel(R) Advanced Vector Extensions instruction set (Intel(R) AVX)
AVX_OS     1 - OS  supports Intel(R) AVX
F16C       0 - CPU supports 16-bit floating point conversion instructions
RDRAND     0 - CPU supports RDRAND instruction
AVX2       0 - CPU supports Intel(R) Advanced Vector Extensions 2 instruction set (Intel(R) AVX2)</code></pre>
</div></div>
<div class="paragraph"><p>is most useful. You can see the CPU model, CPU frequency, number of cores, specific
features enabled on your CPU. You may want to remember the recommended Intel&#174; IPP library code
for your CPU (e.g. <strong>g9/e9</strong> for Intel&#174; Microarchitecture Code Name Sandy Bridge CPU) in order to make sure you use
the most
suitable Intel&#174; IPP library. Look at Intel&#174; IPP documentation for details of library usage.</p></div>
</div>
<div class="sect3">
<h4 id="_i_malloc">"i_malloc"</h4>
<div class="paragraph"><p>This sample demonstrates how to use Intel&#174; IPP for memory allocation applying so called
"<em>i_malloc</em>" technique. The idea behind this technique is that the
application and all linked libraries use a set of four function
pointers which point to the actual implementation of the <em>malloc/realloc/calloc/free</em>
functionality.</p></div>
<div class="paragraph"><p>The application can set these function pointers at the very beginning
of the execution. This procedure is optional, and if the application
does not set these pointers, the libraries point to the standard library
implementation automatically.</p></div>
<div class="paragraph"><p>Using <em>i_malloc</em> technique you can build your own memory management discipline with your
own rules.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/important.png" alt="Important" />
</td>
<td class="content">
<div class="paragraph"><p>Windows* DLL specific: on Windows* OS the linker is more limited and
cannot share data between multiple DLLs. Therefore, the four function
pointers are stored in a separate DLL with a well-defined name
("<em>libimalloc.dll</em>"). This DLL is dynamically opened by DLLs searching
for the pointers. In case if <em>libimalloc.dll</em> don&#8217;t find the pointers
will be initialized on standard functions <em>malloc/realloc/calloc/free</em>.</p></div>
<div class="paragraph"><p>Linux* specific: on Linux* this sample is available <em>with static linking only</em>.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><div class="title">Running the Sample</div><p>To invoke the sample, run the following the executable <em>i_malloc</em> from
<a href="#build_target_dir">directory</a>.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">On Windows*, for dynamic linking case, <em>libimalloc.dll</em> should be accessible from
<em>i_malloc</em> executable, i.e. the path to it must be added to the %PATH% environment
variable, or the library itself must be in the same directory.</td>
</tr></table>
</div>
<div class="paragraph"><div class="title">Result Analysis</div><p>If everything is correct, the sample&#8217;s output should contain <em>my_malloc</em> and <em>my_free</em>
text.</p></div>
<hr />
</div>
<div class="sect3">
<h4 id="_ipps_driver_sample">IPPS Driver Sample</h4>
<div class="paragraph"><p>This demo is to show the capabilities of using <em>ippsp</em>
library in the Windows*/Linux* kernel mode along with Intel&#174; IPP static dispatching.
The goal of this example is to explain how to call <em>ippSP</em> functions in device driver with
static processor dispatcher.</p></div>
<div class="paragraph"><div class="title">Additional Software Requirements</div><p>Since this is a specific sample, it needs Windows* DDK (Driver Development Kit of proper
version) installed in case of Windows* build.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/warning.png" alt="Warning" />
</td>
<td class="content">
<div class="paragraph"><p>Intel&#174; IPP primitives are designed  to work well with kernel
mode operation.  However, running in kernel mode is inherently risky.  Kernel mode
operation has not been extensively validated.</p></div>
</td>
</tr></table>
</div>
<div class="paragraph"><div class="title">DrvOld driver on Windows*</div><p>The driver project has to be linked to <em>ippcore_l.lib</em>, <em>ipps_l.lib</em> merged libraries.
The driver'\s <code>DriverEntry()</code> function makes the call to the initializations function
<code>IppStaticInit()</code>.</p></div>
<div class="paragraph"><div class="title">ExpDrv - export driver on Windows*</div><p>The function <code>ippStaticInit()</code> must be declared in export table (in the file <em>ippexp.def</em>)
in addition to any other Intel&#174; IPP functions needed.
The driver  project has to be linked to <em>ippcore_l.lib</em>, <em>ipps_l.lib</em> merged Intel&#174; IPP
libraries.</p></div>
<div class="paragraph"><div class="title">Sys Driver on Windows*</div><p>The driver's <code>DriverEntry()</code> function makes the call to the initializations function
<code>IppStaticInit()</code>.</p></div>
<div class="paragraph"><div class="title">Demo Application on Windows*</div><p>The demo application <em>ippsapp.exe</em> uses the both models of the driver. You can select one
on the Driver Type panel. The drivers used to call Intel&#174; IPP signal processing FFT
functions to test the forward and inverse transform. The length of the transform can  be
set on the FFT options panel.</p></div>
<hr />
<div class="paragraph"><div class="title">IPPS Driver Sample on Linux*</div><p>The demo consists of the two parts.</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
An application running in the user mode. This application opens a
special device <em>/dev/ippdev</em> and sends certain requests to the
driver.
</p>
</li>
<li>
<p>
First
part is a special driver. It works in the kernel mode and calculates
the FFT using Intel&#174; IPP functions.
</p>
</li>
</ol></div>
<div class="paragraph"><p>The application can generate two requests: to get library version, and
to start FFT computations.</p></div>
<div class="paragraph"><div class="title">Intel&#174; IPP Functions used in the sample</div><p>This example uses</p></div>
<div class="ulist"><ul>
<li>
<p>
IPPS memory allocation and deallocation functions to manage buffers
</p>
</li>
<li>
<p>
function to prepare FFT tables
</p>
</li>
<li>
<p>
forward and reverse FFT transform functions and
</p>
</li>
<li>
<p>
<em>normdiff</em> function to compare results.
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">How to Build Source Code on Linux*</div><ul>
<li>
<p>
Please be sure that you have Intel&#174; IPP for Linux* installed and
<em>IPPROOT</em> environment variable was correctly set. Set <em>TARGETKERNEL</em>
variable to desired source kernel package path on your computer. For
example
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code>export TARGETKERNEL=/usr/src/kernels/2.6.19</code></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/tip.png" alt="Tip" />
</td>
<td class="content">If build script <em>build_ia32.sh</em> is not executable do <code>make chmod +x *.sh</code> before
build.</td>
</tr></table>
</div>
<div class="listingblock">
<div class="content">
<pre><code>../build_ia32.sh</code></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">The sample can be built for IA-32 platform only.</td>
</tr></table>
</div>
<div class="ulist"><ul>
<li>
<p>
After build operation completion two additional directories: <em>bin</em> and
<em>obj</em> will be created. Directory <em>bin/ia32</em>  contains driver binary and
<em>obj/ia32</em> contains  all required object files for IA-32 architecture.
All of kernel applications must be compiled with <code>-mcmodel=kernel</code> option.
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/tip.png" alt="Tip" />
</td>
<td class="content">To prepare your own wrapper for mathematical functions
you can use any open source math library such as CEPHES
(<a href="http://www.netlib.org/cephes/">http://www.netlib.org/cephes/</a> ). Another solution is: get your <em>glibc</em>
source package, open it, configure and build only in math directory. If
you do this you must disable PIC code in <em>configure</em>, delete all <code>fPIC</code> and
<code>DPIC</code> entries in <em>Makeconfig</em>, add <code>-mcmodel=kernel</code> to <code>clflags</code> variable,
then make.</td>
</tr></table>
</div>
<div class="ulist"><ul>
<li>
<p>
After build finishes check the presence of the next files in <em>math</em> catalog:
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code>branred.o
dosincos.o
e_sqrt.o
mpa.o
s_fabs.o
s_floor.o
s_sin.o
sincos32.o</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
Create <em>libaddmath.a</em>
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content">
<pre><code>ar -cr *.o
ranlib libaddmath.a</code></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
Copy <em>libaddmath.a</em> to your driver example directory.
Add prepared library to build string in your build file for Intel&#174; 64
architecture.
</p>
</li>
<li>
<p>
Enter the driver example directory and build driver with <strong>build_ia32.sh</strong>
script and test application according with your system architecture.
</p>
</li>
<li>
<p>
Then enter drv directory and setup driver using up.sh script.
</p>
</li>
<li>
<p>
If your Linux* is not openSuse or Red Hat* then some of directories may
differ and you may have problems with building this driver and
application. If this happens then modify build scripts according to
your system settings.
</p>
</li>
</ul></div>
<div class="paragraph"><div class="title">Running the Sample on Linux*</div><p>The demo application is started by executing binary file <em>ippsapp/ippsapp</em>.
Command line is</p></div>
<div class="listingblock">
<div class="content">
<pre><code>ippsapp times length</code></pre>
</div></div>
<div class="paragraph"><p>Where <em>times</em> is number of FFT calculations and <em>length</em> is buffer length. Make sure that
module is loaded if you have got the error message like this:</p></div>
<div class="listingblock">
<div class="content">
<pre><code> $ ippsapp 10 32768</code></pre>
</div></div>
<div class="paragraph"><p>Example of <em>ippdrv</em> usage</p></div>
<div class="listingblock">
<div class="content">
<pre><code>Device name is /dev/ippdev

Open failed.: No such device</code></pre>
</div></div>
<div class="paragraph"><div class="title">Known Limitations</div><p>The driver is designed for and works with the kernel version 2.4.xx, or
2.6.xx for IA-32 and Intel&#174; 64 architectures.  But today it works fine only
with IA-32 architectures (single and multiprocessor computers).  The
main problem in Intel&#174; 64 SMP kernels is to protect FPU (SSE) registers
during driver operations.</p></div>
<div class="paragraph"><div class="title">Troubleshooting</div><p>Working with kernel modules and drivers always requires any kind of
root privileges and may be the source of troubles. Please be careful.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_computer_vision">Computer Vision</h2>
<div class="sectionbody">
<div class="sect3">
<h4 id="_face_detection_sample">Face Detection Sample</h4>
<div class="paragraph"><p>This sample demonstrates how to use the Intel&#174; IPP to decode a JPEG files and to
process them, or web camera capture stream, by computer vision
functions. The sample is intended as an example to show how Intel&#174; IPP
functions can be used in application. It is not intended to be
a complete application.</p></div>
<div class="paragraph"><p>The Face Detection sample has the following forms on different OSes:</p></div>
<div class="ulist"><ul>
<li>
<p>
Console-based sample on Windows*
</p>
</li>
<li>
<p>
Carbon application with the corresponding project file
and resources for Xcode* IDE v.2. and Interface Builder* v.2. on OS X*.
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Intel&#174; IPP Functions Used in the sample</div><ul>
<li>
<p>
<em>ippCore</em> library functions for data allocation and for error handling.
</p>
</li>
<li>
<p>
<em>ippSP</em> (Signal Processing) library functions for some support operations.
</p>
</li>
<li>
<p>
<em>ippIP</em> (Image Processing) library functions for image processing.
</p>
</li>
<li>
<p>
<em>ippJP</em> (JPEG Processing) library functions for JPEG processing.
</p>
</li>
<li>
<p>
<em>ippCC</em> (Image Color Conversion) library functions for image color conversion.
</p>
</li>
<li>
<p>
<em>ippCV</em> (Computer Vision) library functions for computer vision.
</p>
</li>
</ul></div>
<div class="paragraph"><div class="title">How to Build Source Code</div><p>To build the sample execute <a href="#execute_build_script">the build script</a> with <em>xcode</em>
generator on OS X* and either of <em>vc*</em> generators on Windows*.</p></div>
<div class="paragraph"><div class="title">Running the Sample</div><p>To run Face Detection Sample application <a href="#run_win">prepare the environment</a>.</p></div>
<div class="paragraph"><div class="title">Running on Windows*</div><p>Face detection demo uses input Haar face models file <em>haar.txt</em> from <em>..\data</em> directory.</p></div>
<div class="paragraph"><p>All of the face detection demo parameters are optional. If any
parameter is not set, its value is set with the default value. For the
default values, see below.</p></div>
<div class="paragraph"><p>The full command line has a following form:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>Face_Detection. exe -cascade=&lt;fname&gt; -input=&lt;fname&gt; -output=&lt;fname&gt; -log=&lt;fname&gt; \
                    -minface=&lt;float&gt; -maxface=&lt;float&gt; -quality=&lt;int&gt; -sensitivity=&lt;int&gt;
-threads=&lt;int&gt;</code></pre>
</div></div>
<div class="paragraph"><p>where (default) :</p></div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 21. Face Detection Sample Parameters</caption>
<col width="33%" />
<col width="66%" />
<thead>
<tr>
<th align="left" valign="top"> Argument </th>
<th align="left" valign="top"> Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">-cascade=haar.txt</p></td>
<td align="left" valign="top"><p class="table">File with the Haar classifier cascade for frontal faces</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-input=test. bmp</p></td>
<td align="left" valign="top"><p class="table">Input 1- or 3-channel bmp file</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-output=result. bmp</p></td>
<td align="left" valign="top"><p class="table">Output 3-channel bmp file</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-log=result. txt</p></td>
<td align="left" valign="top"><p class="table">Output text file containing face sizes and coordinates of face centers</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-minface=0</p></td>
<td align="left" valign="top"><p class="table">Minimal size of face to be found in percents of the image size</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-maxface=0</p></td>
<td align="left" valign="top"><p class="table">Maximal size of face to be found in percents of the image size</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-quality=4</p></td>
<td align="left" valign="top"><p class="table">Quality of face search (from 1 to 5), the more the better.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-sensitivity=1</p></td>
<td align="left" valign="top"><p class="table">Sensitivity of face detection (from 1 to 5), the more the more sensitive.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">-threads=&lt;cores&gt;</p></td>
<td align="left" valign="top"><p class="table">Number of parallel threads in the face detector. The default value is the number of CPU cores</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><div class="title">Running on OS X*</div><p>To run the sample application in Xcode* IDE, use menu command
<em>Debug/RunExecutable</em> or <em>Build and Go</em> toolbar button.</p></div>
<div class="paragraph"><p>When application is up it opens two windows, one is to display original image and the
second one is to display image processed by one of the Intel&#174; IPP algorithms.
You may open JPEG file through <em>File&#8594;Open menu</em>. If your system contains
integrated camera, you can also attach camera into application window
through menu <em>Camera&#8594;Capture</em>. This will start live video capture
session. To stop capturing, select menu <em>Camera&#8594;Stop</em>.</p></div>
<div class="paragraph"><p>With any of image sources (JPEG file or live video stream) you may apply some of image
processing and computer vision algorithms through menu <em>Process</em>. There
are <em>image morphology</em> operations, <em>Min/Max filters</em> and <em>Face Detection</em>. To
cancel the current processing algorithm, select menu <em>Process&#8594;Reset</em>.
During processing the image data you can see measured performance in
application&#8217;s status bar.</p></div>
<div class="paragraph"><p>The sample is intended just to demonstrate
Intel&#174; IPP image processing and computer vision algorithms and does not
provide capability to save resulting images.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_image_processing">Image Processing</h2>
<div class="sectionbody">
<div class="sect3">
<h4 id="_tiled_image_processing_for_windows">Tiled Image Processing for Windows*</h4>
<div class="paragraph"><p>This sample demonstrates how to use the Intel&#174; IPP to process tiled images. The
example contains source code of the test program based on the specially
designed class <em>Butler</em> and auxiliary classes. The detailed
description of the procedure and the special classes may be found in the next chapters.</p></div>
<div class="paragraph"><p>The example shows the following operations on the tiled images:</p></div>
<div class="ulist"><ul>
<li>
<p>
simple point-wise operation
</p>
</li>
<li>
<p>
filtering
</p>
</li>
<li>
<p>
rotation
</p>
</li>
<li>
<p>
resizing
</p>
</li>
</ul></div>
<div class="paragraph"><div class="title">General Assumptions</div><p>For the sake of clarity and to make example code more compact, the following assumptions
have been made:</p></div>
<div class="ulist"><ul>
<li>
<p>
all images are 3-channel and have 24 bits-per-pixel bit depth
</p>
</li>
<li>
<p>
each tile has square shape
</p>
</li>
<li>
<p>
parameters of the applied filter and geometric transform are not specified in the
command line
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">These assumptions do not impair the generality of the proposed approach of
tiled image processing.</td>
</tr></table>
</div>
<div class="paragraph"><div class="title">Processing Tiled Images</div><p>Tiled  image is an image that is stored or represented by its parts, called tiles. Thus, a
tile is  some part of an image, and all tiles are assumed to be of the same size. The
particular  method used for storing the tiles can be arbitrary. In certain cases, for
example, to save memory, it is convenient to process an image tile-by-tile.</p></div>
<div class="paragraph"><p>When an image  processing function performs a point-wise operation (for example, image
arithmetic or  logical operation), it can be directly applied to processing a tiled image.
On the contrary,  when an operation (such as filtering) requires pixels outside the tile,
or when input tiles  are not mapped to the output tiles (such as in geometric transforms),
processing the tiled images  becomes more complicated and requires additional efforts.
Accordingly, we shall consider  the following cases of tiled image processing by means of
Intel&#174; IPP functions:</p></div>
<div class="ulist"><ul>
<li>
<p>
Case 1: Image is processed using a point-wise operation - for example, logical
operation
<em>Xor</em>.  In this case, all the required input pixels are given. Moreover, each tile of an
input image  is mapped to the corresponding (that is, having the same coordinate position)
tile of the output image;
</p>
</li>
<li>
<p>
Case 2: Image is processed using a neighborhood operation that needs intensity values
for pixels outside the tile - for example, lowpass filtering operation <em>Blur</em>. In this
case, each tile  of an input image is also mapped to the corresponding output tile, but
not all required input pixels are given and thus the additional (border) pixels must be
set;
</p>
</li>
<li>
<p>
Case 3: Image processing operation works in such a way that pixels of an input tile are
not  mapped to the spatially corresponding output tile - for example, image resizing. In
this  case certain parameters (resize factors) must be recalculated to combine correctly
the output tiles.
</p>
</li>
<li>
<p>
Case 4: Image processing operation needs intensity values for pixels outside the tile,
and  input tiles are not mapped to the spatially corresponding output tiles - for example,
image  rotation. Here the intensity values of pixels that lie outside the input tile are
required  to compute intensity values of the boundary pixels using linear or cubic
interpolation.  In this case, the algorithm must account for both proper tile mapping and
border pixels setting.
</p>
</li>
</ul></div>
<div class="paragraph"><div class="title">The "Butler" Class</div><p>First  things you need to process images tile-by-tile are the functions for reading and
writing the tiles.</p></div>
<div class="paragraph"><p>The class named <em>Butler</em>,  which serves to supply the image processing operation with
image pixel data, was specially  developed to simplify the tiled image processing by
Intel&#174;
IPP primitives. The main methods  of the class are the functions for retrieving data from
the tile and for storing data into  the tile. Besides that, the <em>Butler</em> class performs
tile
storage, which can reside either on  the hard disk, in system memory, on the network, in a
bitstream, or elsewhere.</p></div>
<div class="paragraph"><p>The typical  procedure of tiled image processing using the <em>Butler</em> class should generally
look like the following :</p></div>
<div class="listingblock">
<div class="content">
<pre><code>while( tile index is inside of dst image ) {
        srcTile = srcButler.getTilePtr( index );
        dstTile = new tile;
        // process the tile
        dstButler.putTilePtr( dstTile, index );
        index = dstButler.incIndex( index );
}</code></pre>
</div></div>
<div class="paragraph"><p>This procedure  processes an image in the loop through all available tiles and uses the
index of the current  tile being processed. The initial tile is retrieved by means of the
<em>Butler</em> class method from  the tile storage. Then the new output tile that stores the
processed data is created.  After the processing is over, another <em>Butler</em> class method
puts the output tile into the tile  storage, and the index of the current tile is
incremented.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">This code fragment is  designed to perform point-wise operations, so the
indices of input and output tiles are the same.</td>
</tr></table>
</div>
<div class="paragraph"><div class="title">Structure of the <em>Butler</em> Class</div><p>In this section we give a more detailed  description of the <em>Butler</em> class and its derived
classes.</p></div>
<div class="paragraph"><p>In this particular implementation,  tiles are stored in memory and pointers to
data are stored in a two-dimensional array.  Since the <em>Butler</em> class manipulates with
pointers to data only, no actual data copying  takes place.</p></div>
<div class="paragraph"><p>The <em>Butler</em> class maintains
also the so called "<em>black</em>" tile with all zero values.  The "<em>black</em>" tile is used when
the
required tile does not exist in the storage or in the image  at all. This may be the case
when the image processing operation requires data outside the image boundaries.</p></div>
<div class="paragraph"><p>Some variables and methods of the <em>Butler</em> class are presented in the code below:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>class Butler {
protected:
        /// "black" tile, one for all instances
        static Tile m_blackTile;
        /// image size in tiles, original image size in pixels
        Size m_imgSz, m_imgSzPixel;
        /// where the tiles are stored
        Ipp8u** m_storage;
public:
..
        Size imageSize();
        Size imageSizeTiles();
        /// increase the tile index
        static Index incIndex( Index index, Size size );
        Index incIndex( Index index );
        /// following two virtual funcs can have other implementations
        /// to provide a different method of storing tiles
        virtual Ipp8u* getTilePtr( Index index );
        virtual bool putTilePtr( Ipp8u* tile, Index index );
        /// tile operation to create sample image with ipp Ramp
        bool createTiledImageRamp( int w, int h );
        /// tile at the image edges could have less size to process
        /// even we have a full size tile in the tile storage
        Size sizeToProcess( Index index );
        /// get rectangle of the tile
        Rect rectOfTile( Index index );
        /// num of tiles which contain the rectangle
        Size howManyTiles( double bound[2][2]);
        /// create rectangle, with a border if it is needed
        Rect boundToRectBorder(double bound[2][2], int xy, int isz );
        /// create area of pixels that have to be processed to get dst
        virtual Ipp8u* copyTiles(Index dstTile,Size nofTiles,int* wstep);
        /// create a solid image to draw and show
        Ipp8u* makeSolidImage( int* wstep );
        /// show image using special function ipView from the tool
        void draw( const char* title, int modal );
};</code></pre>
</div></div>
<div class="paragraph"><p>The above code contains  all members and almost all key methods of the <em>Butler</em> class.
Image size in this class can be of the following three types:</p></div>
<div class="ulist"><ul>
<li>
<p>
given by the number of tiles along vertical and horizontal direction (in the variable
<em>m_imgSz</em>);
</p>
</li>
<li>
<p>
given by the size of the source image in pixels (in the variable <em>m_imgSzPixel</em>). The
image size may be non-integer multiple of the tile size;
</p>
</li>
<li>
<p>
specified by the size of the image containing all tiles with data (in the function
<em>imageSize</em>).
</p>
</li>
</ul></div>
<div class="paragraph"><p>The function that increments the tile index <em>incIndex</em> has two flavors - the number of
tile in the image may be passed as an external parameter, or retrieved from the class.</p></div>
<div class="paragraph"><p>Both functions <em>getTilePtr</em> (that retrieves a tile from storage) and <em>putTilePrt</em> (that
puts the tile into storage) do not copy data but return and store a pointer to data
instead.</p></div>
<div class="paragraph"><p>An instance of the <em>Butler</em> class provides the tile storage. In the current version, the
tile container is a two-dimensional array <em>m_storage</em> that stores pointers to the tile
data. If the storage method is changed in some class derived from the <em>Butler</em> class, then
the virtual functions <em>getTilePtr</em> and <em>putTilePtr</em> should be implemented in accordance
with the new storage method.</p></div>
<div class="paragraph"><p>Another important function that may be implemented in the derived class is <em>copyTiles</em>.
This  function creates a two-dimensional array of pixels that are needed to compute the
pixel  values of the single output tile. The size of the array is an integer multiple of
the tile size.  The number of input tiles and their position (index) in the source image
depend on the border size, and/or parameters of the geometric transform.</p></div>
<div class="paragraph"><p>The function <em>copyTiles</em> returns the pixel array and its width in bytes. The function
input parameters are the tile index and the number of tiles to be placed into the array.
Operations that require border pixels call the <em>copyTiles</em> function with the tile index
parameter set to the index of the tile to be processed. Geometric transform operations
call the <em>copyTiles</em> function with the index of the tile that resides in the beginning of
the processed area of the input image. Point-wise operations do not normally call the
<em>copyTiles</em> function, since they process only a single tile and do not need to create its
copy.</p></div>
<div class="paragraph"><p>Typically, the <em>Butler</em> class operates on rectangles in the processing area that are
specified either by their coordinates <em>quad[2][2]</em> or the structure <em>Rect</em> containing
coordinates of the reference point and size of the rectangle. For example, the function
<em>rectOfTile</em> creates the rectangle in the image containing a tile specified by its index,
and the function <em>boundToRectBorder</em> creates the rectangle containing the specified area
and the required border pixels.</p></div>
<div class="paragraph"><p>Two methods of the class are designed to create test images. The method
<em>createTiledImageRamp</em> creates the tiled image with monotonously increasing brightness.
The method <em>createTiledImageGrid</em> creates the grid with the variable line width. These
methods can serve as another illustration of the tiled image processing implementation. For
example, the method <em>createTiledImageRamp</em> uses the Intel&#174; IPP primitive <em>ippiImageRamp</em>
as follows:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>while( index.inside( m_imgSz ) &amp;&amp; ippStsNoErr==st ) {
        Ipp8u* tile = new Ipp8u[Tile::size().area()*3];
        ippiSet_8u_C3R( white, tile, Tile::wstep(), Tile::size() );
        float ofs = index.x * Tile::side() * slope;
        st = ippiImageRamp_8u_C3R( tile, Tile::wstep(),
        sizeToProcess(index), ofs, slope, ippAxsHorizontal );
        putTilePtr( tile, index );
        index = incIndex( index );
}</code></pre>
</div></div>
<div class="paragraph"><p>You can find pictures of both test images later in the text.</p></div>
<div class="paragraph"><div class="title">Derived Classes</div><p>Three classes derived from the <em>Butler</em> classes are implemented in the example code. All
derived classes, <em>ButlerReflect</em>, <em>ButlerRotate</em>, and <em>ButlerResize</em>, are designed to
provide the special implementation of the function <em>copyTiles</em> that creates an array of
input pixels.</p></div>
<div class="paragraph"><p>The classes <em>ButlerRotate</em> and <em>ButlerResize</em> are required in geometric transforms, since
for such transforms the <em>Butler</em> class must provide a different method of creating the
input array as compared to filtering operations.</p></div>
<div class="paragraph"><p>The class <em>ButlerReflect</em> is designed to demonstrate how to set the non-existent border
pixel values in a more appropriate way than just to fill them with zeros.  For example, in
the figure below, the added pixel values  (blue) beyond the vertical boundary of the image
(yellow) may be obtained by mirroring the existing pixels (black).</p></div>
<div class="tableblock">
<table rules="all"
width="20%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><span class="blue">b</span></p></td>
<td align="left" valign="top"><p class="table"><span class="blue">a</span></p></td>
<td align="left" valign="top"><p class="table"><span class="yellow-background">a</span></p></td>
<td align="left" valign="top"><p class="table"><span class="yellow-background">b</span></p></td>
<td align="left" valign="top"><p class="table"><span class="yellow-background">c</span></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><span class="blue">e</span></p></td>
<td align="left" valign="top"><p class="table"><span class="blue">d</span></p></td>
<td align="left" valign="top"><p class="table"><span class="yellow-background">d</span></p></td>
<td align="left" valign="top"><p class="table"><span class="yellow-background">e</span></p></td>
<td align="left" valign="top"><p class="table"><span class="yellow-background">f</span></p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>To mirror the pixels, the Intel&#174; IPP function <em>ippiMirror</em> with appropriate values of
the parameter <em>flip</em> is used</p></div>
<div class="paragraph"><div class="title">Auxiliary Classes</div><p>Example code  declares and uses several auxiliary classes that simplify coding. These
classes are <em>Size</em>, <em>Rect</em>, and <em>Index</em> that are built atop the corresponding Intel&#174; IPP
structures <em>IppiSize</em>, <em>IppiRect</em>, and <em>IppiPoint</em>. Several constructors for each class
allow to easily create variables of these types including the range of function
parameters' definition. The <em>Index</em> class contains some helpful and widely used methods,
for example, the method <em>inside</em> that checks if the tile is inside the image, and an
operator that adds indices. A special method <em>offcenter</em> computes the value, which must be
added to the image data pointer in  order to reset it to point to the first pixel of the
specified tile.</p></div>
<div class="paragraph"><p>The <em>Tile</em> class was designed specifically to substitute data of the non-existent tile, so
when the required tile does not exist, the "black" tile with zeroes is returned.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">The example code uses square tiles, but this does not impose restrictions on using
rectangular tiles of any size.</td>
</tr></table>
</div>
<div class="paragraph"><div class="title">Visualization Procedure</div><p>To visualize the processing results, the special function was  developed that creates a
new window and draws  the resulting image using Windows* API. This function is auxiliary
and  is not described in detail here. However, its interface and usage tips may be of
interest to developers.</p></div>
<div class="paragraph"><p>The interface is typical for the Intel&#174; IPP primitives and contains the pointer to the
actual image data,  step in bytes through the image, and the size of the region of
interest (ROI) as follows:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>void* ipView_8u_C3R(const Ipp8u* pData, int step, IppiSize roi,
        const char* caption, int isModalView);</code></pre>
</div></div>
<div class="paragraph"><p>The last two parameters passed  to the function are the string that will be the window
header, and the window modal flag.  If this flag is set, then the created window becomes
modal. It means that the application pauses  after the image is drawn and resumes
operation only after the window is closed. This option  can be used to conveniently create
several windows, for example, with input and output  images, by setting the modal flag
only for the output image window.</p></div>
<div class="paragraph"><div class="title">Examples of Tiled Image Processing</div><p>Four code examples  that demonstrate tiled image processing in different cases have been
developed based on the <em>Butler</em> class and its auxiliary classes. These examples cover the
following cases:</p></div>
<div class="ulist"><ul>
<li>
<p>
a point-wise operation;
</p>
</li>
<li>
<p>
a neighborhood operation that requires pixel values outside the image boundaries;
</p>
</li>
<li>
<p>
an operation in which the output tile does not have a single input tile mapped to it,
and indices of relevant input tiles are specially computed;
</p>
</li>
<li>
<p>
an operation that requires additional computation to provide proper combining of the
output tiles.
</p>
</li>
</ul></div>
<div class="paragraph"><div class="title">Example 1: A Point-wise Operation on a Tiled Image</div><p>A point-wise  processing is the easiest type of operation on a tiled image. The following
example implements  the point-wise test function <em>t_xorc</em>, which uses the Intel&#174; IPP
primitive <em>ippiXorC</em> and is so simple that its code may be given below:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>int t_xorc( int w = 300, int h = 200 )
{
        Butler srcButler;
        srcButler.createTiledImageRamp( w, h );
        Butler dstButler( w, h );
        Ipp8u val[3] = { 255, 255, 0 };
        Index index;

        while( index.inside( dstButler.imageSizeTiles() ) ) {
                Ipp8u* srcTile = srcButler.getTilePtr( index );
                Ipp8u* dstTile = new Ipp8u[Tile::size().area()*3];
                ippiXorC_8u_C3R( srcTile, Tile::wstep(), val, dstTile,
                        Tile::wstep(), dstButler.sizeToProcess(index) );
                dstButler.putTilePtr( dstTile, index );
                index = dstButler.incIndex( index );
        }
        srcButler.draw( " original", 0 );
        dstButler.draw( " xored", 1 );
        return 0;
}</code></pre>
</div></div>
<div class="paragraph"><p>You can  see a typical loop for tile processing. In each iteration, the function takes an
input tile using  the <em>Butler</em> class, creates an output tile, and processes the input tile
as if it was a whole image.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">The region of interest (ROI) passed to the function is created such as to
accommodate for the possible image  boundary presence. After processing, the function
stores the output tile, increments the  tile index and repeats iteration. When the whole
image is processed, the function draws  the source image in a non-modal window and the
output image in the modal window as shown  on figure below. Black strips at the bottom and
to the right of the output image indicate that  the image size is not a multiple of the
tile size in this example.</td>
</tr></table>
</div>
<div class="paragraph"><p>Input and output  image windows are placed in the command interpreter window and the
command line below shows how to run the example.</p></div>
<div class="imageblock" id="pnt_wise">
<div class="content">
<img src="images/Fig_1.jpg" alt="images/Fig_1.jpg" />
</div>
<div class="title">Figure 1. Point-wise Operation on the Tiled Image</div>
</div>
<div class="paragraph"><div class="title">Example 2: Tiled Image Filtering</div><p>The  lowpass filter function <em>ippiFilterBox</em> is an example of a neighborhood operation
that
requires  border pixels. To compute pixel values on the edge of the tile, the function
needs pixels  outside the tile. If the input tile lies inside the image, the required
pixels are taken  from the neighbor tiles, but if the function needs pixels outside the
input image itself,  then the image border that contains the missing pixels is created.</p></div>
<div class="paragraph"><p>There are several ways  that can be used to specify values of these border pixels. The
simplest is to set pixel  values to zero, which is implemented in the method <em>copyTile</em> of
the base class <em>Butler</em>. Another  option (implemented in the class <em>ButlerReflect</em>) is to
mirror pixels of the existing boundary  tile by using the Intel&#174; IPP primitive
<em>ippiMirror</em>.
You may also want to develop your own border  extension model, for example <em>Copy</em>, using
the new method <em>copyTiles</em> in the derived class <em>ButlerCopy</em>.</p></div>
<div class="paragraph"><p>The example code  is again rather simple. In the loop through all tiles, the code
determines the rectangle  of input pixels that are necessary to compute all pixels of the
current tile as:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>bound[0][0] = dstTileIndex.x * Tile::side() - (masksz - anchor.x);
bound[0][1] = dstTileIndex.y * Tile::side() - (masksz - anchor.y);
bound[1][0] = bound[0][0] + Tile::side() + masksz -1;
bound[1][1] = bound[0][1] + Tile::side() + masksz -1;</code></pre>
</div></div>
<div class="paragraph"><p>Here the boundaries  of the area for input pixels are extended to add the distance to the
filter mask anchor point. After that, the array of input pixels is retrieved for
processing:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>Ipp8u* srcTiles = srcButler.copyTiles( dstTileIndex, srcButler.howManyTiles(bound),
                &amp;wstep);</code></pre>
</div></div>
<div class="paragraph"><p>Next, the input array is processed and the results are written to the output tile:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>st = ippiFilterBox_8u_C3R( srcTiles+Index(1).offcenter( Tile::size(),wstep),wstep,
        dstTile, Tile::wstep(), dstButler.sizeToProcess(dstTileIndex), maskSz, anchor );</code></pre>
</div></div>
<div class="paragraph"><p>Finally, the output tile is saved, tile index is increased, and the  memory allocated for
the array is freed:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>dstButler.putTilePtr( dstTile, dstTileIndex );
dstTileIndex = dstButler.incIndex( dstTileIndex );
ippiFree( srcTiles );</code></pre>
</div></div>
<div class="paragraph"><p>The distinctive feature  of this code example is the possibility to specify the type
<em>Butler</em> that will service filtration. To accomplish this, the test function <em>t_blur</em> is
declared as follows:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>int t_blur( Butler&amp; srcButler, int masksz=3, int w=320, int h=256 )</code></pre>
</div></div>
<div class="paragraph"><p>The call to this function may look like the following:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>t_blur( ButlerReflect(), 7, w, h );</code></pre>
</div></div>
<div class="paragraph"><p>The following figure shows the input and filtered images.</p></div>
<div class="imageblock">
<div class="content">
<img src="images/Fig_2.jpg" alt="images/Fig_2.jpg" />
</div>
<div class="title">Figure 2. Filtering of the Tiled Image</div>
</div>
<div class="paragraph"><div class="title">Example 3: Rotation of the Tiled Image</div><p>The example of  the geometric transform is the most complicated because additional efforts
are needed to determine the  input image processing areas for each tile. However, the
general approach remains  the same: for each output tile, create a two-dimensional array
containing pixels of  all tiles needed to compute the current output tile, then process
the array, store the output tile, and increase the tile index.</p></div>
<div class="paragraph"><p>It is important to note that in the call to the Intel&#174; IPP primitive <em>ippiRotate</em>,
pointers to the input and output data are offset as if the function operates on the full
image. But  in actual fact these pointers (passed as parameters to the function) point to
the non-existing data:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>st=ippiRotate_8u_C3R(srcTiles-startTile.offcenter(Tile::size(),wstep),
        imgSz, wstep, srcRect,
        dstTile-dstTileIndex.offcenter(Tile::size(),Tile::wstep()),
        Tile::wstep(), tileRect,
        angle, xshift, yshift, interpolation );</code></pre>
</div></div>
<div class="paragraph"><p>The positions of  processing areas <em>srcRect</em> and <em>tileRect</em> are also set on the assumption
that the input  and output images are full size. Again, the actual situation is different.
For example, a single  tile of the image is used as the output buffer, and the pointer to
it is reset inside the  function when the tile position in the output image is accounted
for (at this stage, the complete  output image does not exist). It means that the function
which sets the pointer to the output  buffer will compensate the initial negative offset
by the adequate positive offset.</p></div>
<div class="paragraph"><p>This manipulation  with pointers to non-existent data is caused by the specifics of
function interface and  makes it possible to accomplish the tile-by-tile image processing
in the described case.</p></div>
<div class="paragraph"><p>It  should be specially noted that before entering the loop, the shift values for forward
and inverse  geometric transforms are calculated. Shift values for a forward transform are
used by the Intel&#174; IPP function. Shift values for an inverse transform are used for
computing the processing area of the input image:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>srcButler.rectToBound(tileRect,bound,-angle,xshiftback,yshiftback);
Rect srcRect = srcButler.boundToRectBorder( bound, 3, 6 );</code></pre>
</div></div>
<div class="paragraph"><p>Values 3 and 6  specify the parameters of the border that is used during interpolation. As
soon as the input  image rectangle is determined, the code retrieves the array of pixels
for processing:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>Ipp8u* srcTiles = srcButler.copyTiles( startTile, srcButler.howManyTiles(bound), &amp;wstep );</code></pre>
</div></div>
<div class="paragraph"><p>Finally, pixels  in the array are processed (in the discussed case, some part of the
source image is rotated) and a single output tile is obtained. The next figure shows the
source and the output (rotated) images.</p></div>
<div class="imageblock">
<div class="content">
<img src="images/Fig_3.jpg" alt="images/Fig_3.jpg" />
</div>
<div class="title">Figure 3. Rotation of the Tiled Image</div>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">The background color is white for the input image and black for the output
image. This is done to emphasize that the background is not processed.</td>
</tr></table>
</div>
<div class="paragraph"><div class="title">How to Make the Tile Grid Visible</div><p>If you  want to make the tile boundaries visible in the example of image rotation, it will
require adding  two lines of code and modifying one line. First, decrease by one point the
output ROI size before processing the image as:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>tileRect.width--;
tileRect.height--;</code></pre>
</div></div>
<div class="paragraph"><p>and then replace the test image with the image that has more bright points:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>srcButler.createTiledImageRamp(w,h);</code></pre>
</div></div>
<div class="paragraph"><p>Now the grid that is formed by the tiles is visible on the output image (see next figure).</p></div>
<div class="imageblock">
<div class="content">
<img src="images/Fig_4.jpg" alt="images/Fig_4.jpg" />
</div>
<div class="title">Figure 4. Visualization of the Tile Boundaries</div>
</div>
<div class="paragraph"><div class="title">Example 4: Resizing of the Tiled Image</div><p>Two special functions - <em>ippiResizeShift</em> and <em>ippiGetResizeFract</em> - have been developed
for this operation.</p></div>
<div class="paragraph"><p>The processing scheme  is very similar to the previous example, but the shift values
<em>xshift</em> and <em>yshift</em> are computed  for each tile by the function <em>ippiResizeShift</em> that
is called directly in each iteration. The function uses the recalculated values of the
resize factors that must be computed by calling the function <em>ippiGetResizeFract</em>
beforehand. The next figure shows the source and the output (resized) images.</p></div>
<div class="imageblock">
<div class="content">
<img src="images/Fig_5.jpg" alt="images/Fig_5.jpg" />
</div>
<div class="title">Figure 5. Resize of the Tiled Image</div>
</div>
<div class="paragraph"><div class="title">Running the Test</div><p>All  four examples are contained in the single executable file. Each example is invoked
from the  command line by typing the test reference name. The following table lists
commands that  invoke the examples, together with available operation modes, as well as
Intel&#174; IPP primitives and <em>Butler</em> class types used.</p></div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
<thead>
<tr>
<th align="left" valign="top">Command line   </th>
<th align="left" valign="top">Operation type         </th>
<th align="left" valign="top">Intel&#174; IPP primitive </th>
<th align="left" valign="top">Butler class</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">tiler xor</p></td>
<td align="left" valign="top"><p class="table">Point-wise operation</p></td>
<td align="left" valign="top"><p class="table"><em>ippiXorC</em></p></td>
<td align="left" valign="top"><p class="table">Butler</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">tiler blur</p></td>
<td align="left" valign="top"><p class="table">Operation with border</p></td>
<td align="left" valign="top"><p class="table"><em>ippiFilterBox</em></p></td>
<td align="left" valign="top"><p class="table">Butler</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">tiler blurref</p></td>
<td align="left" valign="top"><p class="table">Operation with border</p></td>
<td align="left" valign="top"><p class="table"><em>ippiFilterBox</em></p></td>
<td align="left" valign="top"><p class="table">ButlerReflect</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">tiler rot</p></td>
<td align="left" valign="top"><p class="table">Computation of processing area and rotation</p></td>
<td align="left" valign="top"><p class="table"><em>ippiRotate</em></p></td>
<td align="left" valign="top"><p class="table">ButlerRotate</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">tiler resize</p></td>
<td align="left" valign="top"><p class="table">Computation of processing area and resizing</p></td>
<td align="left" valign="top"><p class="table"><em>ippiResizeShift</em></p></td>
<td align="left" valign="top"><p class="table">ButlerResize</p></td>
</tr>
</tbody>
</table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">The image size, filter parameters, or geometric transform parameters are
not specified in the command line. Their values are fixed to make the example more
compact. However,  you can easily change values of these parameters in the example code
and rebuild the example.</td>
</tr></table>
</div>
<div class="paragraph"><div class="title">Running the Software</div><p>Prepare running environment as specified <a href="#run_win">here</a>.</p></div>
<div class="paragraph"><p>All examples are contained in the single executable file. Each example
is invoked from the command line by typing the test name:</p></div>
<div class="ulist"><ul>
<li>
<p>
<em>tiler xor</em> - point-wise operation
</p>
</li>
<li>
<p>
<em>tiler blur</em> - lowpass filtering, border pixel values are set to zero
</p>
</li>
<li>
<p>
<em>tiler blurref</em> - lowpass filtering, border pixels are created by mirroring
</p>
</li>
<li>
<p>
<em>tiler rot</em> - image rotation
</p>
</li>
<li>
<p>
<em>tiler resize</em> - image resizing.
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Known Limitations</div><ul>
<li>
<p>
All images are 3-channel and have 24 bits-per-pixel bit depth
</p>
</li>
<li>
<p>
Each tile has the square shape
</p>
</li>
<li>
<p>
Parameters of the applied filter and geometric transform are not
specified in the command line
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_image_processing_for_os_x">Image Processing for OS X*</h4>
<div class="paragraph"><p>The Intel&#174; IPP Image Processing Functions Sample represents the
work of Intel&#174; IPP image processing functions. The sample is intended as an
example to show how Intel&#174; IPP functions can be used in OS X* application.
It is not intended to be a complete demonstration of Intel&#174; IPP library
functions.</p></div>
<div class="paragraph"><p>The sample is <em>cocoa</em> application with the corresponding project file and
resources for Xcode* IDE v.2 and Interface Builder* v.2.</p></div>
<div class="ulist"><div class="title">Intel&#174; IPP Functions used in the sample</div><ul>
<li>
<p>
<em>ippCore</em> library functions for data allocation and for error handling
</p>
</li>
<li>
<p>
<em>ippSP</em> (Signal Processing) library functions for some support operations
</p>
</li>
<li>
<p>
<em>ippIP</em> (Image Processing) library functions for image processing
</p>
</li>
</ul></div>
<div class="paragraph"><div class="title">How to Build Source Code</div><p>Use <a href="#execute_build_script">build script</a> with <em>xcode</em> generator on <em>image-processing</em>
section of samples.</p></div>
<div class="paragraph"><div class="title">Running the Sample</div><p>Prepare <a href="#run_osx">the environment</a>.</p></div>
<div class="paragraph"><div class="title">How to process an image</div><p>At the very beginning image with default data is already opened. You
can process this image or you may open any image file by "<em>File/Open</em>"
menu command or create new image by "<em>File/New</em>" menu command. You will
see image type, number of channels and image size in pixels at the
document title bar.</p></div>
<div class="paragraph"><p>To begin active image processing select an operation by
"<em>Process/&lt;Group&gt;/&lt;Operation&gt;</em>" command, for example,
"<em>Process/Filter/Gauss</em>" command. If some <em>Group</em> or <em>Operation</em> is grayed it
means that it cannot process the active image.</p></div>
<div class="paragraph"><p>After that the panel appears with the specific Intel&#174; IPP function
arguments, if any. Set these arguments and click on the <em>OK</em> button.</p></div>
<div class="paragraph"><p>The Intel&#174; IPP function will be applied to the source image and the
destination image will be created. At the bottom of destination image
you will see the source image name and ipp function name that produce
this image, for example "<em>Image 4 processed by ippiFilterGauss_8u_C3R
function</em>".</p></div>
<div class="ulist"><div class="title">File commands</div><ul>
<li>
<p>
"<em>File/New&#8230;</em>" menu command displays dialog with image parameters. Set
parameters that you want, click on <em>OK</em> button and new image will be
created.
</p>
</li>
<li>
<p>
"<em>File/New Duplicate</em>"  menu command creates new image with the same
properties as the last created image.
</p>
</li>
<li>
<p>
"<em>File/Open&#8230;</em>" menu command or <em>Open</em> button in <em>Tool</em> bar display
standard <em>Open</em> dialog for image files.
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">View commands</div><ul>
<li>
<p>
"<em>View/Shrink Images To Fit Frame</em>" menu command forces every open
image to shrink proportionally if its size is larger than window frame
size.
</p>
</li>
<li>
<p>
"<em>View/Reject Images Scaling</em>" menu command cancels Shrink Images mode.
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Process commands</div><ul>
<li>
<p>
"<em>Process/&lt;Group&gt;/&lt;Operation&gt;</em>" menu command starts active image
processing by Intel&#174; IPP function.
</p>
</li>
</ul></div>
<hr />
</div>
<div class="sect3">
<h4 id="_image_processing_windows">Image Processing Windows*</h4>
<div class="paragraph"><p>The Intel&#174; IPP Image Processing Functions Sample represents the
work of Intel&#174; IPP image processing functions. Almost all <em>ippIP</em> and <em>ippCC</em>
library functions and a big part of <em>ippCV</em> library functions are
implemented here.</p></div>
<div class="paragraph"><p>The sample is MFC application with the corresponding workspace and
project files for various Microsoft* Visual Studios depending on <em>generator</em> option while
<a href="#execute_build_scipt">build</a>.</p></div>
<div class="ulist"><div class="title">Intel&#174; IPP Functions Used in the sample</div><ul>
<li>
<p>
<em>ippCore</em> library functions for data allocation and for error handling
</p>
</li>
<li>
<p>
<em>ippSP</em> (Signal Processing) library functions for some support operations
</p>
</li>
<li>
<p>
<em>ippIP</em> (Image Processing) library functions for image processing
</p>
</li>
<li>
<p>
<em>ippCC</em> (Color Conversion) library functions for image processing
</p>
</li>
<li>
<p>
<em>ippCV</em> (Computer Vision) library functions for image processing
</p>
</li>
</ul></div>
<div class="paragraph"><div class="title">Running the Sample</div><p>Prepare <a href="#run_win">the environment</a>. Run <a href="#build_target_dir">this</a> application and follow
instructions below.</p></div>
<div class="paragraph"><div class="title">How to Process an Image</div><p>At the very beginning you should open bmp file or create new image by
standard <em>File Commands</em> or <em>Toolbar Buttons</em>. You
will see image type and a number of channels at the document title bar. To view all active
image attributes select <em>File\Properties</em> from the menu or
<em>Properties</em> from the context menu.</p></div>
<div class="paragraph"><p>Before image processing you may create <em>Region Of Interest (ROI)</em> for
the active image. You may draw <em>ROI</em> by mouse or plainly set its offset
and size (see <em>Toolbar Buttons</em>, <em>Context Menu Commands</em> or <em>Contour
Commands</em> sections for details). If you specify ROI then Intel&#174; IPP functions
will process ROI rectangle but not the whole image.</p></div>
<div class="paragraph"><p>To begin active image processing select the command <em>Process by</em> from
the <em>Process</em> menu, from the context menu, or from the toolbar.</p></div>
<div class="paragraph"><p>In the <em>Choose Function</em> property sheet select domain you need: <em>ippIP</em>
(general image processing functions), <em>ippCC</em> (color conversion
functions) or <em>ippCV</em> (computer vision functions).</p></div>
<div class="paragraph"><p>An active image will be the first source image for the chosen
function according to its prototype. If the function requires several
source images, then you have to select these images one by one with the
mouse. If the cursor has the "<em>arrow and brief image name</em>" shape, then
it means the selection mode. If the cursor has the "<em>brief image name
without arrow</em>" shape, then it means that the image under the cursor may
be selected. Click left mouse button to select the image.</p></div>
<div class="paragraph"><p>Destination images will be automatically created while further
processing. But sometimes you need to use existent images as
destination ones. Check on the <em>Pick Dst</em> button in the toolbar before
processing and then you will select destination images in the same way
as source images.</p></div>
<div class="paragraph"><p>You can carry out a lot of actions while selection mode is on. You
may open another image, draw some contours in any image. Also you can
stop processing by <em>Stop Processing</em> command from the <em>Process</em> menu,
from the context menu, or from the toolbar.</p></div>
<div class="paragraph"><p>When all images are selected, the dialog box appears with the
specific Intel&#174; IPP function arguments, if any. Set these arguments and click
on the OK button.</p></div>
<div class="paragraph"><p>The Intel&#174; IPP function will be applied to the source images and the
destination images will be created or changed. The name of applied
function and its performance can be seen on status bar when the
destination image is active. Detailed information about Intel&#174; IPP function
call will be added to the destination image history.</p></div>
<div class="paragraph"><p>To view the history of the active image, select <em>File\History</em> from
the menu, or <em>History</em> from the context menu. History contains
information of the chain of Intel&#174; IPP functions that resulted in this image.
A presentation of each Intel&#174; IPP function has the following format:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>        &lt;source image name&gt;
         [&lt;source image name&gt;]
             &lt;Intel(R) IPP function name&gt; ( &lt;arguments&gt; )   &lt;performance&gt;
         &lt;destination image name&gt;</code></pre>
</div></div>
<div class="paragraph"><p><em>&lt;destination image name&gt;</em> of the previous function is at the
same time <em>&lt;source image name&gt;</em> of the next function.</p></div>
<div class="paragraph"><p>You can save result image to .bmp file by the standard toolbar
button, or <em>File</em> menu command.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">If you want to save image with a
non-standard depth or number of channels, you may save it in
non-standard bmp format. Such a file can be read by ippIP Demo only.</td>
</tr></table>
</div>
<div class="ulist"><div class="title">What is IppiDemo Player</div><ul>
<li>
<p>
<em>Player</em> is high-level demonstration of several Intel&#174; IPP functions. <em>Player</em>
changes image view but does not change the original image data.
</p>
</li>
<li>
<p>
<em>Player</em> is controlled by standard commands such as <em>Play</em>, <em>Stop</em>,
<em>Pause</em> from toolbar.
</p>
</li>
<li>
<p>
<em>Player</em> may be run in four different modes: <em>Performance Show</em>,
<em>Rhythmical Show</em>, <em>Pulsing Mask</em> and <em>Wandering Mask</em>.
</p>
</li>
<li>
<p>
<em>Performance Show</em> modifies the active image by Intel&#174; IPP functions, player
speed is proportional to function performance. Check
<em>Player\Performance Show</em> menu command to set this mode. If you run
player in this mode and then change optimized Intel&#174; IPP library to
non-optimized one you will see speed difference.
</p>
</li>
<li>
<p>
<em>Rhythmical Show</em> modifies the active image by Intel&#174; IPP functions but player
speed does not depend on function <a href="#IPP_SAMPLES_OptNotice">performance</a>. Check
<em>Player\Rhythmical Show</em> menu command to set this mode.
</p>
</li>
<li>
<p>
<em>Pulsing Mask</em> mode makes player to modify the active image by Intel&#174; IPP
functions inside some mask which size increases and decreases. Check
<em>Player\Pulsing Mask</em> menu command to set this mode.
</p>
</li>
<li>
<p>
<em>Wandering Mask</em> mode makes player to modify the active image by Intel&#174; IPP
functions inside some mask wandering across the image. Check
<em>Player\Wandering Mask</em> menu command to set this mode.
</p>
</li>
<li>
<p>
You can select Intel&#174; IPP functions to play. Also you can change mask shape
and player speed. Use <em>Player\Customize</em> menu command for that.
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Toolbar Buttons</div><ul>
<li>
<p>
<em>New</em> button creates new image with the same properties as the last
created image; for the first time that will be default properties. To
create another image use <em>File\New&#8230;</em> menu command.
</p>
</li>
<li>
<p>
<em>Open</em> button displays standard <em>Open</em> dialog for .bmp files.
</p>
</li>
<li>
<p>
<em>Save</em> button saves the active image as .bmp file.
</p>
</li>
<li>
<p>
<em>Signed</em> button transforms active image data to (from) signed type.
This operation changes image properties but not image data or image
document view.
</p>
</li>
<li>
<p>
<em>Plane</em> button converts active image data to (from) plane format.
This operation changes image properties and image data order but not
image document view.
</p>
</li>
<li>
<p>
<em>Complex</em> button transforms active 2-channels image data to 1-channel
complex data and vice versa. This operation changes image properties
but not image data or image document view.
</p>
</li>
<li>
<p>
<em>BlueChannel</em> button selects the first plane of the active plane
image to process it by C1 functions. The view of the image will present
the first plane.
</p>
</li>
<li>
<p>
<em>GreenChannel</em> button selects the second plane of the active plane
image to process it by C1 functions. The view of the image will present
the second plane.
</p>
</li>
<li>
<p>
<em>RedChannel</em> button selects the third plane of the active plane image
to process it by C1 functions. The view of the image will present the
third plane.
</p>
</li>
<li>
<p>
<em>AlphaChannel</em> button selects the forth plane of the active plane
image to process it by C1 functions. The view of the image will present
the forth plane.
</p>
</li>
<li>
<p>
<em>ROI</em> button: check on the button to draw ROI by mouse in the active
image; check out the button to remove ROI from the active image.
</p>
</li>
<li>
<p>
<em>Quad</em> button: check on the button to draw <em>Quadrangle</em> by mouse in the
active image; check out the button to remove <em>Quadrangle</em> from the active
image. <em>Quadrangle</em> will be used by some geometrical Intel&#174; IPP functions such
as <em>WarpBilinear</em>.
</p>
</li>
<li>
<p>
<em>Parl</em> button: check on the button to draw <em>parallelogram</em> by mouse in
the active image; check out the button to remove <em>parallelogram</em> from
the active image. <em>parallelogram</em> will be used by some geometrical Intel&#174; IPP
functions such as <em>WarpAffine</em>.
</p>
</li>
<li>
<p>
<em>Center&amp;Shift</em> button: check on the button to draw <em>Center &amp; Shift</em> by
mouse in the active image; check out the button to remove <em>Center &amp;
Shift</em> from the active image. <em>Center &amp; Shift</em> will be used by some Intel&#174; IPP
functions such as <em>Rotate</em> or <em>Shear</em>.
</p>
</li>
<li>
<p>
<em>Process by</em> button displays dialog that starts active image
processing by Intel&#174; IPP function.
</p>
</li>
<li>
<p>
<em>Stop Processing</em> button cancels image processing.
</p>
</li>
<li>
<p>
<em>Pick Dst</em> button: check on the button to choose destination image
manually; check out the button to get new destination image after
processing. <em>Prev</em> button starts previous player function.
</p>
</li>
<li>
<p>
<em>Play</em> button starts player at the active image.
</p>
</li>
<li>
<p>
<em>Pause</em> button pauses player at the active image.
</p>
</li>
<li>
<p>
'Stop button stops player at the active image.
</p>
</li>
<li>
<p>
<em>Next</em> button starts next player function.
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Context Menu Commands</div><ul>
<li>
<p>
<em>Process by&#8230;</em> command displays dialog that starts image processing
by Intel&#174; IPP function.
</p>
</li>
<li>
<p>
<em>Stop Processing</em> command cancels image processing.
</p>
</li>
<li>
<p>
<em>&lt;Intel&#174; IPP function name&gt;</em> command processes the image by one of four last
called functions. Note that some names may be grayed if these functions
cannot process the image.
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">ROI Submenu</div><ul>
<li>
<p>
<em>ROI\Draw</em> command starts ROI drawing.
</p>
</li>
<li>
<p>
<em>ROI\Set</em> command displays dialog to set ROI parameters. You can use
this command to view offset and size of the current ROI.
</p>
</li>
<li>
<p>
<em>ROI\Copy</em> command copies ROI to another image.
</p>
</li>
<li>
<p>
<em>ROI\Delete</em> command removes ROI from the image.
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Quadrangle Submenu</div><ul>
<li>
<p>
<em>Quadrangle\Draw</em> command starts <em>Quadrangle</em> drawing.
</p>
</li>
<li>
<p>
<em>Quadrangle\Set</em> command displays dialog to set <em>Quadrangle</em>
parameters. You can use this command to view offset and size of the
current <em>Quadrangle</em>.
</p>
</li>
<li>
<p>
<em>Quadrangle\Copy</em> command copies <em>Quadrangle</em> to another image.
</p>
</li>
<li>
<p>
<em>Quadrangle\Delete</em> command removes <em>Quadrangle</em> from the image.
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">parallelogram Submenu</div><ul>
<li>
<p>
<em>parallelogram\Draw</em> command starts <em>parallelogram</em> drawing.
</p>
</li>
<li>
<p>
<em>parallelogram\Set</em> command displays dialog to set <em>parallelogram</em>
parameters. You can use this command to view offset and size of the
current <em>parallelogram</em>.
</p>
</li>
<li>
<p>
<em>parallelogram\Copy</em> command copies <em>parallelogram</em> to another image.
</p>
</li>
<li>
<p>
<em>parallelogram\Delete</em> command removes parallelogram from the
image.
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Center &amp; Shift Submenu</div><ul>
<li>
<p>
<em>Center &amp; Shift\Draw</em> command starts <em>Center &amp; Shift</em> drawing.
</p>
</li>
<li>
<p>
<em>Center &amp; Shift\Set</em> command displays dialog to set <em>Center &amp; Shift</em>
parameters. You can use this command to view offset and size of the
current <em>Center &amp; Shift</em>.
</p>
</li>
<li>
<p>
<em>Center &amp; Shift\Copy</em> command copies <em>Center &amp; Shift</em> to another image.
</p>
</li>
<li>
<p>
<em>Center &amp; Shift\Delete</em> command removes <em>Center &amp; Shift</em> from the
image.
</p>
</li>
<li>
<p>
<em>Cancel Draw</em> command cancels drawing of <em>Quadrangle</em> or
<em>parallelogram</em>.
</p>
</li>
<li>
<p>
<em>Delete Markers</em> command removes markers from the image. Markers may
be set to an image by some statistical Intel&#174; IPP functions.
</p>
</li>
<li>
<p>
<em>Properties&#8230;</em> command displays active image properties.
</p>
</li>
<li>
<p>
<em>History&#8230;</em> command displays active image history as the chain of
Intel&#174; IPP function calls.
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">File Commands</div><ul>
<li>
<p>
<em>File\New&#8230;</em> menu command displays dialog with image parameters. Set
parameters that you want, click on <em>OK</em> button and new image will be
created.
</p>
</li>
<li>
<p>
<em>File\Open&#8230;</em> menu command displays standard <em>Open</em> dialog for .bmp
files.
</p>
</li>
<li>
<p>
<em>File\Save</em> menu command saves the active image as .bmp file.
</p>
</li>
<li>
<p>
<em>File\Save As&#8230;</em> menu command displays standard <em>Save as</em> dialog to
save the active image as .bmp files.
</p>
</li>
<li>
<p>
<em>File\Properties&#8230;</em> menu command displays active image properties.
</p>
</li>
<li>
<p>
<em>File\History&#8230;</em> menu command displays active image history as the
chain of Intel&#174; IPP function calls.
</p>
</li>
<li>
<p>
<em>File\Exit</em> menu command exits ippIP Demo.
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">View Commands</div><ul>
<li>
<p>
<em>View\Show contours</em> menu command shows and hides contours set to
images by user such as ROI or quadrangle. When contours are hidden they
continue affect on Intel&#174; IPP functions behavior.
</p>
</li>
<li>
<p>
<em>View\Toolbar</em> menu command shows and hides toolbar.
</p>
</li>
<li>
<p>
<em>View\Status Bar</em> menu command shows and hides status bar.
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Image Data Commands</div><ul>
<li>
<p>
<em>ImageData\Signed</em> menu command allows user to consider active image
data as signed  or unsigned. This operation changes image properties
but not image data or image document view.
</p>
</li>
<li>
<p>
<em>ImageData\Plane</em> menu command allows user to transform active image
data to (from) plane format. This operation changes image properties
and image data order but not image document view.
</p>
</li>
<li>
<p>
<em>ImageData\Complex</em> menu command allows user to consider active
2-channels image data as 1-channel complex data. This operation changes
image properties but not image data or image document view.
</p>
</li>
<li>
<p>
<em>ImageData\BlueChannel</em> menu command allows user to select an active
plane of the active image if the image data has plane format. The view
of the image will present the first plane; you can apply C1 functions
to the first plane only, not to the whole image.
</p>
</li>
<li>
<p>
<em>ImageData\GreenChannel</em> menu command allows user to select an active
plane of the active image if the image data has plane format. The view
of the image will present the second plane; you can apply C1 functions
to the second plane only, not to the whole image.
</p>
</li>
<li>
<p>
<em>ImageData\RedChannel</em> menu command allows user to select an active
plane of the active image if the image data has plane format. The view
of the image will present the third plane; you can apply C1 functions
to the third plane only, not to the whole image.
</p>
</li>
<li>
<p>
<em>ImageData\AlphaChannel</em> menu command allows user to select an active
plane of the active image if the image data has plane format. The view
of the image will present the forth plane; you can apply C1 functions
to the forth plane only, not to the whole image.
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Contour Commands</div><ul>
<li>
<p>
<em>Contour\ROI\Draw</em> menu command starts ROI drawing in the active
image.
</p>
</li>
<li>
<p>
<em>Contour\ROI\Set</em> menu command displays dialog to set ROI parameters
of the active image. You can use this command to view offset and size
of current ROI.
</p>
</li>
<li>
<p>
<em>Contour\ROI\Copy</em> menu command copies active image ROI to another
image.
</p>
</li>
<li>
<p>
<em>Contour\ROI\Delete</em> menu command removes ROI from the active image.
</p>
</li>
<li>
<p>
<em>Contour\Quadrangle Draw</em> menu command starts <em>quadrangle</em> drawing in
the active image.
</p>
</li>
<li>
<p>
<em>Contour\Quadrangle\Set</em> menu command displays dialog to set
quadrangle parameters of the active image. You can use this command to
view points of current quadrangle .
</p>
</li>
<li>
<p>
<em>Contour\Quadrangle\Copy</em> menu command copies active image <em>quadrangle</em>
to another image.
</p>
</li>
<li>
<p>
<em>Contour\Quadrangle\Delete</em> menu command removes <em>quadrangle</em> from the
active image.
</p>
</li>
<li>
<p>
<em>Contour\parallelogram\Draw</em> menu command starts parallelogram
drawing in the active image.
</p>
</li>
<li>
<p>
<em>Contour\parallelogram\Set</em> menu command displays dialog to set
parallelogram parameters of the active image. You can use this command
to view points of current parallelogram .
</p>
</li>
<li>
<p>
<em>Contour\parallelogram\Copy</em> menu command copies active image
parallelogram to another image.
</p>
</li>
<li>
<p>
<em>Contour\parallelogram\Delete</em> menu command removes parallelogram
from the active image.
</p>
</li>
<li>
<p>
<em>Contour\Center &amp; Shift\Draw</em> menu command starts <em>Center &amp; Shift</em>
drawing in the active image.
</p>
</li>
<li>
<p>
<em>Contour\Center &amp; Shift\Set</em> menu command displays dialog to set
<em>Center &amp; Shift</em> parameters of the active image. You can use this command
to view current center point and shift vector .
</p>
</li>
<li>
<p>
<em>Contour\Center &amp; Shift\Copy</em> menu command copies active image <em>Center
&amp; Shift</em> to another image.
</p>
</li>
<li>
<p>
<em>Contour\Center &amp; Shift\Delete</em> menu command removes <em>Center &amp; Shift</em>
from the active image.
</p>
</li>
<li>
<p>
<em>Contour\Delete Markers</em> menu command remove markers from the active
image. Markers may be set to an image by some statistical Intel&#174; IPP
functions.
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Process Commands</div><ul>
<li>
<p>
<em>Process\Process by&#8230;</em> menu command displays dialog that starts
active image processing by Intel&#174; IPP function.
</p>
</li>
<li>
<p>
<em>Process\Stop Processing</em> menu command cancels image processing.
</p>
</li>
<li>
<p>
<em>Process&lt;IPP function name&gt;</em> menu command or  "&lt;IPP function name&gt;"
context menu command apply one of the four last called functions to the
active image. Note that some names may be grayed if these functions
cannot process the active image.
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Player Commands</div><ul>
<li>
<p>
<em>Player\Performance Show</em> menu command sets <em>Performance Show</em> player mode.
</p>
</li>
<li>
<p>
<em>Player\Rhythmical Show</em> menu command sets <em>Rhythmical Show</em> player mode.
</p>
</li>
<li>
<p>
<em>Player\Pulsing Mask</em> menu command sets <em>Pulsing Mask</em> player mode.
</p>
</li>
<li>
<p>
<em>Player\Wandering Mask</em> menu command sets <em>Wandering Mask</em> player mode.
</p>
</li>
<li>
<p>
<em>Player\Play</em> menu command starts player at the active image.
</p>
</li>
<li>
<p>
<em>Player\Stop</em> menu command stops player at the active image.
</p>
</li>
<li>
<p>
<em>Player\Pause</em> menu command pauses player at the active image.
</p>
</li>
<li>
<p>
<em>Player\Play Next</em> menu command starts next player function.
</p>
</li>
<li>
<p>
<em>Player\Play Prev</em> menu command starts previous player function.
</p>
</li>
<li>
<p>
<em>Player\Customize</em> menu command displays player options dialog.
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Options Commands</div><ul>
<li>
<p>
<em>Options\Library&#8230;</em>" menu command displays "<em>IPP Library Options</em>"
dialog. Here you can adjust Intel&#174; IPP libraries optimization and Intel&#174; IPP
libraries threading.
</p>
</li>
<li>
<p>
<em>Options\Performance&#8230;</em> menu command displays "<em>Performance Options</em>"
dialog. Here you can order the form of function performance view.
</p>
</li>
<li>
<p>
<em>Options\Border&#8230;</em> menu command displays "<em>Border Options</em>" dialog.
Here you can choose what to do if Intel&#174; IPP function requires border around
ROI.
</p>
</li>
<li>
<p>
<em>Options\Destination</em> menu command displays "<em>Destination Image
Options</em>" dialog. Here you can select if the destination image will be
created automatically, or user will have to pick it over. If the
destination image will be created anew, you can select if its size will
be equal to the whole size of the source image or to the ROI size.
</p>
</li>
</ul></div>
<hr />
</div>
<div class="sect3">
<h4 id="_templates_in_image_processing">Templates in Image Processing</h4>
<div class="paragraph"><p>The <em>templates</em> sample demonstrates how to use C++ template based
interface to functions provided by Intel&#174; IPP Image Processing domain.</p></div>
<div class="paragraph"><div class="title">Running the Software</div><p>The <em>templates</em> executable has no command line arguments. It is invoked
simply and prints:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>  &lt;ippIP AVX (e9) 7.1.0 (r35742) Jul  1 2012&gt;
   -----------------------------------------

All 2529 main demo-calls for template wrappers finished successfully.</code></pre>
</div></div>
<div class="paragraph"><p>Library code (e9 in the example above) depends on CPU architecture and platform (IA32 or
Intel&#174; 64) used during sample build.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_jpeg_image_codecs_ijg">JPEG Image Codecs (IJG)</h2>
<div class="sectionbody">
<div class="paragraph"><p>This  document provides supporting information on how to use the code sample that
implements  a modification of the Independent JPEG Group (IJG) JPEG library by means of
using embedded Intel&#174; IPP.</p></div>
<div class="paragraph"><p>The Intel&#174; IPP software is a new generation of the Intel&#174; Performance Libraries,
comprising a  broad range of functions for basic software functionality and including,
among many others, the JPEG coding functions subset.</p></div>
<div class="paragraph"><p>Intel&#174; IPP was developed as a low-level basic software layer that hides the differences
of diverse hardware platforms, presents uniform API, and provides for developing high
<a href="#IPP_SAMPLES_OptNotice">performance</a> applications on different platforms. Intel&#174; IPP can be used on different
hardware platforms including IA-32 and Intel&#174; 64 architecture, and in several
operating systems, specifically 32/64-bit Windows*, Linux* and OS X*. This
diversity explains why Intel&#174; IPP can help to develop portable software.
Significant  <a href="#IPP_SAMPLES_OptNotice">performance</a> gains (without optimization efforts) can be achieved by means of
using calls to the Intel&#174; IPP low-level software in customer application programs.</p></div>
<div class="paragraph"><div class="title">Using Intel&#174; IPP to Modify the IJG Library</div><p>The Independent JPEG Group (IJG) library (see <a href="http://www.ijg.org">http://www.ijg.org</a>) is well known  among
multiple JPEG libraries and codecs that  have been created since the first JPEG standard
was published.</p></div>
<div class="paragraph"><p>New technologies implemented in the last generation Intel&#174; processors with
Streaming SIMD instructions provide a good opportunity for the application programmers to
increase <a href="#IPP_SAMPLES_OptNotice">performance</a> of the JPEG codecs.</p></div>
<div class="paragraph"><p>To take  full advantage of the new Intel&#174; architecture and thus achieve a <a href="#IPP_SAMPLES_OptNotice">performance</a>
gain, it is more effective to use embedded Intel&#174; IPP functions rather than to write
programs straight in assembler for the new instruction set.</p></div>
<div class="paragraph"><p>In the code  sample that implements the modified version of the IJG library, several parts
of this library  were substituted by the Intel&#174; IPP JPEG primitives without loss of
functionality.</p></div>
<div class="paragraph"><div class="title">Structure of the Image-codecs Sample</div><p>The sample consists of <em>core</em> and <em>application</em> directories, which contain IJG 8.0 library
(modified with Intel&#174; IPP functions) and sample applications based on IJG source code tools.</p></div>
<div class="paragraph"><p>The following JPEG encoder/decoder parts were modified using Intel&#174; IPP
functions substituting the original IJG code.</p></div>
<div class="ulist"><ul>
<li>
<p>
Color conversion routines
</p>
</li>
<li>
<p>
Subsampling routines
</p>
</li>
<li>
<p>
DC level shift, DCT and Quantization routines
</p>
</li>
<li>
<p>
Entropy coding
</p>
</li>
</ul></div>
<div class="paragraph"><p>Intel&#174; IPP IJG samples consists of the following applications from IJG 8.0 package
(most of them are based on original IJG code with small additions to initialize Intel&#174; IPP
library and get timing information):</p></div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="80%" />
<thead>
<tr>
<th align="left" valign="top">Application    </th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">cjpeg</p></td>
<td align="left" valign="top"><p class="table">Command-line JPEG encoder</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">djpeg</p></td>
<td align="left" valign="top"><p class="table">Command-line JPEG decoder</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">ijgtiming</p></td>
<td align="left" valign="top"><p class="table">Simple benchmark utility (not from IJG package)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">jpegtran</p></td>
<td align="left" valign="top"><p class="table">Command-line JPEG transcoder</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">rdjpgcom</p></td>
<td align="left" valign="top"><p class="table">Simple command-line tool to read JPEG comments and markers</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">wrjpgcom</p></td>
<td align="left" valign="top"><p class="table">Simple command-line tools to write user-supplied text as COM
marker in a JFIF file</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><div class="title">Intel&#174; IPP Embedding</div><p>This section  gives a description of the altered files used to embed Intel&#174; IPP
functions into the modified IJG library.</p></div>
<div class="paragraph"><p>In IPP IJG sample calls to Intel&#174; IPP functions are enabled by default.  You have an option to
disable calls to Intel&#174; IPP functions at compile time.  To do that, change following lines in the
file <em>jconfig.h</em>:</p></div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr>
<th align="left" valign="top"> lines         </th>
<th align="left" valign="top"> from                          </th>
<th align="left" valign="top"> to</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">44</p></td>
<td align="left" valign="top"><p class="table"><code>//#undef USE_IPP</code></p></td>
<td align="left" valign="top"><p class="table"><code>#undef USE_IPP</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">45</p></td>
<td align="left" valign="top"><p class="table"><code>#define USE_IPP</code></p></td>
<td align="left" valign="top"><p class="table"><code>//#define USE_IPP</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>You also can selectively exclude groups of  Intel&#174; IPP functions, like sub-sampling,
color-conversion or Huffman by undefining appropriate macros in <em>jconfig.h</em> file.</p></div>
<div class="paragraph"><p>The next table provides a summary list of modified files that are part of the code sample,
together with names and descriptions of modified functions contained in respective files.</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 22. Modified Files and Functions with Embedded Intel&#174; IPP</caption>
<col width="11%" />
<col width="22%" />
<col width="66%" />
<thead>
<tr>
<th align="left" valign="top">File Name </th>
<th align="left" valign="top"> Names of Modified Functions </th>
<th align="left" valign="top"> Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><em>jccolor.c</em></p></td>
<td align="left" valign="top"><p class="table"><code>rgb_ycc_convert_intellib, rgb_gray_convert_intellib,
cmyk_ycck_convert_intellib, jinit_color_converter</code></p></td>
<td align="left" valign="top"><p class="table">The file contains modified color
conversion functions of the JPEG encoder</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>jdcolor.c</em></p></td>
<td align="left" valign="top"><p class="table"><code>ycc_rgb_convert_intellib, ycck_cmyk_convert_intellib,
jinit_color_deconverter</code></p></td>
<td align="left" valign="top"><p class="table">The file contains modified color conversion functions of the
JPEG decoder</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>jcdctmgr.c</em></p></td>
<td align="left" valign="top"><p class="table"><code>forward_DCT_intellib, jinit_forward_dct, start_pass_fdctmgr</code></p></td>
<td align="left" valign="top"><p class="table">The file
contains the modified forward DCT function.<br />
In order to create quantization tables applicable in Intel&#174; IPP functions, an array with
raw quantization coefficients has been added to the source code of the
<em>start_pass_fdctmgr</em> function. This array contains 64 coefficient values of the <code>Ipp8u</code>
type<br />
The code segment to transform raw quantization tables of the IJG format to tables of the
Intel&#174; IPP format, as well as the code for fast generation of the quantization tables
from the raw tables have also been added.<br />
A temporary buffer used in the forward DCT procedure ensures that the same computational
path is chosen even if the step between adjacent rows is varied in the IJG library.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>jddctmgr.c</em></p></td>
<td align="left" valign="top"><p class="table"><code>start_pass</code></p></td>
<td align="left" valign="top"><p class="table">The modified start_pass function allows to use modified
Intel&#174; IPP version of the inverse DCT function.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>jidctint.c</em></p></td>
<td align="left" valign="top"><p class="table"><code>jpeg_idct_islow_intellib</code></p></td>
<td align="left" valign="top"><p class="table">The file contains the modified version of
the original inverse DCT function <em>jpeg_idct_islow</em>. A temporary buffer used in the
inverse DCT procedure ensures that the same computational path is chosen even  if the step
between adjacent rows is varied in the IJG library.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>jcsample.c</em></p></td>
<td align="left" valign="top"><p class="table"><code>h2v1_downsample_intellib, h2v2_downsample_intellib, jinit_downsampler</code></p></td>
<td align="left" valign="top"><p class="table">Optimized version of the original functions <em>h2v1_downsample</em> and <em>h2v2_downsample</em>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>jdsample.c</em></p></td>
<td align="left" valign="top"><p class="table"><code>h2v1_fancy_upsample_intellib, h2v2_fancy_upsample_intellib,
jinit_upsampler</code></p></td>
<td align="left" valign="top"><p class="table">Optimized version of the original functions <em>h2v1_fancy_upsample</em> and
<em>h2v2_fancy_upsample</em>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>jchuff.h</em></p></td>
<td align="left" valign="top"><p class="table"></p></td>
<td align="left" valign="top"><p class="table">Contains the definition of <code>c_derived_tbl</code> with changed data type. The
change in data type is required for the modification of Huffman encoder functions.</p></td>
</tr>
<tr>
<td rowspan="13" align="left" valign="top"><p class="table"><em>jchuff.c</em></p></td>
<td align="left" valign="top"><p class="table"></p></td>
<td align="left" valign="top"><p class="table">Contains the definition of savable_state with changed data type and
also the changed macro <code>ASSIGN_STATE</code>. The change in data type is required for the
modification of Huffman encoder functions.<br />
Modified functions contained in <em>jchuff.c</em> that use calls to Intel&#174; IPP are introduced
below:</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>start_pass_huff</code></p></td>
<td align="left" valign="top"><p class="table">initializes the Huffman encoder.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>jpeg_make_c_derived_tbl_intellib</code></p></td>
<td align="left" valign="top"><p class="table">computes the Huffman tables</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>dump_buffer_intellib</code></p></td>
<td align="left" valign="top"><p class="table">dumps the inner JPEG buffer into the file or output buffer
according to the <em>jpeg_destination_mgr</em> module implementation</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>flush_bits_intellib</code></p></td>
<td align="left" valign="top"><p class="table">flushes the inner bit buffer</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>encode_one_block_intellib</code></p></td>
<td align="left" valign="top"><p class="table">performs Huffman encoding of an 8x8 block of quantized
DCT coefficients</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>emit_restart_intellib</code></p></td>
<td align="left" valign="top"><p class="table">flushes the Huffman codec when the restart interval is
encoded</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>encode_mcu_huff_intellib</code></p></td>
<td align="left" valign="top"><p class="table">processes one MCU and calls the above described functions</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>finish_pass_huff</code></p></td>
<td align="left" valign="top"><p class="table">flushes the Huffman codec in the end of each scan</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>htest_one_block_intellib</code></p></td>
<td align="left" valign="top"><p class="table">collects the Huffman symbols statistics that will be used later for generating the optimal Huffman tables</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>encode_mcu_gather_intellib</code></p></td>
<td align="left" valign="top"><p class="table">processes one MCU</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>jpeg_gen_optimal_table_intellib</code></p></td>
<td align="left" valign="top"><p class="table">generates optimal Huffman tables using the previously collected Huffman symbols statistics</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>finish_pass_gather</code></p></td>
<td align="left" valign="top"><p class="table">flushes the Huffman codec in the end of the pass</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>jdhuff.h</em></p></td>
<td align="left" valign="top"><p class="table"></p></td>
<td align="left" valign="top"><p class="table">Contains the definition of  <code>d_derived_tbl</code> with changed data type. The
change in data type is required for the modification of Huffman decoder functions.</p></td>
</tr>
<tr>
<td rowspan="6" align="left" valign="top"><p class="table"><em>jdhuff.c</em></p></td>
<td align="left" valign="top"><p class="table"></p></td>
<td align="left" valign="top"><p class="table">Contains the definition of savable_state with changed data type and
also the changed macro <code>ASSIGN_STATE</code>. The change in data type is required for the
modification of Huffman decoder functions. Modified functions contained in <em>jdhuff.c</em> that
use calls to Intel&#174; IPP are introduced below:</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>start_pass_huff_decoder</code></p></td>
<td align="left" valign="top"><p class="table">initializes the Huffman decoder and creates tables</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>jpeg_make_d_derived_tbl_intellib</code></p></td>
<td align="left" valign="top"><p class="table">computes the Huffman tables</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>process_restart</code></p></td>
<td align="left" valign="top"><p class="table">flushes the Huffman codec when the restart interval is decoded</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>decode_mcu_intellib</code></p></td>
<td align="left" valign="top"><p class="table">decodes data for one MCU</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>jinit_huff_decoder</code></p></td>
<td align="left" valign="top"><p class="table">initializes the Huffman decoder</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>jdatasrc.c</em></p></td>
<td align="left" valign="top"><p class="table"><code>fill_input_buffer_intellib, jpeg_stdio_src</code></p></td>
<td align="left" valign="top"><p class="table">Contains  functions for
preliminary sampling of decoder data in compliance with Intel&#174; IPP functions
requirements.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>jdatadst.c</em></p></td>
<td align="left" valign="top"><p class="table"><code>empty_output_buffer_intellib, jpeg_stdio_dest</code></p></td>
<td align="left" valign="top"><p class="table">Contains functions
that output encoded data into the file in compliance with Intel&#174; IPP functions
requirements.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><div class="title">Accuracy of the JPEG Codec</div><p>The test application <em>ijg_timing.exe</em> performs an accuracy test of the  entire JPEG codec.
Run the "<code>ijg_timing -t&lt;BMP_NAME&gt;</code>" command to estimate the accuracy of the codec. The
test encodes a source BMP file and then  decodes the encoded data. The result and the
original data are compared. The maximum  difference (norm C), relative square error (norm
RL2) and some other norm values that can  be computed for the version that uses Intel&#174;
IPP primitives are presented in the example below.</p></div>
<div class="listingblock">
<div class="title">Accuracy Results of the JPEG Codec</div>
<div class="content">
<pre><code>encode 1200 X 900 X 3 - 444 - 75 - cpe 58.149426
decode 1200 X 900 X 3 - 444 - 75 - cpe 37.748550
channels 0 C[42] L1[ 4556560] RL1[0.030162] L2[38840804] RL2[0.037272]
channels 1 C[41] L1[ 4330160] RL1[0.032779] L2[36096746] RL2[0.042111]
channels 2 C[40] L1[ 4506284] RL1[0.035642] L2[38336422] RL2[0.045714]</code></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_language_interface">Language Interface</h2>
<div class="sectionbody">
<div class="sect3">
<h4 id="_c_net_for_windows">C# .NET for Windows*</h4>
<div class="paragraph"><p>This sample demonstrates how to use the Intel&#174; IPP libraries in the development of
applications in the Microsoft* C# environment. The Using Intel&#174; IPP
in Microsoft* C# .NET for Windows* OS Sample is divided into the parts:</p></div>
<div class="ulist"><ul>
<li>
<p>
String Manipulation
</p>
</li>
<li>
<p>
Image and Signal Processing
</p>
</li>
<li>
<p>
Wavelet Transform
</p>
</li>
</ul></div>
<hr />
<div class="paragraph"><div class="title">String Manipulation</div><p>This sample shows the use of the Intel&#174; IPP string manipulation
primitives in developing the class <em>IPPSystem.String</em>. This class and its
methods are analogous to the class <em>System.String</em> and its methods. The
sample uses the wrapper class for string manipulation domain
(<em>ippch.cs</em>). The C# implementation of the developed class is based on
the .NET Frameworks Class Library (FCL).</p></div>
<div class="paragraph"><p>The demo-application tests the developed class and its methods, and
measures their performance.</p></div>
<div class="paragraph"><div class="title">Intel&#174; IPP Interfaces</div><p>Intel&#174; IPP libraries are <em>C</em>- style unmanaged code DLLs. To enable  using these DLLs in C#,
special wrapper classes <code>ipps.cs</code> and <code>ippch.cs</code> are created for signal processing
(<em>ipps</em>) and
string manipulation (<em>ippch</em>) application domains. These classes are declared as follows:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>// ipps.cs
namespace ipp {
    public class sp {
    ...
    };
};
// ippch.cs
namespace ipp {
    public class ch {
    ...
    };
};</code></pre>
</div></div>
<div class="paragraph"><p>Enumerated data types that are used in the Intel&#174; IPP libraries must be declared in the wrapper classes
with a keyword <code>enum</code>. For example, the enumerator <code>IppRoundMode</code> is declared as follows:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>public enum IppRoundMode {
    ippRndZero = 0,
    ippRndNear = 1,
};</code></pre>
</div></div>
<div class="paragraph"><p>Many Intel&#174; IPP functions use structures as parameters. To pass structures from the
managed environment to the unmanaged one, the managed class <code>struct</code> must comply with
the corresponding library in the unmanaged code. The attribute <code>StructLayout</code> is used
with the value <code>LayoutKind.Sequential</code>. The code bellow shows how to use the structure <code>Ipp64fc</code>:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>[StructLayout(LayoutKind.Sequential,CharSet=CharSet.Ansi)]
public struct Ipp64fc {
    public double re;
    public double im;
    public Ipp64fc( double re, double im ) {
        this.re = re;
        this.im = im;
    };
};</code></pre>
</div></div>
<div class="paragraph"><p>To access the unmanaged DLL functions from the managed code, the function name and the name
of the corresponding DLL must be indicated. This information is included in the managed
description of the unmanaged functions that are called from the DLL.
The attribute <code>DllImport</code> and function specifiers <code>static</code>, <code>extern</code> specify the method that
is used by .NET to create a function and to marshal data. The
attribute <code>MarshalAs</code> is used with the corresponding fields.
For example, the function <code>ippchGetLibVersion</code> is called as follows:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>using System.Runtime.InteropServices;
namespace ipp {
    [StructLayout(LayoutKind.Sequential,CharSet=CharSet.Ansi)]
    unsafe public class IppLibraryVersion {
        public int major;
        public int minor;
        public int majorBuild;
        public int build;
        [MarshalAs(UnmanagedType.ByValTStr, SizeConst=4)]
        public string targetCpu;
        public sbyte* Name;
        public sbyte* Version;
        public sbyte* BuildDate;
    };
    public class ch {
        [DllImport("ippch-7.0.dll")] public static extern
        IppLibraryVersion ippchGetLibVersion();
    };
};</code></pre>
</div></div>
<div class="paragraph"><p>Almost all Intel&#174; IPP functions have pointers as parameters. The functions with
pointers must be declared in the unsafe context. For example, the function <code>ippsCopy_8u</code> is declared as:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>using System;
using System.Runtime.InteropServices;
namespace ipp {
    public enum IppStatus {
    ...
    ippStsNoErr = 0,
    ...
    };
    unsafe public class sp {
        [DllImport("ipps-7.0.dll")] public static extern
        IppStatus ippsCopy_8u ( byte* pSrc, byte* pDst, int len );
    };
};</code></pre>
</div></div>
<div class="paragraph"><p>This code must be compiled with the /unsafe option.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">Working with pointers in the C# application requires using the operator <code>fixed</code>. The <code>fixed</code>
statement sets a pointer to a managed variable and "pins" that variable during the execution of the statement.
Without the <code>fixed</code> statement, pointers to managed variables would be of little use since garbage
collection could relocate the variables unpredictably.</td>
</tr></table>
</div>
<div class="paragraph"><div class="title"><code>String</code> Class</div><p>The class <code>IPPSystem.String</code> is created using the Intel&#174; IPP functions as follows:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>namespace IPPSystem {
    [Serializable]
    public sealed class String: IComparable, ICloneable, IConvertible, IEnumerable,
            ISerializable {
        ...
    }
}</code></pre>
</div></div>
<div class="paragraph"><p>This class contains all the methods of the class <code>System.String</code> with the exception of
methods <code>Intern()</code>, <code>IsIntern()</code>.</p></div>
<div class="paragraph"><p>The distinctive feature of the developed class <code>IPPSystem.String</code> is the
possibility to use both classes <code>System.String</code> and <code>IPPSystem.String</code> in the application.
The <code>IPPSystem.String</code> methods with string parameters are duplicated to be used both
as <code>System.String</code> and <code>IPPSystem.String</code> class methods without conversion from one to another:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>///&lt;summary&gt;
///Creates a new instance of String with the same value as a specified /// instance of String.
///&lt;/summary&gt;
public static string Copy(string str) {
...
}
public static String Copy(String str) {
...
}</code></pre>
</div></div>
<div class="paragraph"><p>To convert these classes, the following operators are used:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>public static implicit operator System.String(String value) {...}
public static implicit operator String(System.String value) {...}</code></pre>
</div></div>
<div class="paragraph"><p>When methods are called in the application, the corresponding class must be
specified for the compiler.
The type <code>string</code> (in lowercase) denotes the <code>System.String</code> class.
If you specify the class as <code>String</code> (with uppercase S), this will lead to the
compiler error message:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>'reference' ('String') is an ambiguous 'reference'</code></pre>
</div></div>
<div class="paragraph"><p>Therefore, the namespace and class must be either specified explicitly,
or the corresponding names of the classes need be defined. The code below shows
the possibility of using simultaneously both <code>System.String</code> and <code>IPPSystem.String</code> classes.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>using System;
using stringy = IPPSystem.String;
class Example {
    static void Main( string[] args ) {
        stringy ippstr = "0123456789"; // equivalent to IPPSystem.String
                                       // ippstr = "0123456789";
        string str = string.Copy( ippstr ); //equivalent to System.String
                                       // str = System.String.Copy(ippstr);
        Console.WriteLine( "{0} {1}", ippstr, str );
    }
}</code></pre>
</div></div>
<div class="paragraph"><p>One more additional feature of the developed class is the implementation of the methods
of the <code>System.String</code> objects. These methods have additional (first) parameter self of +string" type:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>///&lt;summary&gt;
///Copies a specified number of characters from a specified position in
// the current String instance to a specified position in a specified
// array of Unicode characters.
///&lt;/summary&gt;
public void CopyTo(int sourceIndex, char[] destination,
                   int destinationIndex, int count);
public void CopyTo(string self, int sourceIndex, char[] destination,
                                int destinationIndex, int count);</code></pre>
</div></div>
<hr />
<div class="paragraph"><div class="title">Image and Signal Processing</div><p>This sample demonstrates how to use the Intel&#174; IPP image processing
functions that perform filtrating as well as morphological and
geometric operations. It uses the wrapper class for the image
processing domain (ippi.cs). The demo-application launches the P/Invoke
mechanism for the unmanaged code in the Intel&#174; IPP library, and
loads the dispatcher of the processor specific libraries. This
dispatcher loads the most efficient library for the given processor,
the name of the loaded library is displayed in the title bar of the
application window.</p></div>
<div class="paragraph"><p>Intel&#174; IPP functions can be launched using direct call - static
code is generated when the application is compiled. This method is
rather simple and obvious. When calling functions with the same set of
parameters, the dynamic method of function search and execution can be
used. This method is called reflection and can reduce noticeably the
size of the executable code. In the demo-application the reflection
method is used to launch filtrating and morphological functions from
the menu.</p></div>
<div class="paragraph"><p>When the application is launched the following commands are available
through the menus:</p></div>
<div class="ulist"><div class="title">File Menu</div><ul>
<li>
<p>
<em>Open</em> opens an image file.
</p>
</li>
<li>
<p>
<em>Exit</em> closes the program.
</p>
</li>
</ul></div>
<div class="paragraph"><div class="title">Process Menu</div><p>Filter - performs filter operations on an image:</p></div>
<div class="ulist"><ul>
<li>
<p>
<em>Blur</em> blurs an image using a simple box filter calling the function <code>ippiFilterBox</code>
</p>
</li>
<li>
<p>
<em>FilterMin</em> decreases the contrast of an image using the function <code>ippiFilterMin</code>
</p>
</li>
<li>
<p>
<em>FilterMax</em> increases the contrast of an image using the function <code>ippiFilterMax</code>
</p>
</li>
<li>
<p>
<em>FilterMedian</em> removes spurious intensity peaks using the function <code>ippiFilterMedian</code>
</p>
</li>
<li>
<p>
<em>Fixed</em> Filter performs linear filtering of an image using one of the predefined convolution kernel.
</p>
</li>
</ul></div>
<div class="paragraph"><p><em>Morphological</em> performs morphological erosion and dilation operation on an image.</p></div>
<div class="paragraph"><p><em>Geometric</em> performs geometric operations on an image:</p></div>
<div class="ulist"><ul>
<li>
<p>
<em>Mirror</em> mirrors about a horizontal and vertical axis using the function <code>ippiMirror</code>
</p>
</li>
<li>
<p>
<em>Rotate</em> rotates the ROI of an image using the function <code>ippiRotateCenter</code>
</p>
</li>
</ul></div>
<div class="paragraph"><p><em>Warp</em> warps an image with an affine transform using the function <code>ippiWarpAffine</code></p></div>
<div class="paragraph"><p><em>Reset</em> resets an image to the initial state.</p></div>
<div class="paragraph"><div class="title">C# Image Processing Interface</div><p>The Intel&#174; Integrated Performance Primitives (Intel&#174; IPP) provide an interface to
develop applications in the C language. Due to the use of the calling conventions <code>stdcall</code>
for Microsoft* Windows*, the primitives can be used in applications written in many other languages,
for example, Fortran, C#, Java*, and so on. The Intel&#174; IPP sample described in more
detail later in this document demonstrates the possibility of using Intel&#174; IPP in
developing an application in the Microsoft .NET* Framework using the C# language.</p></div>
<div class="paragraph"><p>The sample contains several wrapper classes for signal and image processing as well as a
specially developed code of the demonstration application that shows the use of the
Intel&#174; IPP image processing primitives for filtering, morphological operations,
and geometric transforms. This demo application uses the wrapper class for the image processing.</p></div>
<div class="paragraph"><div class="title">Performance</div><p>Intel&#174; IPP code is optimized for the Intel&#174; processors, which may result in a
significant <a href="#IPP_SAMPLES_OptNotice">performance</a> improvement of various applications.</p></div>
<div class="paragraph"><p>Consider possible reasons of the <a href="#IPP_SAMPLES_OptNotice">performance</a> decrease in the .NET application:</p></div>
<div class="ulist"><ul>
<li>
<p>
Managed C# code calls unmanaged code through the Platform Invocation Service commonly
referred to as P/Invoke. Every P/Invoke call requires from 8 to 27 CPU clocks.
</p>
</li>
<li>
<p>
When a function is called from the DLL for the first time, the corresponding DLL
must be loaded into memory (e.g. in Windows, using <code>LoadLibrary()</code>), which takes
from 1000-2000 CPU clocks. More CPU clocks are needed to create the entry points for all functions that are exported by this DLL.
</p>
</li>
</ul></div>
<div class="paragraph"><p>These processes consume much CPU time and can decrease overall <a href="#IPP_SAMPLES_OptNotice">performance</a>. To measure the
actual function performance, use the function <code>ippGetCpuClocks()</code> from the library <em>ippcore-7.x.dll</em>.
The following code example compares the performance of the mirror reflection
method <code>Image.RotateFlip</code> from the namespace <code>System.Drawing</code> and the Intel&#174; IPP function <code>ippiMirror</code>:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>using System.Runtime.InteropServices;
using System.Drawing;
using System.Drawing.Imaging;

[DllImport("ippcore-7.1.dll")] public static extern ulong ippGetCpuClocks();

void MirrorNET(Bitmap bmpImage) {
    ulong start, stop;
    start = ippGetCpuClocks();
    bmpImage.RotateFlip(RotateFlipType.Rotate180FlipNone);
    stop = ippGetCpuClocks();
    sbpMenuHelp.Text =
        string.Format("{0,2:F} cpx",
            (double) (m_stop-m_start)/(3.0*roi.width*roi.height));
}
private BitmapData getBmpData( Bitmap bmp ) {
    return bmp.LockBits(new Rectangle(0,0,bmp.Width,bmp.Height),
    ImageLockMode.ReadWrite, PixelFormat.Format24bppRgb);
}
void MirrorIPP(Bitmap bmpSrc, Bitmap bmpDst) {
    ulong start, stop;
    BitmapData bmpsrcdata = getBmpData( bmpSrc );
    BitmapData bmpdstdata = getBmpData( bmpDst );
    IppiSize roi = new IppiSize(bmpSrc.Width, bmpSrc.Height);
    start = ippGetCpuClocks();
    ippiMirror_8u_C3R((byte*)bmpsrcdata.Scan0, bmpsrcdata.Stride,
        (byte*)bmpdstdata.Scan0, bmpdstdata.Stride,
        roi, IppiAxis.ippAxsBoth);
    stop = ippGetCpuClocks();
    bmpsrc.UnlockBits( bmpsrcdata );
    bmpdst.UnlockBits( bmpdstdata );
    sbpMenuHelp.Text =
        string.Format("{0,2:F} cpx",
            (double) (m_stop-m_start)/(3.0*roi.width*roi.height));
}</code></pre>
</div></div>
<div class="paragraph"><div class="title">COM Interoperability</div><p>Another way to call unmanaged code from the managed code in .NET is COM Interoperability,
commonly called as COM Interop. In this case there is a need to create a bridge between
a COM object and .NET managed environment for the managed code that calls the COM object.
This bridge is called a Runtime Callable Wrapper (RCW). Developing COM wrappers for
Intel&#174; IPP functions as well as using the COM Interop is a challenging task that requires
more CPU clocks in comparison with a standard P/Invoke mechanism. Such wrappers have not
been developed in this code sample.</p></div>
<div class="paragraph"><div class="title">Image Processing</div><p>The demo application shows how Intel&#174; IPP functions perform filtering, as well as
morphological and geometric operations. Image compression functions are used to read and
write JPEG-files. The application uses the wrapper classes for the image processing
(ippi.cs) and image compression (<em>ippj.cs</em>) domains. The application launches the
P/Invoke mechanism for unmanaged code in the ippi-7.0.dll and loads the dispatcher of the
processor-specific libraries. This dispatcher loads the most efficient library for the
given Intel processor, for example, the library <em>ippiu8-7.1.dll</em> is loaded on a system
with Intel&#174; Core&#8482; processor in Intel&#174; 64 mode, and the library <em>ippiw7-7.1.dll</em> is
loaded on a system with Intel&#174; Pentium&#174; 4 processor.
Figure below shows the result of the test image processing with a high-pass filter.
The title bar in the upper part of the window displays the name of the loaded library
(<em>ippIP AVX (e9)</em> in this example, because Sandy Bridge processor-based system was used).</p></div>
<div class="imageblock">
<div class="content">
<img src="images/csharp_sample.jpg" alt="images/csharp_sample.jpg" />
</div>
<div class="title">Figure 6. C# Image Processing sample</div>
</div>
<div class="paragraph"><div class="title">Image ROI Processing</div><p>Special attention should be paid when working with functions that require border pixels,
for example, filtering functions. Intel&#174; IPP functions operate only on pixels that are part of the
image. Therefore a region of interest (ROI) is implied to be inside the image in such a way,
that all neighborhood pixels necessary for processing the ROI edges actually exist.</p></div>
<div class="paragraph"><p>For filtering functions, for example, the width of the border outside ROI should not be
less than a half of the filter kernel size with the centered anchor cell.</p></div>
<div class="paragraph"><p>Thus when processing an image ROI, the developer has to perform two additional operations:
shifting the pointer to the data and specifying the ROI size that is less than the image size.</p></div>
<div class="paragraph"><p>The following code illustrates how to work with ROI (on the example of Intel&#174; IPP
function <code>ippiFilterBox</code> that performs image blurring):</p></div>
<div class="listingblock">
<div class="content">
<pre><code>namespace ExampleIP
{
    using System;
    using System.Windows.Forms;
    using System.Drawing;
    using System.Drawing.Imaging;
    using ipp;
    public class tip : System.Windows.Forms.Form {
        private System.Drawing.Bitmap bmpsrc, bmpdst;
        private BitmapData getBmpData( Bitmap bmp ) {
            return bmp.LockBits( new Rectangle(0,0,bmp.Width,bmp.Height),
                ImageLockMode.ReadWrite, PixelFormat.Format24bppRgb );
        };
        unsafe private void FilterBoxFunction() {
            ...
            BitmapData bmpsrcdata = getBmpData( bmpsrc );
            BitmapData bmpdstdata = getBmpData( bmpdst );
            IppiSize roi = new IppiSize( bmpsrc.Width*3/4, bmpsrc.Height*3/4 );
            const int ksize = 5, half = ksize/2;
            // the three-channels images
            byte* pSrc = (byte*)bmpsrcdata.Scan0+(bmpsrcdata.Stride+3)*half,
                  pDst = (byte*)bmpdstdata.Scan0+(bmpdstdata.Stride+3)*half;
            IppStatus st = ip.ippiFilterBox_8u_C3R(pSrc,bmpsrcdata.Stride,
                                                   pDst,bmpdstdata.Stride,
                                                   roi,
                                                   new IppiSize(ksize,ksize),
                                                   new IppiPoint(half,half)});
            ...
        };
    };
};</code></pre>
</div></div>
<div class="paragraph"><div class="title">Execution at Runtime</div><p>The above code example shows how an Intel&#174; IPP function is launched via a
direct call and static code is generated when the application is compiled.
This method is rather simple and obvious.</p></div>
<div class="paragraph"><p>When calling functions with the same set of parameters, you can use the
dynamic method of function search and execution. This method is called
<em>reflection</em> and can reduce noticeably the size of the executable code.</p></div>
<div class="paragraph"><p>In the demo application the <em>reflection</em> method is used to launch
filtering and morphological functions from the menu as follows:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>namespace ExampleIP
{
    using System;
    using System.Windows.Forms;
    using System.Drawing;
    using System.Drawing.Imaging;
    using System.Reflection;
    using System.Collections;
    using ipp;

    public class tip : System.Windows.Forms.Form {
        private Assembly assembly;
        private object ippi;
        private Type ippiType;
        private Hashtable hash;
        ...

        public tip(Bitmap bmp) {
            assembly = Assembly.LoadFrom("ippi_cs.dll");
            ippi = assembly.CreateInstance("ipp.ip");
            ippiType = ippi.GetType();
        ...
        };

        void CreateMenu() {
            hash = new Hashtable();
        ...
            MenuItem miBlur =
                new MenuItem("Blur", new EventHandler(MenuFilteringOnClick));
            hash.Add(miBlur, "ippiFilterBox_8u_C3R");
            MenuItem miMin =
                new MenuItem("Min Filter", new EventHandler(MenuFilteringOnClick));
            hash.Add(miMin, "ippiFilterMin_8u_C3R");
        ...
        };

        private void MenuFilteringOnClick(object sender,System.EventArgs e) {
            FilteringFunction((string)hash[sender]);
        };

        unsafe private void FilteringFunction(string func) {...
            MethodInfo method = ippiType.GetMethod(func);
            const int ksize = 5, half = ksize/2;
            byte* pSrc = (byte*)bmpsrcdata.Scan0+(bmpsrcdata.Stride+3)*half,
                  pDst = (byte*)bmpdstdata.Scan0+(bmpdstdata.Stride+3)*half;
            IppStatus st = (ipp.IppStatus)method.Invoke(null, new object[]
                    {(IntPtr)pSrc,bmpsrcdata.Stride,(IntPtr)pDst,bmpdstdata.Stride,
                    roi, new IppiSize(ksize,ksize), new IppiPoint(half,half)});
        ...};

    };
};</code></pre>
</div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_signal_processing">Signal Processing</h2>
<div class="sectionbody">
<div class="sect3">
<h4 id="_signal_processing_functions_sample_for_windows">Signal Processing Functions Sample for Windows*</h4>
<div class="paragraph"><p>The Intel&#174; IPP Signal Processing Functions Sample represents the
work of Intel&#174; IPP signal processing functions. Almost all <em>ippSP</em> library
functions and a half of <em>ippCH</em> library functions are implemented
here.</p></div>
<div class="paragraph"><p>The sample is MFC application with the corresponding workspace and
project files for various Microsoft* Visual Studios, which can be generated by
<a href="#execute_build_script">build procedure</a>.</p></div>
<div class="ulist"><div class="title">Intel&#174; IPP Functions used in the sample</div><ul>
<li>
<p>
<em>ippCore</em> library functions for data allocation and for error handling.
</p>
</li>
<li>
<p>
<em>ippSP</em> (Signal Processing) library functions for signal processing.
</p>
</li>
<li>
<p>
<em>ippCH</em> (Character Processing) library functions for string processing.
</p>
</li>
</ul></div>
<div class="paragraph"><div class="title">Running the Sample</div><p>When built, windows application <em>ippsdemo.exe</em> is appeared in <a href="#build_target_dir">target directory</a>. Run this application and follow instructions below.</p></div>
<div class="paragraph"><div class="title">How to process a signal</div><p>At the very beginning signal with default data is already opened. You
can process this signal or you may open .wav file by <em>File\Open</em> menu
command or create new signal by <em>File\New Signal</em> menu command.
If you need to filter signal by <em>FIR</em> or <em>IIR</em> functions you should also
create filter coefficients document by <em>File\New Taps</em> menu command.
If you want to process text you should open .txt file by <em>File\Open</em>
menu command or create new document by <em>File\New String</em> menu command.</p></div>
<div class="paragraph"><p>Every document may be represented in two views: <em>plot view</em> and <em>digital
view</em> (in this view you can see vector values and change them). Vectors
with <code>Ipp8u</code> data may be also represented in the third view: <em>character
view</em>. You can create absent view or switch from one document view to another by
<em>Window\Plot Window</em>, <em>Window\Digital Window</em> and
<em>Window\CharWindow</em> menu commands or by corresponding context menu
commands and Tool Bar buttons.</p></div>
<div class="paragraph"><p>You will see vector type at the document title bar. To view all
active vector attributes select <em>File\Properties</em> from the menu or
<em>Properties</em> from the context menu.</p></div>
<div class="paragraph"><p>To begin active vector processing select the command <em>Process by</em>
from the <em>Process</em> menu, from the context menu, or from the toolbar.</p></div>
<div class="paragraph"><p>Choose a function for the active vector processing.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">You cannot see the full list of Intel&#174; IPP functions, but only functions that can
be applied to the active vector. If some Chapter or Operation is grayed
it means that all Intel&#174; IPP functions of this section cannot process the
active vector.</td>
</tr></table>
</div>
<div class="paragraph"><p>After Intel&#174; IPP function selection click on the <em>OK</em> button.</p></div>
<div class="paragraph"><p>An active vector will be the first source vector for the chosen
function according to its prototype. If the function requires several
source vectors, then you have to select these vectors one by one with
the mouse. If the cursor has the "<em>arrow and brief vector name</em>" shape,
then it means the selection mode. If the cursor has the "<em>brief vector
name without arrow</em>" shape, then it means that the document under the
cursor may be selected. Click left mouse button to select the vector.</p></div>
<div class="paragraph"><p>You can carry out a lot of actions while selection mode is on. You
may open another vector or you can stop processing by <em>Process\Stop
Processing</em>  menu command.</p></div>
<div class="paragraph"><p>When all vectors are selected, the dialog box appears with the
specific Intel&#174; IPP function arguments, if any. Set these arguments and click
on the <em>OK</em> button.</p></div>
<div class="paragraph"><p>The Intel&#174; IPP function will be applied to the source vectors and the
destination vectors will be created. The name of applied function will
be in the destination document title. Detailed information about Intel&#174; IPP
function call will be added to the destination document history.</p></div>
<div class="paragraph"><p>To view the history of  the active document, select <em>File\History</em>
from the menu, or <em>History</em> from the context menu. History contains
information of  the chain of Intel&#174; IPP functions that resulted in this
vector. A presentation of each Intel&#174; IPP function has the following format:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>&lt;source vector name&gt;
[&lt;source vector name&gt;]
      &lt;Intel(R) IPP function name&gt; ( &lt;arguments&gt; )   &lt;performance&gt;
&lt;destination vector name&gt;</code></pre>
</div></div>
<div class="paragraph"><p><em>&lt;destination vector name&gt;</em> of the previous function is at the
same time <em>&lt;source vector name&gt;</em> of the next function.</p></div>
<div class="paragraph"><p>Performance result of Intel&#174; IPP function is put to vector history if <em>Timing
mode</em> is on. Use <em>Options\Timing</em> menu command to set this mode.</p></div>
<div class="paragraph"><p>You can save resultant vector to .wav file by <em>File\Save as</em> menu
command. You can also save <code>Ipp8u</code> vector to .txt file by the same
command.</p></div>
<div class="ulist"><div class="title">File commands</div><ul>
<li>
<p>
<em>File\New Signal&#8230;</em> menu command displays dialog with signal
parameters. Signal data is set by <em>ippSP</em> vector initialization
functions. Specify parameters that you want, click on <em>OK</em> button and new
signal document with the plot view will be created.
</p>
</li>
<li>
<p>
<em>File\New Taps&#8230;</em> menu command displays dialog with filter
coefficients vector parameters. Taps data may be set by <em>ippSP FIR</em>
generation functions. Specify parameters that you want, click on <em>OK</em>
button and new taps document with the digital view will be created.
</p>
</li>
<li>
<p>
<em>File\New String</em> menu creates empty string document with the
character view.
</p>
</li>
<li>
<p>
<em>New</em>  button in toolbar creates new vector with the same properties
and with the same view as the last created vector.
</p>
</li>
<li>
<p>
<em>File\Open&#8230;</em> menu command or <em>Open</em> button in toolbar display
standard <em>Open</em> dialog for .wav or .txt files. If you select .wav file
then a document with the plot view will be opened. If you select .txt
file then a document with the character view will be opened.
</p>
</li>
<li>
<p>
<em>File\Close</em> menu command closes active document and all its views.
</p>
</li>
<li>
<p>
<em>File\Save as&#8230;</em> menu command or <em>Save as</em> button in toolbar
display standard <em>Save as</em> dialog for .wav files (and .txt files if
active vector type is <code>Ipp8u</code>).
</p>
</li>
<li>
<p>
<em>File\Signed</em> menu command or <em>Signed</em> button in toolbar allows user
to consider active vector data as <code>signed</code>  or <code>unsigned</code>.  The view of the
vector and its properties will be changed. Vector data will not be
changed.
</p>
</li>
<li>
<p>
<em>File\Properties&#8230;</em> menu command or <em>Properties&#8230;</em> context menu
command displays active vector properties.
</p>
</li>
<li>
<p>
<em>File\History&#8230;</em> menu command or <em>History&#8230;</em> context menu command
displays active vector history as the chain of Intel&#174; IPP function calls.
</p>
</li>
<li>
<p>
<em>File\Exit</em> menu command exits <em>ippSP Demo</em>.
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">View commands</div><ul>
<li>
<p>
<em>View\X Axis</em> menu command shows and hides x-axis in plot views.
</p>
</li>
<li>
<p>
<em>View\Y Axis</em> menu command shows and hides y-axis in plot views.
</p>
</li>
<li>
<p>
<em>View\Grid</em> menu command shows and hides grid in plot views.
</p>
</li>
<li>
<p>
<em>View\Toolbar</em> menu command shows and hides Tool Bar.
</p>
</li>
<li>
<p>
<em>View\Status Bar</em> menu command shows and hides Status Bar.
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Edit commands</div><ul>
<li>
<p>
<em>Edit\Insert&#8230;</em> menu command force on character views only. It
displays dialog for inserting special symbols to string.
</p>
</li>
<li>
<p>
Other commands are standard edit commands. They force on digital and
character views.
</p>
</li>
</ul></div>
<div class="paragraph"><div class="title">Zoom commands</div><p>These commands force on plot views only.</p></div>
<div class="ulist"><ul>
<li>
<p>
<em>Zoom\Heighten</em> menu command, <em>Heighten</em> context menu command or
<em>Heighten</em> toolbar button increase an active plot height.
</p>
</li>
<li>
<p>
<em>Zoom\Lower</em> menu command, <em>Lower</em> context menu command or <em>Lower</em>
toolbar button decrease an active plot height.
</p>
</li>
<li>
<p>
<em>Zoom\Widen</em> menu command, <em>Widen</em> context menu command or <em>Widen</em>
toolbar button increase an active plot width.
</p>
</li>
<li>
<p>
<em>Zoom\Narrow</em> menu command, <em>Narrow</em> context menu command or <em>Narrow</em>
toolbar button decrease an active plot width.
</p>
</li>
<li>
<p>
<em>Zoom\Fit for Standard</em> menu command, <em>Fit for Standard</em> context menu
command or <em>Fit for Standard</em> toolbar button zoom an active plot to
the standard size.
</p>
</li>
<li>
<p>
<em>Zoom\Fit for Current</em> menu command or <em>Fit for Current</em> toolbar
button zoom an active plot to current window size that has been changed
by user to wishful width and height.
</p>
</li>
<li>
<p>
<em>Zoom\Fit for Height</em> menu command makes an active plot height as the
main window height.
</p>
</li>
<li>
<p>
<em>Zoom\Fit for Width</em> menu command makes an active plot width as the
main window width.
</p>
</li>
<li>
<p>
<em>Zoom\Custom Zoom&#8230;</em> menu command displays <em>Zoom Signal</em> dialog to
scale the active plot by user coefficients.
</p>
</li>
<li>
<p>
<em>Zoom\Zoom All as Active</em> menu command or <em>Zoom All as Active</em>
context menu command scale all opened plots by the scale coefficients
of the current plot. This command may be used for visual comparison.
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Process commands</div><ul>
<li>
<p>
<em>Process\Process by&#8230;</em> menu command,  <em>Process by&#8230;</em> context menu
command or <em>Process by</em> toolbar button display dialog that starts
active vector processing by Intel&#174; IPP function.
</p>
</li>
<li>
<p>
<em>Process\Stop Processing</em> menu command,  <em>Stop Processing</em> context
menu command or <em>Stop Processing</em> toolbar button cancel vector
processing.
</p>
</li>
<li>
<p>
<em>Process&lt;IPP function name&gt;</em> menu command or  <em>&lt;IPP function name&gt;</em>
context menu command apply one of the four last called functions to the
active vector. Note, that some names may be grayed if these functions
cannot process the active vector.
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Options commands</div><ul>
<li>
<p>
<em>Options\Timing&#8230;</em> menu command displays <em>Timing Options</em> dialog.
Here you can order timing of the Intel&#174; IPP function and choose the timing
method.
</p>
</li>
<li>
<p>
<em>Options\Color&#8230;</em> menu command displays <em>Set Graphic Colors</em> dialog.
Here you can tune the background and foreground color for plot and
axis.
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Window commands</div><ul>
<li>
<p>
<em>Window\Plot Window</em> menu command, <em>Plot Window</em> context menu command or <em>Plot Window</em>
toolbar button put focus to the active document plot view. If this window does not
exist, it will be created.
</p>
</li>
<li>
<p>
<em>Window\Digital Window</em> menu command, <em>Digital Window</em> context menu
command or <em>Digital Window</em> toolbar button put focus to the active
document digital view. If this window does not exist, it will be
created.
</p>
</li>
<li>
<p>
<em>Window\Char Window</em> menu command, <em>Char Window</em> context menu command
or <em>Char Window</em> toolbar button put focus to the active document
character view. If this window does not exist, it will be created.
</p>
</li>
<li>
<p>
Other window commands are standard.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_string_processing">String Processing</h2>
<div class="sectionbody">
<div class="sect3">
<h4 id="_ippgrep_sample_for_windows">Ippgrep Sample for Windows*</h4>
<div class="paragraph"><p>The <em>ippgrep</em> sample demonstrates how to use functions that perform
matching operations with the Perl-compatible regular expression
patterns provided by Intel&#174; IPP String Manipulations domain. The set of functions that
perform matching operations with the Perl-compatible is used in this sample.</p></div>
<div class="paragraph"><div class="title">Running the Sample</div><p>Before running the sample on specific OS make sure the environment is <a href="#run_win">correct</a>.</p></div>
<div class="paragraph"><p>The <em>ippgrep</em> sample searches lines containing a match to the given
pattern in listed input files. If no files are listed then standard
input is used. By default <em>ippgrep</em> prints matching lines.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>Usage: ippgrep [OPTIONS] PATTERN [FILES...]</code></pre>
</div></div>
<div class="paragraph"><p>Without command line arguments, a executable file only produces the
usage screen and then exits. To provide the proper functionality, the
command-line arguments should be used. The arguments sequence does
matter.</p></div>
<div class="paragraph"><p>The <em>ippgrep</em> sample understands the following options:</p></div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="80%" />
<thead>
<tr>
<th align="left" valign="top">Option </th>
<th align="left" valign="top"> Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><em>-f file</em></p></td>
<td align="left" valign="top"><p class="table">Read the pattern from file.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>-V</em></p></td>
<td align="left" valign="top"><p class="table">Print information about base ippch library.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>-c</em></p></td>
<td align="left" valign="top"><p class="table">Suppress normal output; instead print a count of matching lines for each
input file. With the <em>-v</em> option - counts nonmatching lines.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>-l</em></p></td>
<td align="left" valign="top"><p class="table">Suppress normal output; instead print the name of each input file from
which output would normally have been printed.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>-h</em></p></td>
<td align="left" valign="top"><p class="table">Suppress the prefixing of filenames on output when multiple files are
searched.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>-i</em></p></td>
<td align="left" valign="top"><p class="table">Ignore case distinctions.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>-n</em></p></td>
<td align="left" valign="top"><p class="table">Prefix each line of output with the line number within its input file.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>-s</em></p></td>
<td align="left" valign="top"><p class="table">Suppress error messages.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>-v</em></p></td>
<td align="left" valign="top"><p class="table">Select non-matching lines.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>-x</em></p></td>
<td align="left" valign="top"><p class="table">Select only those matches that exactly match the whole line.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">
<div class="paragraph"><div class="title">Known Limitations</div><p>The current version of the Intel&#174; IPP functions for regular
expressions have some limitations, specifically they do not support literals:</p></div>
<div class="ulist"><ul>
<li>
<p>
metacharacters <em>\l, \L, \u, \U, \N{name}</em>
</p>
</li>
<li>
<p>
embedded Perl code <em>?{code}</em>
</p>
</li>
<li>
<p>
extended regular expression <em>??{code}</em> and
</p>
</li>
<li>
<p>
all metacharacters for working with Unicode.
</p>
</li>
</ul></div>
</td>
</tr></table>
</div>
</div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
</div>
</div>
</body>
</html>
